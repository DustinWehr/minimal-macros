/*
 Modernizr 3.0.0pre (Custom Build) | MIT
*/
'use strict';(function(k){function c(m){if(a[m])return a[m].f;var h=a[m]={f:{},id:m,loaded:!1};k[m].call(h.f,h,h.f,c);h.loaded=!0;return h.f}var a={};c.CP=k;c.nL=a;c.p="";return c(0)})([function(k,c,a){a(2);a(3);a(334);a(335);a(336);a(338);a(340);a(342);k.f=a(9)},,function(k,c,a){var m=a(3),h=a(314),f=a(7),l=a(322),n=a(9),g=a(8),b=a(14),d=a(302),e=a(325);window.setTimeout(function(){h.Me.XC();window.structure_together=window.structure_together||{};window.structure_together.renderFromTop=function(){f.dlogcat(n.LogTypes.Yo,
"renderFromTop not yet set by DocController.")};window.syncing_data={widgets:{rtInMemCheckbox:function(){return b.stwidgets.rtInMemCheckbox},loadFileIdTextInput:function(){return b.stwidgets.loadFileIdTextInput}},populateFileList:d.populateFileList};m.STApp.the=new m.STApp;window.structure_together.sapp=m.STApp.the;window.structure_together.googleJsonToSTData=g.googleJsonToSTData;window.structure_together.inEditMode=function(){return m.STApp.the.Ef!==n.Da.vd};m.STApp.the.start();l.nD();d.YG();window.structure_together.debug.tests&&
e.yH()},300)},function(k,c,a){function m(a){a=a||p.stwidgets.languageSelect.value;var b=structure_together.languageModules[a];if(!b)throw Error("Need to register Language "+a+" in structure_together.languageModules (see initializeGivenOrUIChosenLanguage).\nRemember to add ts file to webpack config.");b.ensureInitialized();return b.lang}function h(){return"st_doc_"+Math.random().toString()}var f=a(4),l=a(5),n=a(7),g=a(272),b=a(264),d=a(290),e=a(298),p=a(14),u=a(302),r=a(249),v=a(9),x=a(8),t=a(259),
y=a(297),A=a(311),z=a(313),C=a(265);c.tO=m;var B={streference:{lang:"structured-text",format:"googlejson",path:"../../misc-non-code/local_json_doc_backups/streference.google.json",filename:"Structure Together Reference"},lh:{lang:"ifpdmock",format:"googlejson",path:"../../misc-non-code/local_json_doc_backups/lh_arg_for_demo_latest.g.json",filename:"LH demo"},lewis:{lang:"ifpdmock",format:"googlejson",path:"../../misc-non-code/local_json_doc_backups/lewis_dialogue_for_demo2.g.json",filename:"lewis demo 2"},
firstgenesis:{lang:"firstgenesis",format:"shortjson",path:"../acc-fg-nogoog/firstgenesis.json",filename:"firstgenesis-demo",lI:v.Da.ze,wo:function(){$("#add-missing-mutids").hide();$("#reduceConstants").hide();$("[for=reduceConstants]").hide();$("#copy-json-to-clipboard-button").hide();$("#paste-json-from-clipboard-container").hide()}}},E=function(){function a(){var d=this;this.Fd=new Map;this.dv=new Map;this.T=new (function(){function a(a){this.NE=a;this.bk=this.Dn=null}Object.defineProperty(a.prototype,
"id",{get:function(){return this.Dn},set:function(a){if(this.Dn=a){var b=this.NE(a);b||n.derr("Failed to get STNode from node id: ",a);this.bk=b}else this.bk=null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"node",{get:function(){return this.bk},set:function(a){this.bk=a;this.Dn=f.R(a)?a.c:null},enumerable:!0,configurable:!0});return a}())(function(a){return d.Be.G(a)});this.Ye={Rs:function(a,e){e&&e.js&&e.js(a);d.T.id=null;d.C&&d.bj();new g.Kf(a,b.Gf.Pe,d.dv,r.DEFAULT_PLUGINS);
d.C.Ba(!0,1);e&&e.hs&&e.hs(a)},pI:function(a,b,e,g){void 0===g&&(g=!0);n.assert_nt(a,b);n.dlog("This is the SyncingDocument:",a);n.dlog("This is its SyncingModel:",a.getModel());a=d.nr(a,b);g&&(d.qk=a.stdocid);x.MG(a.rootmap,a.O.name);a.rootmap.has(l.cm.Qe)||(a.EE(),a.kb(a.top,!0));try{a.Ir()}catch(K){n.derr("Exception in buildSTDocWrapperRecursivelyFromSTDocData in whenNewSyncingDocumentReadyForUIEdits:",K)}g&&d.Ye.Rs(a,e)},pp:function(a,b,e,g){void 0===g&&(g=!0);var c=x.eC(a.getModel().getRoot());
f.F(c)&&console.error("No _language_id found in the document data. Will try to use the currently selected language in GUI.");a=d.nr(a,b,c);g&&(d.qk=a.stdocid);try{a.Ir()}catch(L){console.error("Exception in buildSTDocWrapperRecursivelyFromSTDocData in whenExistingSyncingDocumentReadyForUIEdits:",L)}g&&d.Ye.Rs(a,e)}};f.cl(a,this)}Object.defineProperty(a.prototype,"controller_of_main_display_wstdoc",{get:function(){return g.Kf.the},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"userMode",
{get:function(){return p.stwidgets.userModeInput.getValue()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"last_loaded_wstdoc",{get:function(){return this.Fd.get(this.ki)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"main_display_wstdoc",{get:function(){return this.Fd.get(this.qk)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"main_display_rstdoc",{get:function(){return this.Fd.get(this.qk)},enumerable:!0,configurable:!0});a.prototype.jk=
function(a){n.assert_nt(a);return this.Fd.get(a)};a.prototype.fH=function(){return 0<this.Fd.size};a.prototype.en=function(){return null!=this.C};a.prototype.XF=function(){if(this.qk){var a=this.Z.stdocid,b=this.Z.XS;b?(b.removeAllEventListeners(),(b=b.getModel())?(b.removeAllEventListeners(),(a=b.getRoot())&&a.removeAllEventListeners&&a.removeAllEventListeners()):n.uc("Didn't call SyncingModel's removeAllEventListeners method for file id "+a+" because syndoc.getModel() was trivial")):n.uc("Didn't call SyncingDocument and SyncingModel removeAllEventListeners methods for file id "+
a+" because apparently I already removed it from _open_syncing_docs")}};a.prototype.bj=function(){n.Vj("This method is problematic when switching active persistence model, since this.filesmanager will already have been switched.");this.XF();this.C&&this.C.destroy()};a.prototype.start=function(){var a=this;this.RA();u.sp?(n.dlogcat(v.LogTypes.Yo,"widgets_loaded is true. calling STApp.loadOrChangePersistenceModel"),this.Td(!0)):(n.dlogcat(v.LogTypes.Yo,"widgets_loaded is false. pushing STApp.loadOrChangePersistenceModel onto gui-startup callback stack"),
u.afterWidgetsLoaded.push(function(){return a.Td(!0)}));structure_together.demo_mode?this.fy():structure_together.fg_mode&&this.gy()};a.prototype.gy=function(){function a(){p.stwidgets.userModeInput.setValue(v.Da.ze);B.firstgenesis.wo();p.stwidgets.languageSelect.value="firstgenesis";m("firstgenesis");p.stwidgets.newFileNameTextInput.setValue("WhitingHierarchy.0");var a=b.appdata.Cn("WhitingHierarchy.0");null!=a&&"null"!=a&&"undefined"!=a?(console.warn("Id for WhitingHierarchy.0 found. Will try to load it. Id is "+
a+"."),p.stwidgets.loadFileIdTextInput.setValue(a),b.ri(a,!0)):(console.warn("Id for WhitingHierarchy.0 NOT found. Will create a new file from the json file stored at path ../acc-fg-nogoog/WhitingHierarchy.0.json."),C.wt("../acc-fg-nogoog/WhitingHierarchy.0.json",function(a){b.eo(a,!0,"shortjson");a=x.Jn(a);b.il(a,"WhitingHierarchy.0");b.Ka.lf(a,!0)}))}var b=this;u.sp?a():u.afterWidgetsLoaded.push(a)};a.prototype.fy=function(){var a=structure_together.url_params.demo,b=this,d="string"===typeof a?
[a]:a;u.afterWidgetsLoaded.push(function(){var a=B[d[0]];a.wo&&a.wo();p.stwidgets.userModeInput.setValue(a.lI||v.Da.vd);b.Td(!1,v.Bb.Bd);a=a.lang;p.stwidgets.languageSelect.value=a;m(a);d.forEach(function(a,d){var e=B[a];e.ld&&console.warn("Need to put the referred-to file in the URL params... except even then it's broken apparently");var g=e.filename,c=!1,f=b.appdata.Cn(g);structure_together.demo_load_prev?null!=f&&"null"!=f&&"undefined"!=f&&(console.warn("id for "+a+" NOT found. will create new local storage entry from json file."),
c=!0):(console.warn("structure_together.demo_load_prev is false, so won't try to load previous saved version (if any)\nTODO: delete old versions."),c=!0);c?C.wt(e.path,function(a){console.log("Got the json");"shortjson"===e.format?(b.eo(a,0===d,"shortjson"),a=x.Jn(a)):(b.eo(a,0===d,"googlejson"),a=x.Fs(a));n.assert_nt(a);b.il(a,g);b.Ka.lf(a,!0)}):(console.warn("document found in local storage from previous run of this demo for demo key "+a+". file id is: ",f),b.ri(f,0===d))});1<d.length&&(console.warn("Multiple demo keys",
d),f.rF(function(){return null!=b.C},function(){b.C.reload()}))})};a.prototype.Td=function(b,g){n.dwarncat(v.LogTypes.Ld,"entering persistenceModuleLoadOrChange(force="+b+", persistType="+g+")");g?p.stwidgets.modelImplemSelect.value!==g&&(n.dwarncat(v.LogTypes.Ld,"GUI form for persistType not set or not set to persistenceModuleLoadOrChange param value, so setting it to "+g),p.stwidgets.modelImplemSelect.value=g):(g=p.stwidgets.modelImplemSelect.value)?n.dwarncat(v.LogTypes.Ld,"persistType = "+g+" taken from GUI form"):
(g=v.Bb.Bd,n.dwarncat(v.LogTypes.Ld,"No persistType arg to persistenceModuleLoadOrChange and no value in GUI form, so setting to "+g+" by default"));if(!b){var c=!1;switch(g){case v.Bb.Bd:c=this.qu===g&&this.appdata&&this.appdata===this.Fh&&this.Ka&&this.Ka===this.An&&this.appdata.et();break;case v.Bb.jh:c=this.qu===g&&this.appdata&&this.appdata===this.Gh&&this.Ka&&this.Ka===this.Bn&&this.appdata.et()}if(c){n.dlog("Skipping persistenceModuleLoadOrChange because force === false, appropriate things already loaded, and <STApp>.appdata <STApp>.filesmanager appropriately set.");
return}}this.bj();this.qu=g;var l;structure_together.autoload&&(structure_together.demo_mode||this.fH()?n.uc("Won't autoload because in demo mode or some file id already loaded"):l=function(){var b=p.stwidgets.loadFileIdTextInput.getValue();f.Ui(b)?n.uc("Can't autoload because stwidgets.loadFileIdTextInput.getValue() is trivial"):a.the.ri(b,!0)});switch(g){case v.Bb.jh:if(!window.gapi){alert("WARNING: gapi is not defined, so setting persistence model to "+v.Bb.Bd+" and recalling <STApp>.persistenceModuleLoadOrChange");
this.Td(b,v.Bb.Bd);break}this.appdata=this.Gh=this.Gh||new A.jx;this.Ka=this.Bn=this.Bn||new e.dm(this.Gh);this.Gh.Pd(l);$(".google-realtime-specific-forms").show();break;case v.Bb.Bd:this.appdata=this.Fh=this.Fh||new z.iq,this.Ka=this.An=this.An||new d.Hw(this.Fh),this.Fh.Pd(l),$(".google-realtime-specific-forms").hide()}};a.prototype.nr=function(a,b,d){n.assert_nt(a,b);window.YS=a;this.Ka.Go(b,a);this.oB(a.getModel().getRoot(),b);this.ki=b;d=m(d);n.dlogcat("load-file-progress","Language is "+d.name);
var e=this.appdata.lC(b),g=this.Fd.get(b);g?n.dwarn("WritableSTDoc for "+b+" already created. Not creating another one to prevent memory leak (though maybe should to reset errors)."):g=new l.Pq(d,a,b,e,this.appdata.appDataDoc);n.dwarn("Adding STDoc to map of open STDocs:",b,g);this.Fd.set(b,g);p.stwidgets.loadFileIdTextInput.setValue(b);return g};a.prototype.wk=function(a){var b=this;n.assert_nt(this.Ka);a.di&&this.en()&&(n.dwarn("Controller already loaded. Will try to unload."),this.bj());var d=
a.filename||p.stwidgets.newFileNameTextInput.getValue();this.Ka.Qt(d,function(d,e){return b.Ye.pI(d,e,a,a.di)},a.WC,h)};a.prototype.ri=function(a,b){var d=this;void 0===b&&(b=!0);n.assert_nt(this.Ka);b&&this.en()&&(n.dwarn("Controller already loaded. Will try to unload."),this.bj());f.F(a)&&(a=p.stwidgets.loadFileIdTextInput.getValue());this.Fd.has(a)?(n.dwarn("STDoc with id "+a+" already loaded. Skipping to whenExistingSyncingDocumentReadyForUIEdits."),this.Ye.pp(this.Ka.ug(a),a,null,b)):this.Ka.yt(a,
function(a,e){return d.Ye.pp(a,e,null,b)})};a.prototype.eo=function(a,b,d){var e,g=this;void 0===b&&(b=!0);n.assert_nt(this.Ka,d);var c="googlejson"===d?x.Fs(a):x.Jn(a);n.dassert(!c||!e);c&&(e=c);e||(e=h());b&&this.en()&&(n.dwarn("Controller already loaded. Will try to unload."),this.bj());try{n.dwarn("Trying to load from json"),this.ki=e,this.Ka.MD(e,a,d,function(a,d){return g.Ye.pp(a,d,null,b)})}catch(L){throw console.error("Exception calling FilesManager.loadPersistentSyncingDocumentFromJson, BUT not clearing STApp.last_loaded_docid ",
L),L;}};a.prototype.RA=function(){var a=this;t.TAB_LEVEL_PLUGIN_CLASSES.forEach(function(b,d){var e=t.plugin_switches.get(d+"Checkbox");n.assert_nt(e);e.enabled()&&(n.dlogcat(v.LogTypes.sd,"Creating tab-level Plugin object for "+d+" from STApp."),a.dv.set(d,new b(e)))})};a.prototype.oB=function(a,b){n.assert_nt(a);a.has(v.SystDocPropNames.Yd)||(b=b||h(),a.set(v.SystDocPropNames.Yd,b),n.dwarn("Assigned new storage_and_version_indep_doc_id:",b),n.dlog("The map now:",a),f.R(this.Ka.lf)&&this.Ka.lf(b,
!0));n.dassert("string"===typeof a.get(v.SystDocPropNames.Yd))};a.prototype.il=function(a,b){a=a||this.ki;if(f.F(b))try{b=this.Fd.get(a).Nn()}catch(H){n.derr("Error trying to get STDoc title for STDoc id "+a);return}n.dwarn("THIS METHOD MIGHT BE OBSOLETE");try{n.dlog("storing doc title "+b+" with fileid "+a),this.appdata.lr(a,b),this.appdata.Vg()}catch(H){throw console.error("Error trying to retrieve current fileid or doc title"),H;}};return a}();c.STApp=E;c.YP=h;c.yG=function(a){n.assert_nt(a);y.Tu(a,
E.the.BD.rootmap);var b=new z.iq;b.Pd();b.lr(a,E.the.BD.Nn());b.Vg();b.Pd()}},function(k,c){function a(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];Q.has(a)||(Q.add(a),console.warn("%cRemind once: "+a,window.zp,b))}function m(a,d){for(var e=[],c=2;c<arguments.length;c++)e[c-2]=arguments[c];if(!a){g(e)?console.error.apply(console,e):0<b(e)&&console.error(e);if(d)throw Error("Failed assertion %test%\n"+d+"\n");throw Error("Failed assertion %test%\n");}}function h(a,b){void 0===b&&
(b=!1);var d=b?"[ ":"[\n",e;for(e in a)d+=(b?"":"\t")+n(a[e],b)+","+(b?" ":"\n");return d+(b?" ]":"]")}function f(a,b){void 0===b&&(b=!1);var d=b?"{ ":"{\n";a.forEach(function(a){d+=(b?"":"\t")+n(a,b)+","+(b?" ":"\n")});return d+=b?" }":"}"}function l(a,b){void 0===b&&(b=!1);var d=b?"{ ":"{\n",e;for(e in a)d+=(b?"":"\t")+e+": "+n(a[e],b)+","+(b?" ":"\n");return d+(b?" ]":"]")}function n(a,b){void 0===b&&(b=!1);return a instanceof Set?f(a,b):a instanceof Array?h(a,b):"object"===typeof a?l(a,b):a.toString()}
function g(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return 1===b.apply(void 0,a)&&a[0]instanceof Array}function b(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var d=0;y.apply(void 0,[function(){d+=1}].concat(a));return d}function d(a,b){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];if(!a){d&&console.error(d);if(b){if("string"===typeof b)throw Error("Failed assertion: "+b);console.error(b);throw Error("Failed assertion (see prev line for non-string message)");
}throw Error("Failed assertion (no message provided)");}}function e(a,b){b.forEach(function(b){C(a,b)||a.push(b)})}function p(a){if(a instanceof Array){for(var b=Array(a.length),d=0;d<a.length;d++)b[d]=a[d];return b}if("object"===typeof a){var e={};Object.getOwnPropertyNames(a).forEach(function(b){e[b]=a[b]});return e}return a}function u(a,b){if(a instanceof Array)a.forEach(b);else if(a instanceof Set)a.forEach(b);else for(m(E(a,"next"));;){var d=a.next();if(d.done)break;b(d.value)}}function r(a){var b=
Array(a.size),d=0;a.forEach(function(a,e){b[d]=e;d++});return b}function v(a){return null===a||void 0===a}function x(a,b){if(a&&0!==a.length)for(var d=0;d<a.length;d++)b(a[d])}function t(a,b,d){a=a.slice();var e=[];if(d)for(var g=0;g<a.length;)if(a[g]==b[g])g+=1;else{for(d=g+1;a[g]!=b[d]&&d<b.length;)d+=1;e.push([g,d+1]);z(a,g,d+1);if(e.length>a.length)return null}else for(g=a.length-1;0<=g;)if(a[g]==b[g])--g;else{for(d=g-1;a[g]!=b[d]&&0<=d;)--d;e.push([g,d]);z(a,g,d);if(e.length>a.length)return null}return e}
function y(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];for(d=0;d<b.length;d++)a(b[d],d)}function A(a){if("name"in a)return a.name;var b=S.exec(a.toString());if(b)a=b[1];else if(a.name)a=a.name;else throw console.error("Failed trying to extract name of function with regex. Function: ",a),Error("Failed trying to extract name of function with regex.");return a}function z(a,b,d){d!=b&&(d<b?a.splice(d,0,a.splice(b,1)[0]):a.splice(d-1,0,a.splice(b,1)[0]))}function C(a,b){return-1!=a.indexOf(b)}
function B(a,b){for(var d=0;d<a.length&&!1!==b(a[d],d);d++);}function E(a,b){if(null===a||void 0===a)throw Error("First arg to objhas should not be null or undefined.");return b in a}function F(a,b){var d=null,e;for(e=0;e<a.length;e++)if(b(a[e])){if(null!==d)throw Error("findUniqueOrError(arr,pred) found multiple element of arr that satisfy pred.");d=e}if(null===d)throw Error("findUniqueOrError(arr,pred) found no element of arr that satisfies pred.");return d}function D(a,b){var d=[];a&&x(a.childNodes,
function(e){var g=e.nodeType;if(3==g)b&&!b(e,a)||d.push([e,a]);else if(1==g||9==g||11==g)d=d.concat(D(e,b))});return d}function G(a,b){var d=[];a&&x(a.childNodes,function(e){if(!b||b(e,a)){var g=e.nodeType;if(3==g)d.push([e,a]);else if(1==g||9==g||11==g)d=d.concat(G(e,b))}});return d}function H(a,b,d,e){void 0===e&&(e=!0);return a.replace(new RegExp(e?_.escapeRegExp(b):b,"g"),d)}function I(a,b,d,e){void 0===e&&(e=!0);b=e?_.escapeRegExp(b):b;return a.replace(new RegExp("\\b"+b+"\\b","g"),d)}function J(a,
b,d){d.fR&&(a="structure_together.local.file."+a);var e=localStorage.getItem(a);"string"!==typeof e?console.warn("Ignoring non-string stored in localStorage at key "+a):(b.forEach(function(a){a instanceof Array?e=d.iQ?H(e,a[0],a[1],!d.RE):I(e,a[0],a[1],!d.RE):console.error("WARNING!")}),localStorage.setItem(a,e))}var K=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=
b[d])};return function(b,d){function e(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}}(),L=new Set;c.Kb=function(a,b){L.has(a)||(L.add(a),b?console.warn(a,b):console.warn(a))};var Q=new Set;c.Vk=a;window.Vk=a;var N=new Map;c.Zi=function(a,b,d,e){void 0===e&&(e=!1);var g=N.get(a);if(!g&&(g={state:0,ao:window.performance.now()},N.set(a,g),!e)){b();return}0===g.state?(a=window.performance.now()-g.ao,a>d?(b(),g.state=0,g.ao=window.performance.now()):
(g.Kr=b,g.state=1,window.setTimeout(function(){g.Kr();g.state=0;g.ao=window.performance.now()},d-a))):g.Kr=b};c.rF=function(a,b){var d=0,e=window.setInterval(function(){d++;a()&&(window.clearInterval(e),console.log('polluntil(..., "first reload for multi-doc demos") exercised after '+d+" tests."),b());500<d&&window.clearInterval(e)},200)};c.dassert=m;k=function(){function a(a){void 0===a&&(a="");this.message=a;this.name=A(this.constructor)}a.prototype.toString=function(){return this.message?this.name+
"("+this.message+")":this.name};return a}();c.WI=k;var M=function(a){function b(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];var d=this,e="";b.forEach(function(a){e+=a.toString()+"\n"});return d=a.call(this,e)||this}K(b,a);return b}(k);c.vj=M;M=function(a){function b(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];var d=this,e="";b.forEach(function(a){e+="; "+a.toString()});return d=a.call(this,e)||this}K(b,a);return b}(k);c.Sw=M;var P=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}K(b,a);return b}(M);c.oc=P;var O=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}K(b,a);return b}(M);c.aK=O;O=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}K(b,a);return b}(M);c.Aw=O;M=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}K(b,a);return b}(M);c.eK=M;k=function(a){function b(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];var d=this,e="";b.forEach(function(a){e+="; "+a.toString()});
return d=a.call(this,e)||this}K(b,a);return b}(k);c.SJ=k;k=function(){function a(a,b){this.name="DWTypeError";this.message="Expected type "+A(b)+" but got some "+typeof a+"."}a.prototype.toString=function(){return this.name+", "+this.message};return a}();c.XI=k;c.lQ=function(a){return JSON.stringify(a)};c.Bo=function(a){return JSON.stringify(a,null,"\t")};c.yF=h;c.jR=f;c.iR=l;c.xF=n;c.kt=g;c.count=b;c.Ge=d;c.nf=function(a,b,d){if("string"!=typeof a||"string"!=typeof b)a instanceof Array&&b instanceof
Array?e(a,b):"object"===typeof a&&"object"===typeof b&&Object.getOwnPropertyNames(b).forEach(function(e){if(e in a){if(a[e]!=b[e]&&"0"!=e){var g=null;d&&(g=d(a[e],b[e]));if(null===g)throw void 0==d&&console.error("chooser not given. needed for "+e+", "+a[e]+", "+b[e]),new P("TO DO: Objects have different values for property "+e+", and either chooser() not given, or it returned null. The properties: "+g+", "+a[e]+", "+b[e]);a[e]=p(g)}}else a[e]=p(b[e])})};c.ZD=e;c.ZG=p;c.KR=function(a,b){var d;if(a.length<
b.length){for(d=0;d<a.length;d++)a[d]=b[d];for(d=a.length;d<b.length;d++)a.push(b[d]);return!0}if(a.length>b.length){for(d=0;d<b.length;d++)a[d]=b[d];for(d=b.length;d<a.length;d++)delete a[d];return!0}var e=!1;for(d=0;d<a.length;d++)e||a[d]===b[d]||(e=!0),a[d]=b[d];return e};c.cl=function(a,b){d(null==a.the,A(a)+" is a singleton class and you tried to create a second one before removing reference to first.");a.the=b};c.forEach=u;c.xD=function(a,b){for(;;){var d=a.next();if(d.done)break;b(d.value)}};
c.YO={qF:function(a){return _.toArray(a)},Cv:function(a,b,d){for(var e=[];;){var g=a.next();if(g.done)break;b(g.value)&&e.push(d(g.value))}return e},qI:function(a,b){for(var d=[];;){var e=a.next();if(e.done)break;b(e.value)&&d.push(e.value)}return d},Dv:function(a,b){for(var d=[];;){var e=a.next();if(e.done)break;d.push(b(e.value))}return d}};c.VD=r;c.WD=function(a){var b=Array(a.size),d=0;a.forEach(function(a){b[d]=a;d++});return b};c.Ht={qF:r,Cv:function(a,b,d){var e=[];a.forEach(function(a,g){b(g)&&
e.push(d(g))});return e},qI:function(a,b){var d=[];a.forEach(function(a,e){b(e)&&d.push(e)});return d},Dv:function(a,b){var d=Array(a.size),e=0;a.forEach(function(a,g){d[e]=b(g);e++});return d}};c.XO=function(a,b){for(var d;d=a.next();)if(b(d.value))return!0;return!1};c.WO=function(a){for(var b=0;;){var d=a.next();if(d.done)break;else d=Number(d.value),!isNaN(d)&&d>b&&(b=d)}return(b+1).toString()};c.F=v;c.R=function(a){return null!==a&&void 0!==a};c.Pz=function(a,b){b.forEach(function(b){a.push(b)})};
c.TK=function(a,b){for(var d=0;d<a.length;d++)if(!C(b,a[d]))return!1;return!0};c.RK=function(a,b){var d=new Map;a.forEach(function(a){var e=b(a),g=d.get(e);void 0!=g?g.push(a):d.set(e,[a])});return d};c.SK=function(a,b){if(!a||0===a.length)return!1;for(var d=0;d<a.length;d++)if(b(a[d]))return!0;return!1};c.cQ=x;c.pL=t;c.dA=function(a,b){var d=t(a,b,!0);a=t(a,b,!1);return d?!a||a.length>d.length?d:a:a};c.Bt=function(a,b){var d;void 0===d&&(d=!1);return function(e){b.push(e);d&&Object.getOwnPropertyNames(a).forEach(function(b){"length"!==
b&&"name"!==b&&"arguments"!=b&&"caller"!=b&&"prototype"!=b&&(e[b]=a[b])});Object.getOwnPropertyNames(a.prototype).forEach(function(b){"constructor"!==b&&(e.prototype[b]=a.prototype[b])})}};c.Ct=function(a){return function(b){for(var d=0;d<a.length;d++)if(b instanceof a[d])return!0;return!1}};c.Zf=function(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];for(d=0;d<b.length;d++)if(a===b[d])return!0;return!1};c.Um=y;c.Lz=function(a){a("shift+up",0);a("shift+down",1)};c.OK=function(a,b,
d,e){a(b,0);a(d,1);a(e,2)};c.zr=function(a,b,d,e,g){a(b,0);a(d,1);a(e,2);a(g,3)};var S=/function\s+([^\s\(]+)\s*\(/;c.functionName=A;c.Jj=function(a,b){d(b<a.length,"Tried to remove "+b+"-th child but there are not that many children.");try{a.splice(b,1)}catch(T){console.error("Exception try to mutate array:",a,"\nSealed?: ",Object.isSealed(a))}};c.Oz=function(a,b){d(b<a.length,"Tried to make a copy of the array with "+b+"-th child removed but there are not that many children.");try{var e=_.clone(a);
e.splice(b,1);return e}catch(V){throw console.error("Exception try to mutate array:",a,"\nSealed?: ",Object.isSealed(a)),V;}};c.Rz=function(a,b){b=a.indexOf(b);0<=b&&a.splice(b,1)};c.Qz=z;c.$f=function(a,b,d){a.splice(d,0,b)};c.jb=C;c.Mz=function(a,b){if(a.length!==b.length)return!1;B(a,function(a){return C(b,a)?!0:!1});B(b,function(b){return C(a,b)?!0:!1});return!0};c.Nz=function(a){var b=Array(a.length),d;for(d in a)b[d]=a[d];return b};c.QK=B;c.DQ=function(a,b){return null===a||void 0===a?b:a};
c.jQ=function(a){return null===a||void 0===a};c.Sd=function(a){return Object.getOwnPropertyNames(a)};c.au=function(a){return Object.getOwnPropertyNames(a).map(function(b){return a[b]})};c.fa=E;c.pQ=function(a,b){return null!=a&&b in a};c.sf=function(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];b.forEach(function(b){Object.getOwnPropertyNames(b).forEach(function(d){a[d]&&console.error("Target for object merging already has key "+d);a[d]=b[d]})});return a};c.zk=function(a,b){for(var d in a)b(d)};
c.WE=function(a,b){for(var d in a)b(a[d])};c.XE=function(a,b){var d=[],e;for(e in a)d.push(b(a[e]));return d};c.mQ=function(a){return Object.getOwnPropertyNames(a).length};c.nQ=function(a){var b=[],d;for(d in a)b.push([d,a[d]]);return b};c.YE=function(a){var b=[],d;for(d in a)b.push([d,d]);return b};c.SD=function(a,b){a=a.get(b);d(!v(a),"Key "+b.toString()+" is missing");return a};c.UD=function(a){var b=new Map;a.forEach(function(a,d){return b.set(d,a)});return b};c.TD=function(a,b,d){a.has(b)&&console.error("Assigning to a map key that was not supposed to have a value assigned yet",
b,a.get(b),d);a.set(b,d)};c.WP=function(a,b){for(var d in b){var e=b[d];if(e instanceof Object&&e.__esModule)for(var g in e)"__esModule"!==g&&"default"!==g&&(a[g]=e[g])}};c.h=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var d={};a.forEach(function(a){d[a[0]]=a[1]});return d};c.mE=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b={},d=a.length,e=0;e<d;e+=2)b[a[e]]=a[e+1];return b};c.ja=function(a,b){var d={};d[a]=b;return d};c.aN=F;c.bN=function(a,
b){return a[F(a,b)]};c.Ft=function(a,b,d){var e=a.get(b);e?e.push(d):a.set(b,[d])};c.ho=function(a,b,d){var e=a.get(b);e||(e=new Set,a.set(b,e));e.add(d)};c.ZE=function(a){if(a){var b={};Object.getOwnPropertyNames(a).forEach(function(d){a[d].forEach(function(a){b[a]=d})});return b}};c.oQ=function(a){if(a){var b={};Object.getOwnPropertyNames(a).forEach(function(d){a[d].forEach(function(a){b[a]?("string"===typeof b[a]&&(b[a]=[b[a]]),b[a].push(d)):b[a]=d})});return b}};c.LS=function(a,b){return-1!==
a.indexOf(b)};c.jH=function(a){return"Checkbox"===a.substr(a.length-8)};c.Ui=function(a){return null===a||void 0===a||""===a};c.GM=function(a){return null!=document.getElementById(a)};c.JG=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var d=new Set;a.forEach(function(a){d.add(a)});return d};c.RG=function(a,b){u(b,function(b){a.add(b)})};c.wu=function(a,b){m(0<=b&&!0,a+", 0, "+b);return v(a)||0>a?0:a>b?b:a};c.uC=D;c.tC=G;window.ON=D;c.mO=function(a,b,d){return a?"function"===
typeof b?b():b:"function"===typeof d?d():d};c.kH=H;c.MS=I;c.vP=function(a,b){if(v(a)||v(b.key)&&v(b.Bz))console.warn("Args: \n\t\tpairs: [string,string][], \n\t\to?:{ \n\t\t\tprependLocalStoragePrefix?: boolean, \n\t\t\tkey?:string, \n\t\t\tallFiles?:boolean, \n\t\t\tnotsafe?: boolean, \n\t\t\tnotOnlyWords?:boolean \n\t\t}");else if(b.key)J(b.key,a,b);else if(b.Bz)for(var d in localStorage)J(b.key,a,b);else console.warn("must supply key or allFiles=true")};c.wP=J;c.qp=function(a,b){for(var d=100;a()&&
0<d;)b(),d--;0===d&&console.error("INFINITE LOOP STOPPED BY whileLimit")};c.Zz=function(){return Object.create(null)}},function(k,c,a){function m(a,b,d){void 0===d&&(d=!1);if("string"===typeof b||"boolean"===typeof b||"number"===typeof b)return b;z.assert_nt(b.type);switch(b.type){case F.Mb.EditableString:return f(a,b);case F.Mb.Map:return l(a,b,d);case F.Mb.List:return h(a,b)}console.error("Error",b);return null}function h(a,b){for(var d=a.create.list(),e=0;e<b.length;e++)d.push(m(a,b.get(e)));return d}
function f(a,b){a=a.create.string();a.setText(b.getText());return a}function l(a,b,d){void 0===d&&(d=!1);var e=a.create.map();b.keys().forEach(function(g){"id"!=g?e.set(g,m(a,b.get(g),d)):z.derr("Can this happen?")});return e}function n(a){switch(typeof a){case "string":return F.be.immutstring;case "boolean":return F.be.bool;case "number":return F.be.num}throw new TypeError;}function g(a,c,f,l,h){void 0===h&&(h=!1);z.assert_nt(a,c,f);if("string"===typeof f||"boolean"===typeof f||"number"===typeof f)return h&&
l!==y.SystPropNames.nodetype?{type:"FlatPropLink",linked_nodeid:c.c,linkedPropType:n(f),label:l}:f;z.assert_nt(f.type);switch(f.type){case F.Mb.EditableString:return d(a,c,f,l,h);case F.Mb.Map:return e(a,c,f,l,h);case F.Mb.List:return b(a,c,f,0,h);case "FlatPropLink":var p=c.m.G(f.linked_nodeid);if(p)return z.dassert(null!=l),g(a,p,c.links.v(l),l,h)}console.error("Error",f);return null}function b(a,b,d,e,c){void 0===c&&(c=!1);e=a.create.list();if(!(b instanceof v.ua))return z.dlog("what? there is a bug here.",
d,b),null;for(var f=0;f<d.length;f++){var l=b.W(f);z.assert_nt(l);e.push(g(a,l,d.get(f),f,c))}return e}function d(a,b,d,e,g){void 0===g&&(g=!1);if(g)return{type:"FlatPropLink",linked_nodeid:b.c,linkedPropType:F.be.editstring,label:e};a=a.create.string();a.setText(d.getText());return a}function e(a,b,d,e,c){void 0===e&&(e=null);void 0===c&&(c=!1);var f=a.create.map(),l;d.keys().forEach(function(e){"id"!=e?(l=b,d.get(e),b.Od()&&b.Kd(e)&&(l=b.W(e)),f.set(e,g(a,l,d.get(e),e,c))):z.derr("Can this happen?")});
return f}function p(a){return!u(a,function(a){return!a.ea.mb(y.SystPropNames.Ii)||!a.ea.v(y.SystPropNames.Ii)})}function u(a,b){if(!1===b(a))return!1;a instanceof v.ua&&a.pd(function(a){return!1===u(a,b)?{val:!1,wb:!1}:{val:!0,wb:!0}});return!0}var r=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return function(b,d){function e(){this.constructor=b}a(b,d);b.prototype=
null===d?Object.create(d):(e.prototype=d.prototype,new e)}}(),v=a(6),x=a(4),t=a(13),y=a(9),A=a(8),z=a(7),C=a(14),B=a(3),E=a(254),F=a(10),D=a(255),G=a(257),H=a(258),I=function(){function a(b,d,e,g,c){var f=this;this.Vt=0;this.D={node_clipboard:null,use_linking_on_paste:!1,filtering_nodes:!1,ah:null,detachedSyncingObjects:new Set};this.cache={permid2node:new Map,parentOf:new Map,KQ:new Map,containingNode:new Map,numid2id:new Map,subtreeHasFlatPropLink:new Set,Au:new Map};this.Ma=new D.lx(this);this.X=
{sg:function(a){var b=[];f.cache.permid2node.forEach(function(d){f.O.yb(d.nodetype,v.tb.nodetype_name)&&a(d)&&b.push(d)});return b},gk:function(a){var b=[];f.cache.permid2node.forEach(function(d){a(d)&&b.push(d)});return b},ng:function(a,b){b instanceof v.ua&&b.pd(function(b){f.X.og(a,b)})},og:function(a,b){a(b);b instanceof v.ua&&b.pd(function(b){f.X.og(a,b)})},OB:function(a,b){b instanceof v.ua&&b.pd(function(b){f.X.og(a,b)});a(b)},zs:function(a,b){var d=a(b);if(d&&!d.wb)return d;if(b instanceof
v.ua){var e=!0;return b.pd(function(b){return e&&(b=f.X.zs(a,b))&&!b.wb?(e=!1,b):null})}return null},hc:function(a){f.cache.permid2node.forEach(function(b){a(b)})},ys:function(a){f.cache.permid2node.forEach(function(b){f.O.yb(b.nodetype,v.tb.nodetype_name)&&a(b)})},NB:function(a){f.cache.permid2node.forEach(function(b){b instanceof v.qa&&a(b)})},MB:function(a){for(var b=f.cache.permid2node.values();;){var d=b.next();if(d.done)break;if((d=a(d.value))&&!d.wb)return d.val}return null},xs:function(a,
b,d){void 0===d&&(d={});if(!d.postorder_exec){var e=b(a);if(e&&!e.wb)return e}e={r2l:d&&d.r2l};d.previous_siblings_only&&(e.bv=a);return a.parentNode&&((e=a.parentNode.pd(b,e))&&!e.wb||(e=f.X.xs(a.parentNode,b,{r2l:d.r2l,postorder_exec:d.postorder_exec}))&&!e.wb)?e:d.postorder_exec?b(a):null}};this.bb={$R:function(a){f.bb.hl(new Set(f.X.gk(function(b){return b.xa(a)})))},aS:function(a){f.bb.hl(new Set(f.X.gk(function(b){return a.some(function(a){return b.xa(a)})})))},Qu:function(a){x.Kb("t2pset: ",
f.Ma.Je.toString());var b=new Set,d=f.Ma.Je.get(a);d&&d.forEach(function(a){return b.add(f.G(a))});(a=f.Ma.Gj.get(a))&&a.forEach(function(a){a=f.G(a);b.add(a.parentNode)});if(0===b.size)return!1;z.dlog("referers: ",b);f.bb.Yu(b);return!0},zoom:function(a){f.D.ah=a;f.bb.DB(a)},np:function(){f.D.ah=null;f.bb.Sr()},DB:function(a){a=f.G(a);var b=new Set;b.add(a);a.Od()&&a.ng(function(a){b.add(a)});f.bb.Yu(b)},mS:function(a){var b=new Set;a.forEach(function(a){(a=f.G(a))&&b.add(a)});f.bb.hl(b)},Yu:function(a){f.bb.hl(a);
B.STApp.the.C.Ba(!1,2)},hl:function(a){var b=new Set;a.forEach(function(a){a&&a.En(function(a){b.add(a)})});a.forEach(function(a){return a.od()});f.X.hc(function(d){a.has(d)?d.D.filter_status=1:b.has(d)?d.D.filter_status=3:d.D.filter_status=2});f.D.filtering_nodes=!0},Rr:function(){z.dlog("clearSearch called");var a=!1;f.X.hc(function(b){a=a||x.R(b.D.filter_status)||1==b.D.temp_ch_expanded;delete b.D.filter_status;delete b.D.temp_ch_expanded});f.D.filtering_nodes=!1;return a},Sr:function(){f.bb.Rr()&&
B.STApp.the.C.Ba(!1,2)}};this.er=b;this.ir=d;this.upstate=new E.qx(e,g,c);this.stdocid=e;a.KE++}Object.defineProperty(a.prototype,"stlang",{get:function(){return this.er},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"syncdoc",{get:function(){return this.ir},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"sharedmodel",{get:function(){var a=this.ir.getModel();a||console.error("STDoc.sharedmodel called but this._syncdoc.getModel() returned null");return a},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"rootmap",{get:function(){return this.Jb.getRoot()},enumerable:!0,configurable:!0});a.prototype.canUndo=function(){return this.Jb.canUndo};a.prototype.canRedo=function(){return this.Jb.canRedo};a.prototype.hA=function(){z.dlog("entering clearCache");this.cache.permid2node.clear();this.cache.parentOf.clear();this.cache.containingNode.clear();this.cache.numid2id.clear();this.cache.subtreeHasFlatPropLink.clear();this.cache.Au.clear()};a.prototype.Nn=
function(){return this.top.Ns()};a.MC=function(a){return"string"===typeof a?a:a.c};a.prototype.Rc=function(a){return"string"===typeof a?this.G(a):a};a.prototype.Tz=function(a){a.bp=this.Vt;this.cache.numid2id.set(a.bp,a.c);this.Vt++};a.prototype.jf=function(a){return this.D.detachedSyncingObjects.has(a)};a.prototype.G=function(a){z.assert_nt(a);return this.cache.permid2node.get(a)};a.prototype.aF=function(a){z.assert_nt(a);return this.cache.permid2node.get(this.cache.numid2id.get(a))};a.prototype.vo=
function(a){z.assert_nt(a);var b=this.cache.parentOf.get(a.c);if(!x.F(b))return a.m.G(b)};a.prototype.Bk=function(a){z.assert_nt(a);a=this.cache.containingNode.get(a.id);return x.F(a)?null:this.G(a)};a.prototype.WF=function(a){z.assert_nt(a);z.dassert(null!=a.c,"Trying to register node that has no permid!");this.cache.permid2node.get(a.c)&&z.derr("Warning (not error, but do investigated): an STNode.STNode with id "+a.c+" is already registered. Will repalce it (which shouldn't lose any data).");this.cache.permid2node.set(a.c,
a)};a.prototype.Mi=function(a){z.assert_nt(a);z.dlogcat(y.LogTypes.wa,"Entering registerSyncingObject for uobj with id "+a.id);this.D.detachedSyncingObjects.add(a)};a.prototype.ke=function(a,b){var d=this;void 0===b&&(b=null);z.dlogcat(y.LogTypes.wa,"Entering buildDocWrapperFromSrcData with this node data:",A.Pg(a));if(!a)return null;z.assert_nt(a);z.dassert(a.has(y.SystPropNames.nodetype));var e=a.get(y.SystPropNames.nodetype),g;this.er.yb(e,t.o.Xa)?(z.dassert(null==b,"parentNode arg should be null"),
this.tI(),g=this.top):(g=this.sI(a),b&&this.Ri(g,b));var c=!0===a.get(y.SystPropNames.ei);a.keys().forEach(function(b){var f=a.get(b);null==f?z.derr("map for node "+a.id+" has null or undefined for key "+b+". Should delete it!"):x.Zf(b,y.SystPropNames.nodetype,y.SystPropNames.ch,y.SystPropNames.nch)?b!==y.SystPropNames.ch||c?b!==y.SystPropNames.nch||c||(d.Af(f,g),z.dassert(d.O.yb(e,t.o.Cd),e),f.keys().forEach(function(a){a=f.get(a);d.ke(a,g)})):(b=f.asArray(),d.Af(f,g),z.dassert(d.O.yb(e,t.o.Cd),
e),b.forEach(function(a){d.ke(a,g)})):A.hi(f)||x.Zf(typeof f,"boolean","number")||(A.Nd(f)?d.Af(f,g):A.isMap(f)?(d.ke(f,g),d.Af(f,g)):A.xc(f)?d.cache.subtreeHasFlatPropLink.add(g.c):console.error("Unexpected <key,value> pair <"+b+","+f+">."))});return g};a.prototype.Ir=function(){z.dassert(null!=this.rootmap,"this.rootmap is null");z.dwarn("buildSTDocWrapperRecursivelyFromSTDocData");this.hA();z.dassert(!this.rootmap.has(y.SystPropNames.nodetype),"Invalid value for STDoc.rootmap. Appears to be data for an STNode, since has .nodetype, whereas it should be data for a ReadableSTDoc:\n"+
A.Pg(this.rootmap));var b=this.rootmap.get(a.Qe);this.ke(b,null);z.timerStart("refreshNodeCaches");this.Ho();z.timerEnd("refreshNodeCaches");z.timerStart("refManager.buildall");this.Ma.Xm();z.timerEnd("refManager.buildall")};a.prototype.Ho=function(){this.X.OB(function(a){return a.Ec()},this.top)};a.prototype.toString=function(){var a="";this.top.vc(function(b){a=b?a+b.toString()+"\n":a+"~~node not found~~\n"});return a};a.prototype.Ri=function(a,b){z.assert_nt(a,b);this.cache.parentOf.has(a.c)&&
z.dwarnif(this.cache.parentOf.get(a.c)===b.c,"Redundant call to setParentNode (this might be as-intended)");this.cache.parentOf.set(a.c,b.c)};a.prototype.Af=function(a,b){z.assert_nt(a,b);this.cache.containingNode.set(a.id,b.c);this.D.detachedSyncingObjects.delete(a)};a.prototype.sI=function(a){z.dlogcat(y.LogTypes.wa,"Entering wrapDisconnectedNodeData(...) with data:",a);z.assert_nt(a);var b=a.get(y.SystPropNames.nodetype);z.assert_nt(b);z.dassert(this.O.rd(b),"Can't create a "+b+" node; it is not a concrete nodetype.");
var d=this.O.qf(b);d||z.derr("no entry for "+b);return new d(this,a)};a.prototype.tI=function(){var b=this.rootmap.get(a.Qe);z.dassert(null!=b,"doc.rootmap must have data for Top node before calling doc.wrapTopData");this.top=new this.O.ql(this,b)};a.prototype.gn=function(a,b){void 0===b&&(b=!1);this.D.node_clipboard=a;this.D.use_linking_on_paste=b};a.prototype.rH=function(a){return this.cache.subtreeHasFlatPropLink.has(a)};a.prototype.Lo=function(){z.Ga("revert_temp_ch_expanded");this.X.hc(function(a){return a.D.temp_ch_expanded=
!1})};return a}();I.KE=0;I.Qe="TOP_NODE";c.cm=I;k=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.$P=0;b.create={string:function(){var a=b.Jb.createString();b.Mi(a);return a},list:function(){var a=b.Jb.createList();b.Mi(a);return a},map:function(){var a=b.Jb.createMap();b.Mi(a);return a}};return b}r(b,a);b.prototype.EE=function(){this.top=this.vi(this.O.ql.nodetype_name);this.rootmap.set(I.Qe,this.top.Va)};b.prototype.Hh=function(a,b){z.assert_nt(a);b||(b=this.top);z.weakassert(a.jf());
b.Yf(a)};b.prototype.aG=function(){var a=this;this.X.hc(function(b){if(b.D.selected){var d=b.parentNode;a.Xc(b);z.dwarn("Todo: should not be calling rebuildSubtree here, or actually anywhere in ReadableSTDoc");B.STApp.the.C.Yb(d,1,1)}})};b.prototype.ZF=function(){if(x.R(B.STApp.the.T.id)){var a=this.Rc(B.STApp.the.T.id),b=a.parentNode;this.Xc(a);z.nd("Todo: should not be calling rebuildSubtree here, or actually anywhere in ReadableSTDoc");B.STApp.the.C.Yb(b,1,1)}else z.dwarn("doc.removeFocused called when doc.utfstate.focused_node_id is trivial")};
b.prototype.Xc=function(a,b,d){var e=this;void 0===d&&(d=!0);z.assert_nt(a);var g=this.Rc(a);z.assert_nt(g);if(g instanceof v.Xa&&null==g.parentNode)console.error("You can't remove the hidden top node.");else if(a=g.parentNode)if(b||(b=a.lk(g)),p(g))console.error("Can't delete child "+b+" of node "+a.c+" because it or some descendant has 'protected' property set to true.");else{if(d&&g.we()){var c=g.TE();if(confirm("Remove node with "+c+" descendants?"))d=!1;else return}this.bg("DeleteNode");B.STApp.the.T.id&&
g.c===B.STApp.the.T.id&&(c=void 0,(c=g.tf())||(c=g.Jg()),c||(c=g.parentNode),B.STApp.the.C.Ta({name:"SetFocusedNode",Ck:B.STApp.the.T.id,Hg:c.c}));c=g.getData();this.Mi(c);c.keys().forEach(function(a){a!==y.SystPropNames.ch&&a!==y.SystPropNames.nch&&g.cs(a)});if(g.Od())for(g.ue(function(a,b){e.Xc(a,b,d)}),c=g.Ra()-1;0<=c;c--)this.Xc(g.W(c),c,d);this.Cu(a,b);this.ig();this.Ho()}else console.error("RemoveNode called on a non-Top node that has no parent.")};b.prototype.Cu=function(a,b){"number"===typeof b?
(a=a.yc.v(y.SystPropNames.ch),z.dassert(null!=a,"Tried to remove "+b+"-th child but no children were found for this node."),a?b>=a.length?console.error("Tried to remove "+b+"-th child but "+b+" is out of range"):(z.dlogcat(y.LogTypes.rt,"rt list.remove"),a.remove(b)):console.error("Tried to remove "+b+"-th child but no children were found for this node.")):(a=a.zb.v(y.SystPropNames.nch),z.dassert(null!=a,"Tried to remove child named "+b+" but no named children were found for this node."),a?a.has(b)?
(z.dlogcat(y.LogTypes.rt,"rt map.delete"),a.delete(b)):console.error("Tried to remove child named "+b+" but node has no such child."):console.error("Tried to remove child named "+b+" but no named children were found for this node."))};b.prototype.vi=function(a,b){z.dlogcat(y.LogTypes.wa,"Entering newDiconnectedNode("+a+",...)");z.assert_nt(a);z.dassert(this.O.rd(a),"Can't create a "+a+" node; it is not a concrete nodetype.");var d=this.O.qf(a);if(b){z.dassert(b.get(y.SystPropNames.nodetype)===a);
var e=new d(this,b)}else try{e=new d(this)}catch(P){throw console.error("Error trying to create new disconnected "+a+" node from (should be) class: ",d),P;}z.dlogcat(y.LogTypes.vB,"Finishing newDisconnectedNode");return e};b.prototype.kb=function(a,b,d){var e=this;void 0===b&&(b=!1);void 0===d&&(d=!1);z.dlogcat(y.LogTypes.wa,"Entering fillDefaults("+a.c+")");var g=a.pn(),c=a.H;g.forEach(function(g){if("NewFlatProp"===g.name){g=g.label;var f=c.required_flatprops[g];switch(f){case 6:case 7:a.ha.bi(g)||
(f=a.hk(g,y.jq),a.ha.U(g,f));break;case 5:case 3:case 4:a.P.mb(g)||(f=a.hk(g,y.jq),a.P.U(g,f));break;case 1:a.ea.mb(g)||(f=a.Ds(g,y.Mw),a.ea.U(g,f));break;case 2:a.nc.mb(g)||(f=a.Hs(g,y.Nw),a.nc.U(g,f));break;default:z.derr("Unhandled StringPropType "+f)}}else if(!d)switch(g.name){case "NewNamedNode":e.rk(g.label,g.parent,g.nodetype,b);break;case "NewUnnamedNode":e.PD(g.parent,g.nodetype,b);break;case "NewUnnamedNodeStub":e.RD(g.hd,g.parent);break;case "NewNamedNodeStub":e.OD(g.label,g.hd,g.parent)}})};
b.prototype.rk=function(a,b,d,e){void 0===e&&(e=!1);z.assert_nt(b,d,a);z.dassert(!b.Kd(a),"Parent "+b.c+" seems to already have a child node named "+a+".");this.bg("NewNamedNode");d=this.vi(d);try{e&&this.kb(d,!0),b.Ab(a,d)}catch(P){console.error("Error trying to do compound op of adding and attaching new named child node.\nNeed to clean up the part that succeeded!",P),b.Kd(a)&&b.W(a).c===d.c&&this.Xc(d,a),this.G(d.c)&&this.Xc(d)}finally{this.ig()}return d};b.prototype.OD=function(a,b,d){z.dlog("Entering makeNewNamedChildNodeStubAndInsert",
arguments);z.assert_nt(a,d,b);var e=this.Rc(d);e.od();this.upstate.OG(a,b,e)};b.prototype.PD=function(a,b,d){void 0===d&&(d=!1);z.assert_nt(a,b);z.dassert(b!==t.o.NodeStub);a=this.Rc(a);this.bg("NewUnnamedNode");b=this.vi(b);try{a.Yf(b),d&&this.kb(b,!0)}catch(M){console.error("Error trying to do compound op of adding and attaching new unnamed child node\nNeed to clean up the part that succeeded!",M),this.G(b.c)&&this.Xc(b)}finally{this.ig()}};b.prototype.si=function(a,b,d,e){void 0===e&&(e=!1);z.assert_nt(a,
b,d);z.dassert(b!==t.o.NodeStub);a=this.Rc(a);this.bg("NewUnnamedNode");b=this.vi(b);try{a.Vn(b,d),e&&this.kb(b,!0)}catch(P){console.error("Error trying to do compound op of adding and attaching new unnamed child node\nNeed to clean up the part that succeeded!",P),a.W(d).c===b.c?this.Xc(b,d):this.G(b.c)&&this.Xc(b)}finally{this.ig()}return b};b.prototype.QD=function(a,b){var d=!0;void 0===d&&(d=!1);return this.si(a,b,0,d)};b.prototype.Dt=function(a,b,d,e){void 0===e&&(e=!1);d=d.tg();return"string"===
typeof d?this.si(a,b,0,e):this.si(a,b,d+1,e)};b.prototype.RD=function(a,b){C.stwidgets.nodeStubsEnabled.getValue()&&(z.dlogcat(y.LogTypes.wa,"Entering makeNewUnnamedChildNodeStubAndInsert"),z.assert_nt(b,a),b=this.Rc(b),b.od(),this.upstate.Kz(a,b,b.Ra()))};b.prototype.bg=function(a){this.Jb.beginCompoundOperation(a)};b.prototype.ig=function(){this.Jb.endCompoundOperation()};b.prototype.undo=function(){this.Jb.canUndo?this.Jb.undo():console.warn("Can't undo; TO DO: button should be disabled")};b.prototype.redo=
function(){this.Jb.canRedo?this.Jb.redo():console.warn("Can't redo; TO DO: button should be disabled")};b.prototype.ub=function(a){z.timerStart("applyEditActionSwitchWithRefManagerRefresh "+a.name);z.timerStart("applyEditActionSwitch "+a.name);var b,d;switch(a.name){case "SeqIndexChange":this.G(a.nodeid).index=a.value;B.STApp.the.C.Ba(!1,1);break;case "StringPropChange":d=this.G(a.nodeid);switch(d.H.allowed_flatprops[a.label]){case 6:case 7:this.ub({name:"EditableStringPropChange",nodeid:a.nodeid,
label:a.label,value:a.value});break;case 5:case 4:case 3:this.ub({name:"ImmutableStringPropChange",nodeid:a.nodeid,label:a.label,value:a.value});break;default:console.error("Node:",d),console.error("label:",a.label),console.error("Invalid StringPropType "+d.H.allowed_flatprops[a.label])}break;case "ImmutableStringPropChange":d=this.G(a.nodeid);d.P.v(a.label)===a.value&&console.warn("ImmutableStringPropChange event but new value is the same as current");d.P.U(a.label,a.value);b=B.STApp.the.C;b.rb(d,
0,0,!1);b.qv(d,a.label,a.value);break;case "EditableStringPropChange":d=this.G(a.nodeid);d.ha.U(a.label,a.value);b=B.STApp.the.C;b.rb(d,0,0);b.rv(d.ha.ve(a.label),a.value);break;case "NumPropChange":d=this.G(a.nodeid);d.nc.U(a.label,a.value);B.STApp.the.C.rb(d,0,0);break;case "BoolPropChange":z.dassert(A.isBoolean(a.value),"not a boolean: ",a.value);z.dwarn("Handling BoolPropChange action. "+a.value+", "+a.label);d=this.G(a.nodeid);d.ea.U(a.label,a.value);B.STApp.the.C.rb(d,0,0);break;case "NewFlatProp":this.xz(a.node,
a.label);a.node.ea.mb(a.label)&&a.node.D.panel_hidden&&(a.node.D.panel_hidden=!1);B.STApp.the.C.rb(a.node,0,0);break;case "NodeStubChoice":z.dlog("Processing ",a);d=this.G(a.parentid);z.assert_nt(d,a.ji);this.upstate.$F(a.parentid,a.ji);b=B.STApp.the.C;if(null===a.Rj){b.Yb(d,1,1);return}x.Kb("Should probably create new ActionRequest objects here, instead of calling the STDoc methods directly. Then NodeStubChoice could be a upstate action request.");"string"===typeof a.ji?this.rk(a.ji,d,a.Rj,!0):this.si(d,
a.Rj,a.nodes_ind,!0);z.dlog("Trying to update view after nodestub choice...");b.rb(d,Infinity,Infinity,!0);break;case "CopyNode":this.gn(this.G(a.nodeid),a.co);break;case "PasteNode":b=this.G(a.Hk);this.Di(b);B.STApp.the.C.rb(b,2,2);break;case "PasteNodeAsNextUnnamedSiblingOf":d=this.G(a.Zu);b=d.parentNode;d=b.lk(d);d=b.HE(d);this.Di(b,d);B.STApp.the.C.rb(b,2,2);break;case "PasteNodeAsNamedChild":b=this.G(a.Hk);this.Di(b,a.label);B.STApp.the.C.rb(b,2,2);break;case "NewUnnamedNode":case "NewUnnamedNodeAtIndex":b=
this.Rc(a.parent);"NewUnnamedNode"===a.name?a.hf?(z.dwarn("a.insert_after",a.hf.c),d=this.Dt(b,a.nodetype,a.hf,!0)):a.Wh&&(d=this.QD(b,a.nodetype)):"NewUnnamedNodeAtIndex"===a.name?d=this.si(b,a.nodetype,a.index,!0):z.derr("??????????");d.od();B.STApp.the.C.rb(b,2,2);break;case "NewNamedNode":b=this.Rc(a.parent);d=this.rk(a.label,b,a.nodetype,!0);d.od();B.STApp.the.C.rb(b,2,2);break;case "NewParentNode":this.bg("new-parent");b=a.oe.parentNode;d=b.lk(a.oe);this.Cu(b,d);d="string"===typeof d?this.rk(d,
b,a.nodetype,!1):this.Dt(b,a.nodetype,a.oe,!1);d.od();d.Oa(a.oe);this.kb(d,!0);this.ig();B.STApp.the.C.rb(b,2,2);break;case "Unlink":d=this.G(a.nodeid);z.dassert(a.Ki||!x.F(a.Rg));a.Ki?(this.nv(d),B.STApp.the.C.Yb(d)):a.Rg&&(this.mv(d,a.Rg),B.STApp.the.C.pv(d));break;case "DeleteFlatProp":d=this.G(a.nodeid);d.cs(a.label);B.STApp.the.C.rb(d,0,0);break;case "DeleteNode":(d=a.parent.W(a.ot))?(this.Xc(d,a.ot),B.STApp.the.C.rb(a.parent,2,2)):console.error("Received DeleteNode LocalNodeEditRequest that can't handle:",
a);break;case "ConvertNodetype":this.DA(a.node.getData(),this.O.VB(a.node.nodetype,a.Tt));break;case "MoveFocusedNode":b=B.STApp.the.T.node;z.dlog(a.Rh);z.dassert(b&&b.isUnnamedChild());var e=b.tg();z.dassert("number"===typeof e);d=b.parentNode;switch(a.Rh){case "up":if(0<e){var g=d.getData().get(y.SystPropNames.ch);z.assert_nt(g);B.STApp.the.C.$d.add(d.c);g.move(e,e-1)}else(d=G.nI(b))&&this.ti(b,d,d.Ra());break;case "down":e<d.Ra()-1?(g=d.getData().get(y.SystPropNames.ch),z.assert_nt(g),B.STApp.the.C.$d.add(d.c),
g.move(e,e+2)):(d=G.mI(b))&&this.ti(b,d,0);break;case "right":if(0<e&&(d=b.Jg())){this.ti(b,d,d.Ra());break}(d=b.tf())&&this.ti(b,d,0);break;case "left":e=d.parentNode,d=d.tg(),e&&"number"===typeof d&&this.ti(b,e,d+1)}H.pB(b);break;default:throw new x.oc;}z.timerEnd("applyEditActionSwitch "+a.name);z.nd("opt - add method to rebuild RefManager stuff for just nodes under a subtree");z.timerStart("refManager update");this.Ma.Xr();this.Ma.cn();z.timerEnd("refManager update");z.timerEnd("applyEditActionSwitchWithRefManagerRefresh "+
a.name)};b.prototype.ti=function(a,b,d){var e=a.tg(),g=a.parentNode;b.qs();var c=b.getData().get(y.SystPropNames.ch),f=g.getData().get(y.SystPropNames.ch);B.STApp.the.C.$d.add(g.c);B.STApp.the.C.$d.add(b.c);this.Ri(a,b);b.od();f.moveToList(e,c,d)};b.prototype.DA=function(a,b){this.bg("convert "+b.from+" to "+b.to);z.dassert(a.get(y.SystPropNames.nodetype)===b.from);a.set(y.SystPropNames.nodetype,b.to);a.keys().forEach(function(d){if(d in b.ud){var e=b.ud[d];z.dlog("Moving value from "+b.from+"."+
d+" to "+b.to+"."+e);a.set(e,a.get(d))}});this.cache.permid2node.delete(A.ff(a));var d=this.vi(b.to,a);this.cache.permid2node.set(d.c,d);a.keys().forEach(function(d){d in b.ud&&a.delete(d)});this.kb(d,!1,!0);this.ig()};b.prototype.Di=function(a,b){var d=this.D.node_clipboard,e;this.D.use_linking_on_paste?(z.derr("Why was i not using 'this' here?"),e=this.deepLinkCopyNode(d,b,!0),this.D.use_linking_on_paste=!1):e=this.deepLinkCopyNode(d,b,!1);e=this.ke(e,null);d?x.F(b)||"number"===typeof b?(a.Kh(d.H)||
console.error("Shouldn't paste node there; "+a.nodetype+" node "+a.c+" is not supposed to have (another) "+d.nodetype+" child."),x.F(b)?a.Oa(e):a.Vn(e,b)):a.Ab(b,e):console.warn("Can't paste node; no node in clipboard.")};b.prototype.nv=function(a){var b=this;z.assert_nt(a);a.Vb.$E().forEach(function(d){b.mv(a,d)});a instanceof v.ua&&a.pd(function(a){b.nv(a)});this.cache.subtreeHasFlatPropLink.delete(a.c)};b.prototype.mv=function(a,b){z.assert_nt(a,b);var d=a.links.ve(b),e=this.G(d.linked_nodeid).eb(d.label);
switch(d.linkedPropType){case F.be.editstring:a.links.dB(b);a.ha.U(b,e.getText());break;case F.be.immutstring:a.P.U(b,e);break;case F.be.bool:a.ea.U(b,e);break;case F.be.num:a.nc.U(b,e)}};b.prototype.deepLinkCopyNode=function(a,b,d){a=e(this,a,a.Va,b,d);d&&this.cache.subtreeHasFlatPropLink.add(a.id);return a};b.prototype.wz=function(a,b){a.D.panel_hidden=!1;a.D.lastAddedStringProp=b;a.ha.U(b,a.hk(b,"fill this in"))};b.prototype.yz=function(a,b){a.D.panel_hidden=!1;a.D.lastAddedStringProp=b;a.P.U(b,
a.hk(b,"fill this in"))};b.prototype.sz=function(a,b){a.ea.U(b,a.Ds(b,!1))};b.prototype.zz=function(a,b){a.D.panel_hidden=!1;a.nc.U(b,a.Hs(b,0))};b.prototype.xz=function(a,b){var d=a.cC(b);if(d)switch(d){case 1:a.B.sz(a,b);break;case 6:case 7:a.B.wz(a,b);break;case 5:case 4:case 3:a.B.yz(a,b);break;case 2:a.B.zz(a,b)}else console.error("Nodetype "+a.nodetype+" does not allow any flat prop named "+b+", and so doesn't have the necessary type info.");a.Ec()};return b}(I);k.nodetype_name="WritableSTDoc";
c.Pq=k;c.zN=function(a){return a.get(I.Qe).get(y.SystPropNames.title)};c.AN=function(a){return a.value[I.Qe].value[y.SystPropNames.title].json};c.YA=m;c.iM=h;c.hM=f;c.jM=l;c.cN=n;c.nM=g;c.lM=b;c.kM=d;c.mM=e;c.tS=p;c.FK=u},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return function(b,d){function e(){this.constructor=b}a(b,d);b.prototype=
null===d?Object.create(d):(e.prototype=d.prototype,new e)}}(),h=a(7),f=a(8),l=a(11),n=a(12),g=a(13),b=a(9),d=a(4),e=a(3);k=a(16);var p=a(253);c.TJ={II:"AutoPopup",$I:"DiscreteNote",hJ:"Footnote"};a=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}m(e,a);e.prototype.qs=function(){this.lb(b.SystPropNames.ch)||this.PA()};e.prototype.PA=function(){h.dassert(!this.lb(b.SystPropNames.ch));this.yc.U(b.SystPropNames.ch,this.B.create.list())};e.prototype.nB=function(){this.lb(b.SystPropNames.nch)||
this.QA()};e.prototype.QA=function(){h.dassert(!this.lb(b.SystPropNames.nch));var a=this.B.create.map();this.zb.U(b.SystPropNames.nch,a)};e.prototype.ue=function(a,d){if(!this.lb(b.SystPropNames.nch)||this.fc())return null;var e=this.zb.v(b.SystPropNames.nch).keys(),g,c;d&&d.r2l?(g=e.length-1,c=d=-1):(g=0,d=e.length,c=1);for(;g!=d;g+=c){var f=e[g],l=this.W(f);if(null!=l){if(f=a(l,f))return f}else h.dwarn("null named child node of "+this.c+" at label "+f+". Skipping!")}return null};e.prototype.Ln=
function(){var a=this.zb.v(b.SystPropNames.nch);return!a||this.fc()?[]:a.keys()};e.prototype.W=function(a){if(this.fc())return null;if("number"===typeof a){var e=this.yc.v(b.SystPropNames.ch);if(null==e)return null;if(a>=e.length)return h.dwarn("getChild(i) called on out-of-range i === "+a+" for node "+this.c),null;var g=e.get(a);h.dassert(null!=g);if(null==g)return console.error("null entry in node's .ch SyncingList. WILL DELETE IT."),e.remove(a),null;a=f.ff(g);h.weakassert(!d.F(a));e=this.m.G(a);
h.weakassert(!d.F(e),"stdoc.ogetNodeByPermId( "+a+" ) returned null or undefined. Had this nodedata: ",g);if(e)return e;h.dwarn("Found STNodeData object with no corresponding STNode: ",g);g.has(b.SystPropNames.hd)&&h.derr("Problem is that loading a doc with an existing NodeStub is not supported...");return null}g=this.zb.v(b.SystPropNames.nch);if(null==g||!g.has(a))return null;g=g.get(a);h.dassert(null!=g);if(!g)return console.error("null entry in node's .nch SyncingMap"),null;g=this.m.G(f.ff(g));
return g?g:(h.timerEnd("ParentalNode.getChild"),h.dwarn("getChild seems to have found a non-node, possibly null or an old node stub"),null)};e.prototype.bC=function(){var a=this.zb.v(b.SystPropNames.nch);if(null==a||this.fc())return null;var d=a.keys();if(0===d.length)return null;a=a.get(d[0]);return this.m.G(f.ff(a))};e.prototype.Vm=function(a){h.assert_nt(a);this.qs();this.m.Ri(a,this)};e.prototype.Vn=function(a,d){h.dassert(0<=d);this.Vm(a);this.yc.v(b.SystPropNames.ch).insert(d,a.getData())};
e.prototype.Yf=function(a){this.Vm(a);this.yc.v(b.SystPropNames.ch).push(a.Va)};e.prototype.Ab=function(a,d){this.nB();h.dassert(!this.lb(a),"Node "+d.c+" already has a named child "+a+".");h.dassert(this.pu(a),"Ontology for language says nodetype "+this.nodetype+" does not permit named child "+a+".");h.dassert(this.pu(a,d.nodetype),"Ontology for language says nodetype "+this.nodetype+" does not permit named child "+a+" of nodetype "+d.nodetype+".");var e=this.zb.v(b.SystPropNames.nch);h.dassert(null!=
e);e.set(a,d.Va);this.m.Ri(d,this)};e.prototype.Ra=function(){if(this.fc())return 0;var a=this.yc.v(b.SystPropNames.ch);return a?a.length:0};e.prototype.UE=function(){if(this.fc())return 0;var a=this.zb.v(b.SystPropNames.nch);return a?a.size:0};e.prototype.pu=function(a,b){return b?this.m.O.yb(b,this.H.allowed_nch[a]):this.H.allowed_nch.hasOwnProperty(a)};return e}(n.pc);a.nodetype_name=g.o.Cd;a.abstract=!0;a.allowed_ch=[g.o.Node];a.allowed_flatprops=d.ja(b.SystPropNames.me,1);a.default_bool_prop_vals=
d.h([b.SystPropNames.me,!0]);c.Xw=a;a=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}m(e,a);e.prototype.ro=function(){var a=this.Ra(),b=Array(a);this.vc(function(e,g){d.F(e)?console.warn("<ParentalNode>.forEachUnnamedChild included a trivial child."):g<a&&(b[g]=e.nodetype)});return b};e.prototype.pd=function(a,b){if(this.fc())return{val:null,wb:!1};if(b&&b.bv){var d=!1;return this.pd(function(e){if(d){if((e=a(e))&&!e.wb)return e}else e.c===b.bv.c&&(d=!0);return null},{r2l:b.r2l})}if(b&&
b.r2l){var e=this.vc(a,{r2l:!0});return e&&!e.wb?e:this.ue(a,{r2l:!0})}return(e=this.ue(a,{r2l:!1}))&&!e.wb?e:this.vc(a,{r2l:!1})};e.prototype.vc=function(a,b){if(this.fc())return{val:null,wb:!1};var d=this.Ra(),e;b&&b.r2l?(e=d-1,b=d=-1):(e=0,b=1);for(;e!=d;e+=b){var g=a(this.W(e),e);if(g)return g}return null};e.prototype.ck=function(a,b){void 0===b&&(b=Infinity);a(this);0<b&&this.pd(function(d){d.ck(a,b-1)})};e.prototype.ng=function(a,b){void 0===b&&(b=Infinity);0<b&&this.pd(function(d){d.ck(a,b-
1)})};e.prototype.Yh=function(){if(this.fc())return null;var a=this.bC();return a?a:0<this.Ra()?this.W(0):null};e.prototype.Kn=function(){return this.fc()?null:0<this.Ra()?this.W(this.Ra()-1):this.qt()};e.prototype.Kd=function(a){h.assert_nt(a);return this.fc()?!1:null!=this.W(a)};e.prototype.Oa=function(){for(var a=this,b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b.forEach(function(b){a.Yf(b)})};e.prototype.yg=function(a){var b=null;this.vc(function(d,e){d===a&&(b=e)});return b};e.prototype.jD=
function(a,d){this.Vm(a);this.yc.v(b.SystPropNames.ch);d=this.yg(d);this.Vn(a,d+1)};e.prototype.mk=function(a){var b=null;this.ue(function(d,e){d.c===a.c&&(b=e)});return b};e.prototype.lk=function(a){var b=this.yg(a);return d.F(b)?this.mk(a):b};e.prototype.GE=function(a){if(!this.Kd(a))return console.error("see nextNamedChild"),null;var b=this.Ln();a=b.indexOf(a);return a<b.length-1?this.W(b[a+1]):null};e.prototype.zF=function(a){h.assert_nt(a);if(!this.Kd(a))return console.error("see prevNamedChild"),
null;var b=this.Ln();a=b.indexOf(a);return 0<a?this.W(b[a-1]):null};e.prototype.qt=function(){if(this.fc())return null;var a=this.Ln();return 0<a.length?this.W(a[a.length-1]):null};e.prototype.HE=function(a){return"number"===typeof a?(a+=1,a>this.Ra()?this.Ra():a):0};e.prototype.oF=function(){var a=this.H.allowed_ch;h.dassert(null!=a,"allowed_ch missing for Parental nodetype "+this.nodetype+".");return 0<a.length};e.prototype.nF=function(){var a=this.H.allowed_nch;h.dassert(null!=a,"allowed_nch missing for Parental STNodeClass "+
this.nodetype+".");return 0<Object.getOwnPropertyNames(a).length};e.prototype.sH=function(a){var b=this;a||(a=this.H.allowed_ch);var d=this.ro(),e=new Map;a.forEach(function(a){e.set(a,0)});a.forEach(function(a){d.forEach(function(d){b.m.O.yb(d,a)&&e.set(a,e.get(a)+1)})});return e};e.prototype.Kh=function(a,b){var e=this;if(!a)return!1;b||(b=this.ro());var g=!0,g=this.H.allowed_ch.some(function(b){return e.O.yb(a.nodetype_name,b)});d.Sd(this.H.max_ch).forEach(function(b){if(e.O.yb(a.nodetype_name,
b)){var d=e.H.max_ch[b],c;c="number"===typeof d?d:d(e);e.vc(function(a){a&&e.O.yb(a.nodetype,b)&&c--});0>c&&console.error("This node has too many children of nodetype "+b+":",e);0>=c&&(g=!1)}});return g};e.prototype.yk=function(){var a=this,b=new Set,d=this.ro();this.m.O.ur.get(this.H).forEach(function(e){var g=e.nodetype_name;a.Kh(e,d)&&(h.dassert(a.m.O.rd(g)),b.add(e))});return b};e.prototype.TE=function(){var a=0;this.ng(function(){a++});return a};e.prototype.pn=function(){var b=a.prototype.pn.call(this),
d=this.m.O,e=d.qf(this.nodetype),g=e.min_ch,c=e.required_nch,e=this.sH(e.allowed_ch),f;for(f in g)if(d.rd(f))for(var l=e.get(f);l<g[f];l++)b.push({name:"NewUnnamedNode",nodetype:f,parent:this,hf:null,Wh:!0});else for(l=e.get(f);l<g[f];l++)b.push({name:"NewUnnamedNodeStub",hd:f,parent:this,index:0});for(var n in c)this.Kd(n)||(f=c[n],d.rd(f)?b.push({name:"NewNamedNode",nodetype:f,parent:this,label:n}):b.push({name:"NewNamedNodeStub",hd:f,parent:this,label:n}));return b};return e}(a);a.nodetype_name=
g.o.Cd;a.abstract=!0;a.allowed_ch=[g.o.Node];a.allowed_flatprops=d.h([b.SystPropNames.me,1],[b.SystPropNames.ei,1]);a.default_bool_prop_vals=d.h([b.SystPropNames.me,!0],[b.SystPropNames.ei,!0]);c.ua=a;var u=function(a){function b(b,d){return a.call(this,b,d)||this}m(b,a);Object.defineProperty(b.prototype,"index",{get:function(){return d.F(this.D.fi)?0:this.D.fi},set:function(a){this.D.fi=0>a?0:Math.min(a,this.Jt);this.fl()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"showing_all_in_seq",
{get:function(){return!!this.D.Ti},set:function(a){(this.D.Ti=a)?this.vc(function(a){a.D.hidden=!1}):this.fl()},enumerable:!0,configurable:!0});b.prototype.fl=function(){var a=this;this.D.fi||(this.D.fi=0);this.vc(function(b,d){b.D.hidden=a.D.fi===d?!1:!0})};Object.defineProperty(b.prototype,"maxIndex",{get:function(){return Math.max(this.Ra()-1,0)},enumerable:!0,configurable:!0});return b}(a);u.nodetype_name=g.o.Ic;u.abstract=!0;u.reader_mode_expandable=!0;c.Ic=u;u=function(a){function d(){return null!==
a&&a.apply(this,arguments)||this}m(d,a);d.prototype.Ns=function(){return this.P.v(b.SystPropNames.title)};d.prototype.WG=function(){this.P.U(b.SystPropNames.title,"toy ex: factoring proof")};d.prototype.kf=function(){return!0};d.prototype.wg=function(){return this.ea.v(b.SystPropNames.wg)};d.prototype.fg=function(){return this.ea.v(b.SystPropNames.fg)};Object.defineProperty(d.prototype,"assist_trigger",{get:function(){return this.P.v(b.SystPropNames.Ih)},enumerable:!0,configurable:!0});return d}(a);
u.nodetype_name=g.o.Xa;u.abstract=!0;u.inlining_class=p.Dx;u.reader_mode_expandable=!0;u.allowed_ch=[g.o.Node];u.required_flatprops=d.h([b.SystPropNames.title,4],[b.SystPropNames.Ih,3],[b.SystPropNames.wg,1],[b.SystPropNames.fg,1],[b.SystPropNames.Mj,1],[b.SystPropNames.Tg,1]);u.allowed_flatprops=d.ZG(u.required_flatprops);u.default_str_prop_vals_at_init=d.h([b.SystPropNames.title,"title of this document"]);u.default_str_prop_vals_when_empty=d.h([b.SystPropNames.Ih,"$"]);u.default_bool_prop_vals=
d.h([b.SystPropNames.wg,!0],[b.SystPropNames.fg,!0],[b.SystPropNames.Mj,!0],[b.SystPropNames.Tg,!0]);c.Xa=u;(function(a){a.nodetype_name=g.o.Nf;a.abstract=!0;a.flatprop_change_listeners=d.ja(b.SystPropNames.Lc,function(){h.derr("TODO change listener for ValueAssignableNodeMixin")});a.allowed_flatprops=d.h([b.SystPropNames.Lc,2],[b.SystPropNames.Pc,2]);a.allowed_ch=["STNode"];a.upstate=[b.SystPropNames.Lc];var e=[],c=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}m(e,a);e.prototype.wC=
function(){var a;this.upstate?a=this.upstate.Cs(this.c):h.dwarn("in get_assignedval, node "+this.c+"'s upstate is absent");return!this.upstate||d.F(a)?this.lb(b.SystPropNames.Pc)?this.nc.v(b.SystPropNames.Pc):null:a};e.prototype.TG=function(a){this.upstate?this.upstate.Su(this.c,a):h.derr("in set_assignedval, node "+this.c+"'s upstate is absent")};return e}(n.pc);a.Bp=c;a.Ij=d.Bt(c,e);a.OO=d.Ct(e)})(c.Nf||(c.Nf={}));var r;(function(a){a.Cx=/(?:@@|#)(\d+)/;a.nodetype_name=g.o.tb;a.inliningvm_props=
[b.SystPropNames.S,b.SystPropNames.Oc];a.abstract=!0;a.Zv="";a.Xv="";a.flatprop_change_listeners=d.h([b.SystPropNames.ya,function(a){a.m.Ma.Xm()}],[b.SystPropNames.S,function(a,d){var e=a.P.v(b.SystPropNames.ya),g=a.P.v(b.SystPropNames.S);h.Ga("html_name change lister, with this event: ");h.dlog(d);var c=!1;""===e&&(c=!0,a.P.U(b.SystPropNames.ya,g));null!=d.oldValue&&e===d.oldValue&&(c=!0);c&&a.B.ub({name:"ImmutableStringPropChange",nodeid:a.c,label:b.SystPropNames.ya,value:g})}]);a.allowed_ch=["STNode"];
a.allowed_flatprops=d.h([b.SystPropNames.ya,3],[b.SystPropNames.S,4],[b.SystPropNames.Oc,3],[b.SystPropNames.Eo,4],[b.SystPropNames.Qa,4]);a.default_str_prop_vals_when_empty=d.h([b.SystPropNames.S,a.Xv],[b.SystPropNames.Qa,function(a){return a.wc()}],[b.SystPropNames.Oc,""]);a.default_str_prop_vals_at_init=d.h([b.SystPropNames.ya,function(b){return b.wc()||a.Zv}]);a.upstate=[b.SystPropNames.Qa];var e=[],c=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}m(d,a);d.prototype.yC=
function(){return this.P.v(b.SystPropNames.ya)};d.prototype.Wg=function(a){a?this.P.U(b.SystPropNames.ya,a):h.derr("tried to set mutid of "+this.c+" to "+a)};d.prototype.wc=function(){return this.Ms()||this.P.v(b.SystPropNames.S)};d.prototype.Ie=function(a){this.P.U(b.SystPropNames.S,a)};d.prototype.Ms=function(){return this.upstate.Qa.get(this.c)};d.prototype.VG=function(a){this.m.upstate.Qa.set(this.c,a)};d.prototype.xC=function(){return this.P.v(b.SystPropNames.Oc)};d.prototype.UG=function(){this.P.U(b.SystPropNames.Oc,
"@@0 \u00d7 @@1")};d.prototype.CC=function(){return l.Ko(this.m.Ma.Fg,this,1)};d.prototype.BC=function(){return this.P.v(b.SystPropNames.Eo)};return d}(n.pc);a.Bp=c;a.Ij=d.Bt(c,e);a.jt=d.Ct(e)})(r=c.tb||(c.tb={}));u=function(a){function b(b,d){return a.call(this,b,d)||this}m(b,a);return b}(a);u.nodetype_name=g.o.Aa;u.abstract=!0;c.Aa=u;r.Ij(u);p=function(a){function b(b,d){return a.call(this,b,d)||this}m(b,a);return b}(n.pc);p.nodetype_name=g.o.pj;p.abstract=!0;p.allowed_ch=[];p.allowed_nch={};c.pj=
p;r.Ij(p);var v=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}m(d,a);Object.defineProperty(d.prototype,"reffed_nodeid",{get:function(){return this.P.v(b.SystPropNames.V)},set:function(a){this.P.U(b.SystPropNames.V,a)},enumerable:!0,configurable:!0});d.prototype.hb=function(){if(this.Wc){var a=this.B.G(this.Wc);return a?a:null}return null};d.Tb=function(a){return function(b){return b.B.X.sg(function(b){return b.xa(a)}).map(function(a){var b=a.S;b||(b=a.wc());return[b,a.c]})}};
d.prototype.ob=function(){return this.H.dx};return d}(r.Bp);v.nodetype_name=g.o.Jf;v.abstract=!0;v.inliningvm_props=[b.SystPropNames.V];v.hide_in_user_modes=[b.Da.vd];v.required_flatprops=d.h([b.SystPropNames.V,5]);v.allowed_flatprops=d.h([b.SystPropNames.hidden,1]);v.default_str_prop_vals_at_init=d.h([b.SystPropNames.V,function(a){if(a.H.possible_values[b.SystPropNames.V]){var d=a.H.possible_values[b.SystPropNames.V];a="function"===typeof d?d(a):d}else a=v.Tb(a.ob())(a);return 0<a.length?a[0][1]:
""}]);v.default_bool_prop_vals=d.h([b.SystPropNames.hidden,!0]);c.qa=v;var x=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}m(d,a);Object.defineProperty(d.prototype,"reffed_nodeid",{get:function(){return this.P.v(b.SystPropNames.V)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"reffed_docid",{get:function(){var a=this.P.v(b.SystPropNames.Th);if(!e.STApp.the.Ka.ug(a)){var d=this.P.v(b.SystPropNames.ks);if(d&&(d=e.STApp.the.appdata.Cn(d),e.STApp.the.Ka.ug(d)))return d}return a},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"reffed_stdoc",{get:function(){var a=this.yR;return a?e.STApp.the.jk(a):(h.dwarn("no docid"),null)},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"linked_node",{get:function(){var a=this.SF;if(!a)return null;var b=this.Wc;return b?a.G(b):(h.dwarn("couldn't find linked node"),null)},enumerable:!0,configurable:!0});d.Tb=function(a){return function(b){b=b.SF;if(!b)return h.dwarn("no stdoc"),[];b=b.X.sg(function(b){return b.xa(a)});
h.dlog(b.length);return b.map(function(a){var b=a.S;b||(b=a.wc());return[b,a.c]})}};return d}(a);x.nodetype_name=g.o.aq;x.abstract=!0;x.required_flatprops=d.h([b.SystPropNames.Th,5],[b.SystPropNames.V,5]);x.allowed_flatprops=d.h([b.SystPropNames.hidden,1]);x.default_str_prop_vals_at_init=d.h([b.SystPropNames.Th,function(a){return a.m.stdocid}],[b.SystPropNames.V,v.default_str_prop_vals_at_init[b.SystPropNames.V]]);x.possible_values=d.h([b.SystPropNames.Th,function(){return e.STApp.the.Ka.AC()}]);
x.flatprop_change_listeners=d.h(["_id_ref",function(a){h.nd("ImportNode should try to merge changes, rather than replace. Either that or make the created nodes read-only");console.warn("_id_ref changed to "+a.CD.c);var b=a.B;b.gn(a.CD);a.Kd(0)&&b.Xc(a.W(0));b.Di(a)}]);c.Ol=x;r=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}m(d,a);d.prototype.ob=function(){return this.P.v(b.SystPropNames.Li)};return d}(x);r.nodetype_name=g.o.Pl;r.abstract=!1;r.hide_in_user_modes=[];r.required_flatprops=
d.h([b.SystPropNames.Li,5]);r.default_str_prop_vals_at_init=d.h([b.SystPropNames.Li,g.o.aa]);r.possible_values=d.h([b.SystPropNames.V,function(a){var b=a.ob();return b?x.Tb(b)(a):[]}],[b.SystPropNames.Li,function(a){a=a.m.O.ik(g.o.tb);var b=Array(a.size),d=0;a.forEach(function(a){b[d]=[a,a];d++});return b}]);c.Bw=r;var t=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}m(d,a);Object.defineProperty(d.prototype,"display_as_defn",{set:function(a){this.ea.U(b.SystPropNames.qe,a)},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"prose",{get:function(){return this.ha.v(b.SystPropNames.text)},set:function(a){this.ha.U(b.SystPropNames.text,a)},enumerable:!0,configurable:!0});return d}(u);t.nodetype_name=g.o.aa;t.abstract=!1;t.inlining_class=k.Kl;t.inliningvm_props=[b.SystPropNames.text,b.SystPropNames.qe,b.SystPropNames.level];t.reader_mode_expandable=!0;t.init_collapsed=!1;t.allowed_ch=[g.o.Node];t.required_flatprops=d.h([b.SystPropNames.text,7],[b.SystPropNames.Wi,
5]);t.possible_values=d.h([b.SystPropNames.Wi,function(){return[["minimal html","wordlevel_html_etc"],["safe html","safe_html"]]}]);t.allowed_flatprops=d.h([b.SystPropNames.qe,1],[b.SystPropNames.level,2],[b.SystPropNames.demphasize,1],[b.SystPropNames.kn,4],[b.SystPropNames.continued,1],[b.SystPropNames.cv,1]);t.default_str_prop_vals_at_init=d.h([b.SystPropNames.text,""]);t.default_str_prop_vals_when_empty=d.h([b.SystPropNames.text,""],[b.SystPropNames.Wi,"wordlevel_html_etc"]);t.default_bool_prop_vals=
d.h([b.SystPropNames.qe,!0],[b.SystPropNames.demphasize,!0],[b.SystPropNames.continued,!0],[b.SystPropNames.cv,!0]);t.default_num_prop_vals=d.h([b.SystPropNames.level,3]);c.aa=t;k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(a);k.nodetype_name=g.o.Pp;k.abstract=!0;k.allowed_flatprops=d.h([b.SystPropNames.text,7]);c.Ml=k;k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(p);k.nodetype_name=g.o.ij;k.abstract=!1;k.reader_mode_expandable=
!0;k.allowed_ch=[];k.allowed_nch={};k.allowed_flatprops=d.h([b.SystPropNames.text,7]);c.ij=k;k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(n.pc);k.nodetype_name=g.o.Cb;k.abstract=!1;k.allowed_ch=[];k.allowed_nch={};c.Cb=k;k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(a);k.nodetype_name=g.o.$b;k.abstract=!1;k.inliningvm_props=[b.SystPropNames.ch];k.allowed_ch=[g.o.Node];k.allowed_nch={};k.min_ch=d.ja(g.o.Node,
2);c.$b=k;k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(n.pc);k.nodetype_name=g.o.Xl;k.hide_in_user_modes=[b.Da.vd];c.Xl=k;a=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}m(e,a);Object.defineProperty(e.prototype,"reffed_nodeid",{get:function(){return this.P.v(b.SystPropNames.V)},set:function(a){this.P.U(b.SystPropNames.V,a)},enumerable:!0,configurable:!0});e.prototype.hb=function(){if(this.Wc){var a=this.B.G(this.Wc);return a?
a:null}return null};e.prototype.ob=function(){throw new d.Aw("referredToNodetype");};return e}(a);a.nodetype_name=g.o.hq;a.abstract=!0;a.required_flatprops=d.h([b.SystPropNames.V,5]);a.default_str_prop_vals_when_empty=d.h([b.SystPropNames.V,""]);a.default_str_prop_vals_at_init=d.h([b.SystPropNames.V,function(a){a=v.Tb(a.H.dx)(a);return 0<a.length?a[0][1]:""}]);a.hide_in_user_modes=[];c.hq=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(n.pc);a.nodetype_name=
g.o.Ne;a.abstract=!1;a.required_flatprops=d.h([b.SystPropNames.tk,6]);a.default_str_prop_vals_when_empty=d.h([b.SystPropNames.tk,""]);a.flatprop_change_listeners=d.h([b.SystPropNames.tk,function(a){var d=a.ha.v(b.SystPropNames.tk);d&&0!==d.length&&(h.Ga("MathParse flatprop_change_listener",d),d=structure_together.mathtextToSTNodeSubtree(d,a.B),a.parentNode.Oa(d))}]);c.Ne=a;c.ko=function(a){return function(b,d){var e=new t(a);e.uu=b;a.Hh(e,d);return e}}},function(k,c,a){var m=a(4);window.Um=m.Um;window.kt=
m.kt;window.count=m.count;window.MI="background: black; color: yellow; fontsize:medium;";window.Nv="background: black; color: white;";window.Mv="background: black; color: white; fontsize:large;";window.Ov="background: white; color: green;";window.zp="background: white; color: purple;";c.devthrow=function(a){throw a;};c.weakassert=function(a,c){for(var f=[],n=2;n<arguments.length;n++)f[n-2]=arguments[n];window.structure_together.assertions_enabled&&!a&&(console.error(f),c?console.error("Failed assertion %test%\n"+
c+"\n"):console.error("Failed assertion %test%\n"))};c.dassert=function(a,c){for(var f=[],n=2;n<arguments.length;n++)f[n-2]=arguments[n];if(window.structure_together.assertions_enabled&&!a){console.error(f);if(c)throw Error("Failed assertion %test%\n"+c+"\n");throw Error("Failed assertion %test%\n");}};c.dlog=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];console.log(a)};c.dwarn=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];console.warn(a)};c.derr=function(){for(var a=
[],c=0;c<arguments.length;c++)a[c]=arguments[c];console.error(a)};c.Ga=function(a){for(var c=[],l=1;l<arguments.length;l++)c[l-1]=arguments[l];console.warn("%c"+a,window.Mv,c)};c.Vj=function(a){for(var c=[],l=1;l<arguments.length;l++)c[l-1]=arguments[l];console.warn("%c"+a,window.zp,c)};c.nd=function(a){for(var c=[],l=1;l<arguments.length;l++)c[l-1]=arguments[l];window.Vk(a,c)};c.BM=function(a){for(var c=[],l=1;l<arguments.length;l++)c[l-1]=arguments[l];console.warn("%c"+a,window.Ov,c)};c.uc=function(a){for(var c=
[],l=1;l<arguments.length;l++)c[l-1]=arguments[l];console.warn("%c"+a,window.Nv,c)};c.dlogcat=function(a){for(var c=[],l=1;l<arguments.length;l++)c[l-1]=arguments[l];window.structure_together.logging.logTypeActive(a)&&console.log(c)};c.dwarncat=function(a){for(var c=[],l=1;l<arguments.length;l++)c[l-1]=arguments[l];window.structure_together.logging.logTypeActive(a)&&console.warn(c)};c.derrcat=function(a){for(var c=[],l=1;l<arguments.length;l++)c[l-1]=arguments[l];window.structure_together.logging.logTypeActive(a)&&
console.error(c)};c.dlogif=function(a){for(var c=[],l=1;l<arguments.length;l++)c[l-1]=arguments[l];a&&console.log(c)};c.dwarnif=function(a){for(var c=[],l=1;l<arguments.length;l++)c[l-1]=arguments[l];a&&console.warn(c)};c.derrif=function(a){for(var c=[],l=1;l<arguments.length;l++)c[l-1]=arguments[l];a&&console.error(c)};c.assert_nt=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];window.structure_together.assertions_enabled&&m.Um(function(a,c){if(null===a||void 0===a)throw Error("Element "+
c.toString()+" of (%exprs%) should not be null or undefined.");},a)};c.timerStart=function(a){window.structure_together.logging.logTypeActive("timer")&&window.std.timer.start(a)};c.timerEnd=function(a){if(window.structure_together.logging.logTypeActive("timer")){var c=Math.floor(window.std.timer.end(a));c>=window.std.timer.aE&&console.log("%c"+a+": "+c+"ms","color:blue;")}}},function(k,c,a){function m(a,b){a.keys().forEach(function(d){b(d,a.get(d))})}function h(a,b,d,e,g){void 0===d&&(d=null);g&&
g.gI?a.type===g.gI&&b(a,d,e):g&&g.OE?a.type===t.Mb.Map&&a.has(v.SystPropNames.nodetype)&&b(a,d,e):b(a,d);switch(a.type){case t.Mb.List:a.asArray().forEach(function(d,e){h(d,b,a,e,g)});break;case t.Mb.Map:m(a,function(d,e){f(e)&&h(e,b,a,d,g)});break;case t.Mb.EditableString:break;case "FlatPropLink":break;default:throw new x.oc("SyncingObject type "+a.type+" unhandled");}}function f(a){return a&&"object"===typeof a&&null!=a.type}function l(a){return a&&"object"===typeof a&&a.type===t.Mb.Map}function n(a){return"string"===
typeof a}function g(a){return a&&"object"===typeof a&&a.type===t.Mb.EditableString}function b(a){return a&&"object"===typeof a&&a.type===t.Mb.List}function d(a,b,e,g){r.dassert(!e||x.R(g));if(x.fa(b,"json"))return b.json;try{var c=[b.id,b.type,b.value],f=c[0],l=c[1],n=c[2];r.dassert("root"!==f);var h=null;switch(l){case "Map":h=a.createMap(null,e?f:null);x.zk(n,function(b){h.set(b,d(a,n[b],e,g))});break;case "List":h=a.createList(null,e?f:null);n.forEach(function(b){h.push(d(a,b,e,g))});break;case "EditableString":h=
a.createString(n,e?f:null);break;default:return r.dassert(!1,"shouldn't get here..."),null}e&&h.id!==f&&g&&(r.dlog("id changed from "+f+" to "+h.id+". storing renaming."),g.set(f,h.id));return h}catch(H){return console.error("Error trying to import this json: ",b),console.error("The error:",H),null}}function e(a,b){r.assert_nt(a,b);r.dassert("string"!==typeof b);var d=a.createMap(null,null);r.dassert(v.SystPropNames.nodetype in b);x.zk(b,function(g){var c=b[g];if("_ch"===g){var f=a.createList(null);
d.set(g,f);c.forEach(function(b){f.push(e(a,b))})}else r.dassert("string"===typeof c||"boolean"===typeof c),"_text"===g?d.set(g,a.createString(c)):d.set(g,c)});return d}function p(a){if(n(a)||"boolean"===typeof a||"number"===typeof a)return{json:a};if(l(a)){var d={};a.keys().forEach(function(b){d[b]=p(a.get(b))});return{id:a.id,type:"Map",value:d}}if(g(a))return{id:a.id,type:"EditableString",value:a.getText()};if(b(a)){var e=[];a.asArray().forEach(function(a,b){e[b]=p(a)});return{id:a.id,type:"List",
value:e}}return{json:a}}function u(a){if(g(a))return a.getText();if(l(a)){var d=x.Zz();d.id=a.id;a.keys().forEach(function(b){d[b]=u(a.get(b))});return d}if(n(a))return a;if(b(a)){var e=[];a.asArray().forEach(function(a,b){e[b]=u(a)});return e}}var r=a(7),v=a(9),x=a(4),t=a(10);c.xc=function(a){return null!=a&&"object"===typeof a&&"FlatPropLink"===a.type};c.LB=m;c.nN=h;c.ff=function(a){return a.id};c.MO=f;c.isMap=l;c.hi=n;c.isBoolean=function(a){return!0===a||!1===a};c.isNumber=function(a){return"number"===
typeof a};c.Nd=g;c.Yn=b;c.On=function(a,b){var e=b.value,g=a.getRoot(),c;c=new Map;x.zk(e,function(b){g.set(b,d(a,e[b],!0,c))});c&&0<c.size&&(r.uc("Will do reference remappings for "+c.size+" distinct permids"),h(g,function(a){if(a.has(v.SystPropNames.V)){var b=a.get(v.SystPropNames.V);c.has(b)&&a.set(v.SystPropNames.V,c.get(b))}},null,null,{OE:!0}))};c.googleJsonToSTData=d;c.$G=function(a,b){window.jT=b;var d=a.getRoot();d.set(v.SystDocPropNames.Yd,b[v.SystDocPropNames.Yd]);d.set(v.SystDocPropNames.Dg,
b[v.SystDocPropNames.Dg]);d.set("TOP_NODE",e(a,b.TOP_NODE))};c.Qi=p;c.vG=u;c.Pg=function(a){return x.Bo(u(a))};c.ru=function(a){return x.Bo(p(a))};c.eC=function(a){try{return a.get(v.SystDocPropNames.Dg)}catch(A){return null}};c.EN=function(a){return a[v.SystDocPropNames.Dg]};c.MG=function(a,b){a.set(v.SystDocPropNames.Dg,b)};c.hS=function(a,b){a.set(v.SystDocPropNames.Yd,b)};c.yN=function(a){return a.get(v.SystDocPropNames.Yd)};c.Fs=function(a){return a.value[v.SystDocPropNames.Yd].json};c.Jn=function(a){return a[v.SystDocPropNames.Yd]}},
function(k,c,a){k=a(4);c.jq="WARNING: missing_default_val_for_required_stringprop";c.Mw=!1;c.Nw=-1;c.Yv="0BzKTGZrxy40NcEFqdVR2ZjZxRG8";c.Zp="\t";c.Cl="~broken-ref~";c.gw="<error>";c.Rl="structure_together.";c.wq=3;c.DELAY_FOR_QUEUE_SETSTATE=200;c.DELAY_FOR_AFTER_FIRST_RENDER_CALLBACKS=1E3;c.MIN_TIME_BETWEEN_LOCAL_STORAGE_WRITES=1E3;c.LogTypes={GA:"could_be_worrisome",bs:"deal_with_eventually",timer:"timer",Ld:"important_event",SE:"nts",links:"links",zQ:"ontology",bo:"lib_load",pt:"langinit",ZO:"jqueryevent",
sd:"plugin_notice",wa:"entering",vB:"exiting",gb:"modelevent",rt:"rt",zt:"localModel_events",oG:"rootmap_event",zG:"save_event",iD:"input_event",Wn:"ioevent",oR:"quasipure",It:"marknodeovhover",Sk:"react",yu:"reactopt",undo:"undo",qtip:"qtip",BA:"conversion",Yo:"startup",uP:"load-file-progress",appdata:"appdata",Vs:"inline_editing",Cc:"post_build_change_annotator",wF:"post_build_change_annotator_verbose",vF:"post_build_change_annotator_summary",xv:"vmbuild_and_react_perf_stats"};window.structure_together.LogTypes=
c.LogTypes;c.AJ={yJ:"#00FF00"};c.sb={Do:"propositional IFPs",Rn:"interpreted formal proofs",Ts:"ifpdmock",$o:"structured-text",mP:"langmaking",AR:"regexlang",XP:"napl",ws:"firstgenesis",xu:"racket"};c.Bb={jh:"RealtimeAPI",Bd:"Local"};c.SystPropNames={V:"_id_ref",Th:"_docid_ref",ks:"_doctitle_ref",Li:"_ref_nodetype",nodetype:"_nodetype",ch:"_ch",nch:"_nch",ya:"_mutid",S:"_html_name",Oc:"_html_template",Eo:"_prose_name",text:"_text",tk:"_math_syntax",html:"_html",title:"_title",Wi:"_text_format",level:"_level",
index:"_index",Qa:"_local_html_name",Xd:"_special_inlining",qe:"_display_as_defn",kn:"_defn_prefix",me:"_ch_collapsed_init",hidden:"_hidden",ei:"_ignore_children",Pc:"init_val",Lc:"_assigned_val",emphasize:"_emphasize",demphasize:"_demphasize",continued:"_continued",cv:"_strikeout_text",Ii:"_protected",hd:"_abstract_nodetype",wg:"_highlight_first_ref_occurrence_only",Ih:"_assist_trigger",fg:"_content_editable_enabled",Mj:"_bottom_newnode_buttons_enabled",Tg:"_default_require_mutid_delim"};a=c.SystPropNames;
c.Ax=k.mE(a.V,"Referenced node id",a.Th,"Referenced doc id",a.ks,"Doc title",a.Li,"Referenced node type",a.nodetype,"Node type",a.ya,"Id for in-text references",a.S,"Display name",a.Oc,"Display template",a.Eo,"In-text Display name",a.text,"Text",a.html,"Text",a.title,"_title",a.Wi,"Text formatting language",a.level,"Heading level",a.index,"Sequence index",a.Qa,"Custom display name (not shared)",a.Xd,"Special inlining",a.qe,"Display as definition",a.kn,"Prefix for definition",a.me,"Children collapsed on first load",
a.hidden,"Hide",a.ei,"Ignore children",a.Pc,"Initial value",a.Lc,"Computed value",a.Ii,"Protect node from edits",a.emphasize,"Emphasize",a.demphasize,"Demphasize",a.hd,"Abstract node type",a.wg,"Only highlight the first occurrence of a reference in any text field",a.Ih,"Content assist trigger",a.fg,"Inline text editing (HTML's contentEditable)",a.Mj,"Buttons on bottom of screen for adding new nodes",a.Tg,"Require {} delimiters for in-text reference, by default");c.SystDocPropNames={Dg:"_language_id",
Yd:"_storage_and_version_indep_doc_id",qS:"_simple_version"};c.Da={ze:"localauthor",vd:"reader",Tj:"dev"};c.hm={us:"factoring",aA:"basic outline"}},function(k,c){c.Mb={EditableString:"EditableString",Map:"Map",List:"List"};c.be={editstring:"editstring",immutstring:"immutstring",bool:"boolean",num:"number"};c.EventType={OBJECT_CHANGED:"object_changed",VALUES_SET:"values_set",VALUES_ADDED:"values_added",VALUES_REMOVED:"values_removed",VALUE_CHANGED:"value_changed",TEXT_INSERTED:"text_inserted",TEXT_DELETED:"text_deleted",
COLLABORATOR_JOINED:"collaborator_joined",COLLABORATOR_LEFT:"collaborator_left",REFERENCE_SHIFTED:"reference_shifted",DOCUMENT_SAVE_STATE_CHANGED:"document_save_state_changed",UNDO_REDO_STATE_CHANGED:"undo_redo_state_changed",ATTRIBUTE_CHANGED:"attribute_changed"}},function(k,c,a){function m(a,c){switch(c){case 1:return a.wc();case 0:return a.BC()||a.wc()}throw Error("should not be possible unless there's an uncaught type error");}function h(a,c,g,b,d,e){a.lastIndex=d;var f=a.exec(b);if(!f||5<e)return 0===
d?b:b.substring(d);d=b.substring(d,f.index);var l=a.lastIndex,n=c.m.Ma.uf(c,f[1]);n?(f=m(n,g),d+=h(a,n,g,f,0,e+1)):d+=f[0];l<b.length&&(d+=h(a,c,g,b,l,e+1));return d}var f=a(4);c.pF=m;c.Ko=function(a,c,g){var b=m(c,g);return f.F(b)?(f.Kb("fix this eventually (remove the calls): arg to resolveDisplayHelper is trivial."),null):h(a,c,g,b,0,0)};c.OR=h;c.Bx=/(\w+)((?:\([^()]+\))+)/;c.$T=function(a){if((a=a.match(c.Bx))&&3===a.length){console.log(a[1],a[2]);var f=a[2];return[a[1],f.substring(1,f.length-
1).split(")(")]}return null}},function(k,c,a){var m=a(5),h=a(6),f=a(4),l=a(7),n=a(13),g=a(9),b=a(8),d=a(14),e=a(3),p=a(15);k=function(){function a(a,d){var e=this;this.m=a;this.D={panel_hidden:!0,props_being_edited_by_this_user:new Map,lastAddedStringProp:null,selected:!1,hidden:!1,temp_ch_expanded:null};this.cache={privateAndSharedPropKeys:null};this.ha={ve:function(a,d){d=e.eb(a,d);l.weakassert(f.F(d)||b.Nd(d),"prop name "+a+" of node "+e.c+" exists, but its value is of the wrong type (not an editable string): ",
d);return d},bi:function(a){return(a=e.ta.get(a))&&b.Nd(a)},v:function(a,b){var d=e.ha.ve(a,b);return f.R(d)?d.getText?d.getText():(console.error("Error node "+e.c+" key "+a),d):b&&void 0!==b.gf?b.gf:null},U:function(a,b){l.assert_nt(a);if(!e.ta.has(a)){var d=e.B.create.string();l.dlogcat(g.LogTypes.rt,"rt map.set(-,editable string)");e.Fc(a,d);e.m.Af(d,e)}""===b&&(b=e.sC(a),""===b&&l.dlog("EditableString prop set to empty string, and the prop has no default-always val (or it's the empty string), so will set prop to empty string."));
l.dlogcat(g.LogTypes.rt,"rt estring.setText");e.ta.get(a).setText(b)},mC:function(a){var b=null;e.Vb.Ai().forEach(function(d){f.F(b)&&e.ha.ve(d).id===a.id&&(b=d)});return b}};this.P={v:function(a,d){d=e.eb(a,d);l.weakassert(f.F(d)||b.hi(d),"prop name "+a+" of node "+e.c+" exists, but its value is of the wrong type (not an immutable string): ",d);return d},mb:function(a){l.assert_nt(a);return b.hi(e.ta.get(a))},U:function(a,b){l.derrif(f.F(b),"accessor is "+a+". should probably just fail gracefully rather than. e.g. show error and return.");
l.weakassert(f.R(a)&&f.R(b),"See SNode.immutableString.setVal");l.dassert(f.fa(e.H.allowed_flatprops,a),a+" is not a key of "+e.H.nodetype_name+".allowed_flatprops");l.dlogcat(g.LogTypes.rt,"rt map.set(-,string)");if(a===g.SystPropNames.ya&&e.ta.has(g.SystPropNames.ya)){var d=e.ta.get(g.SystPropNames.ya);d!==b&&e.B.Ma.FB(e.c,d,b)}p.inEditMode()?e.Fc(a,b):a===g.SystPropNames.S?e.Fc(g.SystPropNames.Qa,b):l.derr("edit rejected")}};this.ea={v:function(a,d){d=e.eb(a,d);l.weakassert(f.F(d)||b.isBoolean(d),
"prop name "+a+" of node "+e.c+" exists, but its value is of the wrong type (not a boolean): ",d);return d},mb:function(a){l.assert_nt(a);return b.isBoolean(e.ta.get(a))},U:function(a,b){l.assert_nt(a,b);l.dassert(1===e.H.allowed_flatprops[a],a+" is not a key of "+e.H.nodetype_name+".allowed_flatprops or is not registered as a boolean prop");l.dlogcat(g.LogTypes.rt,"rt map.set(-,string)");e.Fc(a,b)}};this.nc={v:function(a,d){d=e.eb(a,d);l.weakassert(f.F(d)||b.isNumber(d),"prop name "+a+" of node "+
e.c+" exists, but its value is of the wrong type (not a number): ",d);return d},mb:function(a){l.assert_nt(a);return b.isNumber(e.ta.get(a))},U:function(a,b){l.assert_nt(a,b);l.dassert(2===e.H.allowed_flatprops[a],a+" is not a key of "+e.H.nodetype_name+".allowed_flatprops or is not registered as a number prop");l.dlogcat(g.LogTypes.rt,"rt map.set(-,string)");e.Fc(a,b)}};this.yc={v:function(a,d){d=e.eb(a,d);l.weakassert(f.F(d)||b.Yn(d),"prop name "+a+" of node "+e.c+" exists, but its value is of the wrong type (not a SyncingList): ",
d);return d},U:function(a,b){e.m.Af(b,e);l.dlogcat(g.LogTypes.rt,"rt node.lists.setVal()");e.Fc(a,b)}};this.zb={v:function(a,d){d=e.eb(a,d);l.weakassert(f.F(d)||b.isMap(d),"prop name "+a+" of node "+e.c+" exists, but its value is of the wrong type (not a SyncingMap): ",d);return d},U:function(a,b){e.m.Af(b,e);l.dlogcat(g.LogTypes.rt,"rt node.maps.setVal()");e.Fc(a,b)}};this.links={v:function(a){l.assert_nt(a);if(e.ta.has(a))try{var d=e.ta.get(a);l.weakassert(b.xc(d),"prop name "+a+" of node "+e.c+
" exists, but its value is of the wrong type (not a FlatPropLink): ",d);return e.m.G(d.linked_nodeid).Va.get(a)}catch(A){return console.error("Error in links.getVal:",A),null}else return null},ve:function(a){l.assert_nt(a);if(e.ta.has(a))try{var d=e.ta.get(a);l.weakassert(b.xc(d),"prop name "+a+" of node "+e.c+" exists, but its value is of the wrong type (not a FlatPropLink): ",d);return d}catch(A){return console.error("Error in links.getObj:",A),null}else return null},bi:function(a){l.assert_nt(a);
return b.xc(e.ta.get(a))},iS:function(a,b){l.assert_nt(a,b);e.Fc(a,b)},dB:function(a){l.assert_nt(a);b.xc(e.ta.get(a))?(e.Va.delete(a),e.Ec()):l.dwarn("Requested delete of a FlatPropLink at label "+a+", but found something else there, so doing nothing:",e.ta.get(a))}};this.Vb={Ai:function(){var a=[];l.dlogcat(g.LogTypes.rt,"rt map.keys()");e.privateAndSharedPropKeys().forEach(function(d){var g=e.eb(d);f.F(g)?l.dwarn("null or undefined prop value for prop key "+d+" with nodetype "+e.nodetype+", nodeid "+
e.c):b.Nd(g)?a.push(d):b.xc(g)&&(g=e.links.v(d),b.Nd(g)&&a.push(d))});return a},cu:function(){var a=[];e.privateAndSharedPropKeys().forEach(function(d){var g=e.eb(d);f.F(g)?l.dwarn("null or undefined prop value for prop key "+d+" with nodetype "+e.nodetype+", nodeid "+e.c):b.isBoolean(g)?a.push(d):b.xc(g)&&(g=e.links.v(d),b.isBoolean(g)&&a.push(d))});return a},du:function(){var a=[];e.privateAndSharedPropKeys().forEach(function(d){var g=e.eb(d);f.F(g)?l.dwarn("null or undefined prop value for prop key "+
d+" with nodetype "+e.nodetype+", nodeid "+e.c):b.isNumber(g)?a.push(d):b.xc(g)&&(g=e.links.v(d),b.isNumber(g)&&a.push(d))});return a},Ak:function(){var a=[];e.privateAndSharedPropKeys().forEach(function(d){var g=e.eb(d);f.F(g)?l.dwarn("null or undefined prop value for prop key "+d+" with nodetype "+e.nodetype+", nodeid "+e.c):b.hi(g)?a.push(d):b.xc(g)&&(g=e.links.v(d),b.hi(g)&&a.push(d))});return a},rQ:function(){var a=[];e.privateAndSharedPropKeys().forEach(function(d){var g=e.eb(d);f.F(g)?l.dwarn("null or undefined prop value for prop key "+
d+" with nodetype "+e.nodetype+", nodeid "+e.c):b.isMap(g)&&a.push(d)});return a},qQ:function(){var a=[];e.privateAndSharedPropKeys().forEach(function(d){var g=e.eb(d);f.F(g)?l.dwarn("null or undefined prop value for prop key "+d+" with nodetype "+e.nodetype+", nodeid "+e.c):b.Yn(g)&&a.push(d)});return a},$E:function(){var a=[];e.privateAndSharedPropKeys().forEach(function(d){var g=e.eb(d);f.F(g)?l.dwarn("null or undefined prop value for prop key "+d+" with nodetype "+e.nodetype+", nodeid "+e.c):
b.xc(g)&&a.push(d)});return a}};l.dassert(null!=a);this.O=a.O;d?(this.Va=d,l.dassert(this.ta.has(g.SystPropNames.nodetype))):(this.Va=this.B.create.map(),this.Fc(g.SystPropNames.nodetype,Object.getPrototypeOf(this).constructor.nodetype_name));structure_together.dev_mode&&(f.Kb("dev_mode enabled so introducing uID var for each node"),window["u"+this.c]=this);a.Tz(this);this.H=this.m.O.qf(this.nodetype);this.m.upstate.re.has(this.c)?(a=this.m.upstate.re.get(this.c),this.oa===a&&(this.oa=!a)):this.ea.mb(g.SystPropNames.me)?
this.oa!==this.ea.v(g.SystPropNames.me)&&(this.oa=this.ea.v(g.SystPropNames.me)):!1===this.H.init_collapsed&&this.oa&&(this.oa=!1);!1===this.H.init_panel_hidden&&(this.D.panel_hidden=!1);this.m.WF(this)}Object.defineProperty(a.prototype,"pdata_readview",{get:function(){return this.Va},enumerable:!0,configurable:!0});a.prototype.Od=function(){return this.xa(n.o.Cd)};a.prototype.sD=function(){return this.Od()||this instanceof h.Ol};Object.defineProperty(a.prototype,"children_collapsed",{get:function(){return this.m.upstate.re.has(this.c)?
!this.m.upstate.re.get(this.c):!0},set:function(a){this.m.upstate.re.set(this.c,!a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"upstate",{get:function(){return this.m.upstate},enumerable:!0,configurable:!0});a.prototype.privateAndSharedPropKeys=function(){this.cache.privateAndSharedPropKeys||this.Ec();return this.cache.privateAndSharedPropKeys};Object.defineProperty(a.prototype,"wstdoc",{get:function(){l.dassert(this.m instanceof m.Pq);return this.m},enumerable:!0,configurable:!0});
a.prototype.Ec=function(){var a=this,b=this.H.cache_updaters;b&&f.WE(b,function(b){b(a)})};Object.defineProperty(a.prototype,"parentNode",{get:function(){return this.m.vo(this)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"nodetype",{get:function(){var a=this.ta.get(g.SystPropNames.nodetype);a||(a=Object.getPrototypeOf(this).constructor.nodetype_name,this.Fc(g.SystPropNames.nodetype,a));return a},enumerable:!0,configurable:!0});a.prototype.xa=function(a){return"string"===typeof a?
this.O.yb(this.nodetype,a):this.O.yb(this.nodetype,a.nodetype_name)};Object.defineProperty(a.prototype,"oid",{get:function(){return b.ff(this.Va)},enumerable:!0,configurable:!0});a.prototype.fc=function(){return!0===this.ea.v(g.SystPropNames.ei)};a.prototype.we=function(){if(this.fc())return!1;var a=this.ta.get(g.SystPropNames.ch);return a&&0<a.length?!0:(a=this.ta.get(g.SystPropNames.nch))&&0<a.size?!0:!1};a.prototype.lb=function(a){return this.ta.has(a)};a.prototype.cs=function(a){this.Zn(a)?this.upstate.bB(this,
a):this.Va.delete(a);this.Ec()};a.prototype.Is=function(a){a=this.eb(a);return b.Nd(a)?a.getText():a};a.prototype.So=function(a,d){var e=this.eb(a);l.assert_nt(e);b.Nd(e)?this.ha.U(a,d):this.P.U(a,d)};a.prototype.eb=function(a,d){l.assert_nt(a);if(this.Zn(a))return this.upstate.YB(this,a);l.dassert(void 0==d||!d.sE||void 0===d.gf);if(this.ta.has(a))return d=this.ta.get(a),b.xc(d)?this.links.v(a):d;if(d&&d.sE)throw l.derr("Problem node and data: ",this,this.ta.toString(),this.ta.keys()),Error("Required (or should be since you used o.must==true) property "+
a+" for "+this.nodetype+" missing!");return d&&void 0!==d.gf?d.gf:null};a.prototype.Fc=function(a,b){var d;d=this.lb(a);this.Zn(a)?this.upstate.KG(this,a,b):this.Va.set(a,b);d&&this.Ec()};a.prototype.od=function(){!0===this.oa&&(this.oa=!1);this.parentNode?this.parentNode.od():l.derrif(!(this instanceof h.Xa),"No .parentNode currently: ",this)};a.prototype.tf=function(){if(!this.parentNode)return null;var a=this.parentNode.yg(this);if(f.R(a)&&0<=a)return a<this.parentNode.Ra()-1?this.parentNode.W(a+
1):null;a=this.parentNode.mk(this);return(a=this.parentNode.GE(a))?a:0<this.parentNode.Ra()?this.parentNode.W(0):null};a.prototype.Jg=function(){if(!this.parentNode)return null;var a=this.parentNode.yg(this);if(f.R(a)&&0<=a)return 0<a?this.parentNode.W(a-1):this.parentNode.qt();a=this.parentNode.mk(this);l.assert_nt(a);return(a=this.parentNode.zF(a))?a:null};a.prototype.KB=function(a){for(var b=this,d;;){b=this.m.vo(b);if(!b)break;d=a(b);if(!1===d)break}};a.prototype.En=function(a){for(var b=this.parentNode;b;)a(b),
b=this.m.vo(b)};a.prototype.ck=function(a){a(this)};a.prototype.toString=function(a){var b=this;void 0===a&&(a="");var d=a+this.nodetype+(" ["+this.c+"]"),e=a+g.Zp;this.Vb.cu().forEach(function(a){d+="\n"+e+a+": "+b.ea.v(a)});this.Vb.du().forEach(function(a){d+="\n"+e+a+": "+b.nc.v(a)});this.Vb.Ak().forEach(function(a){a!=g.SystPropNames.nodetype&&"id"!=a&&(d+="\n"+e+a+": "+b.P.v(a))});this.Vb.Ai().forEach(function(a){d+="\n"+e+a+": "+b.ha.v(a)});for(var c in this.D)d+="\n"+e+"~"+c+": "+f.xF(this.D[c],
!0);this.Od()&&(this.ue(function(a,b){d+="\n"+e+b+":";d+="\n"+a.toString(e+g.Zp)}),this.vc(function(a){d+="\n"+a.toString(e)}));return d};a.prototype.pn=function(){var a=this.m.O.qf(this.nodetype),b=a.required_flatprops,d=[],e;for(e in b)this.lb(e)||(l.dassert(e!==g.SystPropNames.nodetype),l.dassert(!f.F(b[e]),n.nb(a)+".required_flatprops["+e+"] is null-like"),d.push({name:"NewFlatProp",node:this,label:e}));return d};a.prototype.Zn=function(a){return a!==g.SystPropNames.nodetype&&0<=this.H.upstate.indexOf(a)};
a.prototype.jf=function(){return this.m.jf(this.Va)};a.prototype.isUnnamedChild=function(){return this.parentNode&&null!=this.parentNode.yg(this)};a.prototype.kf=function(){return(!this.parentNode.oa||this.parentNode.D.temp_ch_expanded)&&this.jc()&&this.parentNode.kf()};a.prototype.jc=function(){var a=this.ea.v(g.SystPropNames.hidden,{gf:!1}),b=this.D.hidden||2===this.D.filter_status,c=this.H.hide_in_user_modes&&f.jb(this.H.hide_in_user_modes,e.STApp.the.Ef),l=d.stwidgets.showHiddenCheckbox.getValue()||
e.STApp.the.Ef===g.Da.Tj;return!a&&!b&&!c||l};a.prototype.depth=function(){return this.parentNode?1+this.parentNode.depth():0};a.prototype.CF=function(){console.log(b.vG(this.Va))};a.prototype.BF=function(){console.log(b.Qi(this.Va))};a.prototype.tg=function(){var a=this.parentNode;return a?a.lk(this):null};a.prototype.getData=function(){return this.Va};a.prototype.Hs=function(a,b){var d=this.H;return f.fa(d.default_num_prop_vals,a)?(a=d.default_num_prop_vals[a],"number"===typeof a?a:a(this)):b};
a.prototype.Ds=function(a,b){var d=this.H;return f.fa(d.default_bool_prop_vals,a)?d.default_bool_prop_vals[a]:b};a.prototype.hk=function(a,b){var d=this.H;l.dlogcat(g.LogTypes.wa,"Entering getStrDefaultOrElse(<"+this.c+" :: some "+this.nodetype+">, "+a+", builtin==false)");if(d.default_str_prop_vals_at_init&&f.R(d.default_str_prop_vals_at_init[a]))a=d.default_str_prop_vals_at_init[a];else if(d.default_str_prop_vals_when_empty&&f.R(d.default_str_prop_vals_when_empty[a]))a=d.default_str_prop_vals_when_empty[a];
else return b;return"string"===typeof a?a:a(this)};a.prototype.cC=function(a){return this.H.allowed_flatprops[a]};a.prototype.sC=function(a){var b=this.H;b||l.dlog(this,this.nodetype);if("default_str_prop_vals_when_empty"in b&&a in b.default_str_prop_vals_when_empty)a=b.default_str_prop_vals_when_empty[a];else return"";return"string"===typeof a?a:a(this)};a.prototype.Dz=function(){var a=this,b=this.H,d=b.allowed_flatprops,e=b.allowed_nch,c=[],h;for(h in d)this.lb(h)||(l.dassert(h!==g.SystPropNames.nodetype),
l.dassert(!f.F(d[h]),n.nb(b)+".required_flatprops["+h+"] is null-like. It should not be."),c.push({name:"NewFlatProp",node:this,label:h}));this.O.so.forEach(function(b,d){a.O.yb(d,n.o.Cd)&&c.push({name:"NewParentNode",nodetype:d,oe:a})});if(this.Od()){var p=this;p.yk().forEach(function(a){c.push({name:"NewUnnamedNode",nodetype:a.nodetype_name,parent:p,hf:null,Wh:!0})});for(var u in e)p.Kd(u)||(b=e[u],this.m.O.rd(b)?c.push({name:"NewNamedNode",nodetype:b,parent:p,label:u}):(d=this.m.O.ik(b),l.dassert(!f.F(d),
"Set of subtypes of "+b+" should be empty set, not null."),d.forEach(function(b){a.m.O.rd(b)&&c.push({name:"NewNamedNode",nodetype:b,parent:p,label:u})})))}var m=this.parentNode;null!=m&&(l.dassert(this.m.O.yb(m.nodetype,n.o.Cd)),m.yk().forEach(function(b){c.push({name:"NewUnnamedNode",nodetype:b.nodetype_name,parent:m,hf:a,Wh:!0})}));(e=this.O.WB(this.nodetype))&&0<e.size?e.forEach(function(b,d){c.push({name:"ConvertNodetype",node:a,Tt:d})}):l.dlogcat(g.LogTypes.BA,"no conversions available");return c};
return a}();k.nodetype_name="STNode";k.abstract=!0;k.allowed_ch=["STNode"];k.required_flatprops=f.h([g.SystPropNames.nodetype,5]);k.allowed_flatprops=f.h([g.SystPropNames.hidden,1],[g.SystPropNames.Ii,1],[g.SystPropNames.emphasize,1]);k.default_bool_prop_vals=f.h([g.SystPropNames.hidden,!0],[g.SystPropNames.Ii,!0],[g.SystPropNames.emphasize,!0]);k.cache_updaters=[function(a){a.cache.privateAndSharedPropKeys=f.Nz(a.ta.keys());var b=a.upstate.keys(a.c);b&&b.forEach(function(b){l.dassert(-1===a.cache.privateAndSharedPropKeys.indexOf(b));
a.cache.privateAndSharedPropKeys.push(b)})}];c.pc=k},function(k,c,a){var m=a(7);c.o={Xa:"Top",Node:"STNode",Cd:"ParentalNode",pj:"LeafRefableInText",Aa:"ParentalRefableInText",Jf:"RefNode",aq:"ImportNode",Pl:"ImportNodeUntyped",lw:"External",GJ:"ParentalRefNode",aa:"FreeForm",Pp:"GroupNode",ij:"CollapsibleInlineNote",NodeStub:"NodeStub",Cb:"SectionBreak",$b:"Concatenate",Ic:"Seq",Xl:"Numbering",hq:"Link",tb:"RefableInTextMixin",Nf:"ValueAssignableNodeMixin",Ne:"MathParse"};c.fm={xJ:"IntroChildrenOnly",
Dw:"IntroChildrenSiblings",Ap:"ClaimedChildrenOnly",jJ:"Global"};c.nb=function(a){a.nodetype_name||m.derr(a);m.dassert(null!=a.nodetype_name);return a.nodetype_name}},function(k,c){c.stwidgets={}},function(k,c,a){var m=a(14);c.inEditMode=function(){return structure_together.inEditMode()};c.Nh=function(){return structure_together.sapp.Z.top.fg()&&m.stwidgets.inlineEditing.getValue()}},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(a,d){a.__proto__=d}||function(a,d){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b])};return function(b,d){function e(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}}(),h=a(17);k=a(18);var f=a(9),l=a(248),n=a(252);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=null;if(null!=this.props._level)switch(this.props._level){case 1:a="h1";break;case 2:a="h2";break;case 3:a="h3";break;
case 4:a="h4"}if(this.props._display_as_defn&&this.props._html_name)return this.bG(a);var b="";this.props._strikeout_text&&(b=" strikeout");return l.l({key:this.props.nodeid+".inlining",className:"node_inlining "+this.props.nodeid+"-inlining"+b},h.va(this.props._text,this.props.nodeid,f.SystPropNames.text,this.props.stdocid,!0,a))};b.prototype.bG=function(a){var b=[],d=this.props._defn_prefix;d&&b.push(l.l({key:"defn-prefix",style:{marginRight:".5em"}},h.va(d,this.props.nodeid,f.SystPropNames.kn,
this.props.stdocid,!0,a)));b.push(l.l({key:"symbol-intro",className:"symbol-intro"},h.va(this.props._html_name,this.props.nodeid,f.SystPropNames.S,this.props.stdocid,!0,a)));0<n.nG(this.props._text)&&b.push(" - ");a=h.va(this.props._text,this.props.nodeid,f.SystPropNames.text,this.props.stdocid,!1,a);b.push(a);return l.l({key:this.props.nodeid+"defn-inlining"},b)};return b}(k.L);c.Kl=a},function(k,c,a){function m(a){return function(b){function d(){var d=null!==b&&b.apply(this,arguments)||this;d.element_type=
a;return d}f(d,b);return d}(v)}function h(a,c,f,l,n,h){b.dassert("string"!==typeof a);h&&e.DOM[h]||(h="span");r.inEditMode()||f!==d.SystPropNames.S||(b.Kb("Not in edit mode so hooking contenteditable component up to _local_html_name instead of _html_name"),f=d.SystPropNames.Qa);if(b.F(a))return g.dwarn("Trivial value for prop "+f+".  arg to contentEditableInliningEditing is trivial"),e.DOM[h]({key:c+f+"ce"},"???");if(a.element_type)return e.createElement(v,a);x.has(h)||g.derr(h);return e.createElement(x.get(h),
a)}var f=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return function(b,d){function e(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}}();k=a(18);var l=a(248),n=a(190),g=a(7),b=a(4),d=a(9),e=a(19),p=a(46),u=a(189),r=a(15),v=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}f(c,a);c.prototype.Oo=
function(a){var b=a.html();a.data("st-processed-inner-html",b);return b};c.prototype.Ni=function(a){var b=a.data("st-processed-inner-html");a.html(b)};c.prototype.K=function(){var a=this;g.dlogcat(d.LogTypes.Sk,"ContentEditableComponent.render() for node "+this.props.nodeid);var c;c=this.props.element_type&&e.DOM[this.props.element_type]?e.DOM[this.props.element_type]:this.element_type?e.DOM[this.element_type]:l.Wa;var f=this.props.label,h={className:"st-content-editable",key:"inline-editing"+this.props.nodeid+
f};if(r.inEditMode()||f===d.SystPropNames.Qa)h.contentEditable=!0,h.onBlur=function(d){g.assert_nt(a.props.nodeid);var e=d.target;b.uC(e).forEach(function(a){if($(a[1]).hasClass("atwhowrapper")){var b=$(a[1]).text();$(a[1]).replaceWith(b);g.dwarn("atwho wrapper removed!")}});e=e.innerHTML;e="wordlevel_html_etc"===a.props._text_format?n.lH(e):u.zf(e);e===a.props.value?a.Ni($(d.target)):-1===e.indexOf("simple-inline-ref")&&(a.Ni($(d.target)),a.pb({name:"StringPropChange",nodeid:a.props.nodeid,label:f,
value:e}));d.stopPropagation();d.preventDefault()},h.onFocus=function(b){var d=$(b.target),e=d.data("st-caret-pos");r.Nh()?(a.Oo(d),b=_.trim(a.props.value," "),"wordlevel_html_etc"===a.props._text_format&&(b=n.Xs(b)),d.html(b),a.Uz(d),window.setTimeout(function(){try{void 0!=e&&d.fA(e)}catch(H){g.dwarn("Failed to set caret pos",H)}})):d.blur()},h.onClick=function(a){r.Nh()&&(a.preventDefault(),a.stopPropagation())};var p;p="wordlevel_html_etc"===this.props._text_format?n.Xs(this.props.value):u.zf(this.props.value);
h.dangerouslySetInnerHTML={__html:p};return c(h,null)};c.prototype.componentDidUpdate=function(){this.O.Tk||this.Ys(this.props.label===d.SystPropNames.Oc||this.props.label===d.SystPropNames.S)};c.prototype.componentDidMount=function(){this.O.Tk||this.Ys(this.props.label===d.SystPropNames.Oc||this.props.label===d.SystPropNames.S);var a=$(p.findDOMNode(this));a.on("keydown",function(){try{if(0<a.text().length){var b=a.fA();a.data("st-caret-pos",b)}}catch(C){g.dwarn(C)}return!0})};c.prototype.Uz=function(a){var e=
this.B.Ma.Vi;b.Kb("this.wstdoc.refManager.t2m: ",this.B.Ma.Vi.toString());var c=[],f=0;e.forEach(function(a){c.push(a);f=Math.max(a.length+2,f)});a.atwho({at:this.B.top.Ih||"$",data:c,qP:c.length,SP:f,DS:!1,Ye:{DK:function(){g.dwarn("afterMatchFailed");return!1}},yO:!0===this.B.top.ea.v(d.SystPropNames.Tg)?"{${name}}":"${name}"})};return c}(k.L);c.RI=v;var x=new Map;"span div h1 h2 h3 h4".split(" ").forEach(function(a){x.set(a,m(a))});c.mf=function(a,d,e,g,c){b.Ui(d)||(c&&g.push(l.l({key:"prefix-"+
a},c)),g.push(l.l({key:e+"."+a},h(d,e,a))))};c.va=h},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return function(b,d){function e(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(e.prototype=d.prototype,new e)}}(),h=a(7),f=a(4),l=a(9);k=a(19);var n=a(46),g=a(188),b=a(248),d=a(250),e=a(3),p=a(251);c.av={changedset:k.PropTypes.object,
refreshtype:k.PropTypes.number,stdocid:k.PropTypes.string};a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);Object.defineProperty(c.prototype,"controller",{get:function(){return e.STApp.the.C},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"_stdocid",{get:function(){return this.props.stdocid||this.context.stdocid},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"wstdoc",{get:function(){var a=this.Gm,b;(b=a?e.STApp.the.jk(a):e.STApp.the.Z)||
h.derr("STReactComponent.wstdoc is triv. stdocid is "+a+". coarse_vmtype is "+this.props.coarse_vmtype);return b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"rstdoc",{get:function(){return this.B},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"stlang",{get:function(){return this.B.O},enumerable:!0,configurable:!0});c.prototype.Eu=function(a,d,e){f.Kb(" render_node_inlining_with_display_template called");return f.F(a)||f.F(d)?(h.dwarncat(l.LogTypes.bs,"one of the args to render_node_inlining_with_display_template is trivial."),
b.Ib("one of the args to render_node_inlining_with_display_template is trivial")):p.hD(a.html_template_of_ref,d,e,this.props.nodeid,this.Gm)};c.prototype.pb=function(a){this.B.ub(a)};c.prototype.ca=function(a){void 0===a&&(a={});var b=this.props.nodeid+"-inlining";a.className=a.className?a.className+(" "+b):b;a.key||(a.key=this.props.nodeid+"-inlining");return a};c.prototype.bH=function(){if(!this.controller)return h.derr("This should not happen!!!!"),!1;var a;f.dassert(this.controller.yo(),"Inside shoudComponentUpdateForPartial but this.controller.partial_render_update_scheduled() returned false.");
a=this.controller.He;a.Xg===this.props.nodeid?a=!0:a.tc.has(this.props.nodeid)?a=!0:a.bf.has(this.props.nodeid)?(h.dlogcat(l.LogTypes.yu,"SCU: descendants case returning true for partial update of VM for "+this.props.nodeid+"."+this.props.coarse_vmtype+"."),a=!0):a=!1;return a};c.prototype.shouldComponentUpdate=function(a,b,e){if(a.hidden&&this.props.hidden)return!1;2===e.refreshtype?a=this.bH():1===e.refreshtype?(a=null==e.changedset?!1:e.changedset.has(this.props))||h.dlogcat(l.LogTypes.yu,"SCU: changedset is null or VM for "+
this.props.nodeid+"."+this.props.coarse_vmtype+" is not in changedset."):(f.dassert(0===e.refreshtype),a=!0);a&&(d.SC(),d.OC());return a};c.prototype.Ys=function(a){var b=this;void 0===a&&(a=!1);f.dassert(!this.O.Tk);var d=n.findDOMNode(this),d=f.tC(d);h.assert_nt(this.props.nodeid);d.forEach(function(d){g.kD(d[0],b.B.Ma.Fg,b.B,b.props.nodeid,a)})};c.prototype.render=function(){try{return this.K()}catch(v){return h.derr(v),console.error(v),b.Ib("Exception trying to render a CoarseVMType "+this.props.coarse_vmtype+
" belonging to node "+this.props.nodeid)}};return c}(k.Component);a.contextTypes=c.av;c.VJ=a;k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){throw new f.oc;};return b}(a);k.contextTypes=a.contextTypes;c.L=k},function(k,c,a){k.f=a(20)},function(k,c,a){c=a(21);var m=a(22),h=a(35),f=a(38),l=a(39),n=a(41),g=a(26),b=a(42),d=a(44),e=a(45);a(28);k.f={Children:{map:m.map,forEach:m.forEach,count:m.count,toArray:m.toArray,only:e},Component:h,MJ:f,createElement:g.createElement,
cloneElement:g.cloneElement,isValidElement:g.isValidElement,PropTypes:b,createClass:l.createClass,createFactory:g.createFactory,RL:function(a){return a},DOM:n,version:d,__spread:c}},function(k){var c=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;k.f=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var c={},a=0;10>a;a++)c["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(c).map(function(a){return c[a]}).join(""))return!1;
var f={};"abcdefghijklmnopqrst".split("").forEach(function(a){f[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},f)).join("")?!1:!0}catch(l){return!1}}()?Object.assign:function(m,h){var f,l;if(null===m||void 0===m)throw new TypeError("Object.assign cannot be called with null or undefined");l=Object(m);for(var n,g=1;g<arguments.length;g++){f=Object(arguments[g]);for(var b in f)c.call(f,b)&&(l[b]=f[b]);if(Object.getOwnPropertySymbols){n=Object.getOwnPropertySymbols(f);for(var d=0;d<
n.length;d++)a.call(f,n[d])&&(l[n[d]]=f[n[d]])}}return l}},function(k,c,a){function m(a,b){this.func=a;this.context=b;this.count=0}function h(a,b){a.func.call(a.context,b,a.count++)}function f(a,b,d,e){this.result=a;this.nt=b;this.func=d;this.context=e;this.count=0}function l(a,e,g){var c=a.result,f=a.nt;a=a.func.call(a.context,e,a.count++);Array.isArray(a)?n(a,c,g,d.gp):null!=a&&(b.isValidElement(a)&&(a=b.kA(a,f+(!a.key||e&&e.key===a.key?"":(""+a.key).replace(u,"$&/")+"/")+g)),c.push(a))}function n(a,
b,d,g,c){var n="";null!=d&&(n=(""+d).replace(u,"$&/")+"/");b=f.Pa(b,n,g,c);e(a,l,b);f.release(b)}function g(){return null}c=a(23);var b=a(26),d=a(29),e=a(32);a=c.jp;var p=c.dk,u=/\/+/g;m.prototype.md=function(){this.context=this.func=null;this.count=0};c.Kc(m,a);f.prototype.md=function(){this.context=this.func=this.nt=this.result=null;this.count=0};c.Kc(f,p);k.f={forEach:function(a,b,d){if(null==a)return a;b=m.Pa(b,d);e(a,h,b);m.release(b)},map:function(a,b,d){if(null==a)return a;var e=[];n(a,e,null,
b,d);return e},FP:n,count:function(a){return e(a,g,null)},toArray:function(a){var b=[];n(a,b,null,d.gp);return b}}},function(k,c,a){function m(a){a instanceof this?void 0:f("25");a.md();this.sa.length<this.Og&&this.sa.push(a)}function h(a){if(this.sa.length){var c=this.sa.pop();this.call(c,a);return c}return new this(a)}var f=a(24);a(25);k.f={Kc:function(a,c){a.sa=[];a.Pa=c||h;a.Og||(a.Og=10);a.release=m;return a},iF:h,jp:function(a,c){if(this.sa.length){var g=this.sa.pop();this.call(g,a,c);return g}return new this(a,
c)},BH:function(a,c,g){if(this.sa.length){var b=this.sa.pop();this.call(b,a,c,g);return b}return new this(a,c,g)},dk:function(a,c,g,b){if(this.sa.length){var d=this.sa.pop();this.call(d,a,c,g,b);return d}return new this(a,c,g,b)},GB:function(a,c,g,b,d){if(this.sa.length){var e=this.sa.pop();this.call(e,a,c,g,b,d);return e}return new this(a,c,g,b,d)}}},function(k){k.f=function(c){for(var a=arguments.length-1,m="Minified React error #"+c+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+
c,h=0;h<a;h++)m+="&args[]="+encodeURIComponent(arguments[h+1]);a=Error(m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");a.name="Invariant Violation";a.Hn=1;throw a;}},function(k){k.f=function(c,a,m,h,f,l,n,g){if(!c){if(void 0===a)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var b=[m,h,f,l,n,g],d=0;c=Error(a.replace(/%s/g,function(){return b[d++]}));
c.name="Invariant Violation"}c.Hn=1;throw c;}}},function(k,c,a){function m(a,d,e,g,c,f,l){return{zl:n,type:a,key:d,ref:e,props:l,dc:f}}var h=a(21),f=a(27);a(28);a(30);var l=Object.prototype.hasOwnProperty,n=a(31),g={key:!0,ref:!0,kK:!0,lK:!0};m.createElement=function(a,d,e){var b,c={},n=null,h=null;if(null!=d)for(b in void 0!==d.ref&&(h=d.ref),void 0!==d.key&&(n=""+d.key),d)l.call(d,b)&&!g.hasOwnProperty(b)&&(c[b]=d[b]);var k=arguments.length-2;if(1===k)c.children=e;else if(1<k){for(var t=Array(k),
y=0;y<k;y++)t[y]=arguments[y+2];c.children=t}if(a&&a.Sj)for(b in k=a.Sj,k)void 0===c[b]&&(c[b]=k[b]);return m(a,n,h,0,0,f.current,c)};m.createFactory=function(a){var b=m.createElement.bind(null,a);b.type=a;return b};m.kA=function(a,d){return m(a.type,d,a.ref,0,0,a.dc,a.props)};m.cloneElement=function(a,d,e){var b,c=h({},a.props),n=a.key,k=a.ref,x=a.dc;if(null!=d){void 0!==d.ref&&(k=d.ref,x=f.current);void 0!==d.key&&(n=""+d.key);var t;a.type&&a.type.Sj&&(t=a.type.Sj);for(b in d)l.call(d,b)&&!g.hasOwnProperty(b)&&
(c[b]=void 0===d[b]&&void 0!==t?t[b]:d[b])}b=arguments.length-2;if(1===b)c.children=e;else if(1<b){t=Array(b);for(var y=0;y<b;y++)t[y]=arguments[y+2];c.children=t}return m(a.type,n,k,0,0,x,c)};m.isValidElement=function(a){return"object"===typeof a&&null!==a&&a.zl===n};k.f=m},function(k){k.f={current:null}},function(k,c,a){c=a(29);k.f=c},function(k){function c(){}function a(a){return function(){return a}}c.hv=a;c.ml=a(!1);c.Yi=a(!0);c.nl=a(null);c.AH=function(){return this};c.gp=function(a){return a};
k.f=c},function(k){k.f=!1},function(k){var c="function"===typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;k.f=c},function(k,c,a){function m(a,d){return a&&"object"===typeof a&&null!=a.key?g.escape(a.key):d.toString(36)}function h(a,d,e,c){var b=typeof a;if("undefined"===b||"boolean"===b)a=null;if(null===a||"string"===b||"number"===b||"object"===b&&a.zl===l)return e(c,a,""===d?"."+m(a,0):d),1;var p,k,x=0;d=""===d?".":d+":";if(Array.isArray(a))for(b=0;b<a.length;b++)p=a[b],k=d+m(p,
b),x+=h(p,k,e,c);else if(p=n(a))if(b=p.call(a),p!==a.entries)for(a=0;!(p=b.next()).done;)p=p.value,k=d+m(p,a++),x+=h(p,k,e,c);else for(;!(p=b.next()).done;){if(a=p.value)p=a[1],k=d+g.escape(a[0])+":"+m(p,0),x+=h(p,k,e,c)}else"object"===b&&(e=String(a),f("31","[object Object]"===e?"object with keys {"+Object.keys(a).join(", ")+"}":e,""));return x}var f=a(24);a(27);var l=a(31),n=a(33);a(25);var g=a(34);a(28);k.f=function(a,d,e){return null==a?0:h(a,"",d,e)}},function(k){var c="function"===typeof Symbol&&
Symbol.iterator;k.f=function(a){a=a&&(c&&a[c]||a["@@iterator"]);if("function"===typeof a)return a}},function(k){k.f={escape:function(c){var a={"=":"=0",":":"=2"};return"$"+(""+c).replace(/[=:]/g,function(c){return a[c]})},unescape:function(c){var a={"=0":"=","=2":":"};return(""+("."===c[0]&&"$"===c[1]?c.substring(2):c.substring(1))).replace(/(=0|=2)/g,function(c){return a[c]})}}},function(k,c,a){function m(a,g,b){this.props=a;this.context=g;this.refs=l;this.$c=b||f}var h=a(24),f=a(36);a(30);var l=
a(37);a(25);a(28);m.prototype.ht={};m.prototype.setState=function(a,g){"object"!==typeof a&&"function"!==typeof a&&null!=a?h("85"):void 0;this.$c.$j(this,a);g&&this.$c.jg(this,g,"setState")};m.prototype.forceUpdate=function(a){this.$c.Yj(this);a&&this.$c.jg(this,a,"forceUpdate")};k.f=m},function(k,c,a){a(28);k.f={isMounted:function(){return!1},jg:function(){},Yj:function(){},Zj:function(){},$j:function(){}}},function(k){k.f={}},function(k,c,a){function m(a,b,d){this.props=a;this.context=b;this.refs=
n;this.$c=d||l}function h(){}c=a(21);var f=a(35),l=a(36),n=a(37);h.prototype=f.prototype;m.prototype=new h;m.prototype.constructor=m;c(m.prototype,f.prototype);m.prototype.tD=!0;k.f=m},function(k,c,a){function m(){}function h(a,b){if(b){"function"===typeof b?g("75"):void 0;d.isValidElement(b)?g("76"):void 0;var e=a.prototype,c=e.mm;b.hasOwnProperty("mixins")&&v.mixins(a,b.mixins);for(var f in b)if(b.hasOwnProperty(f)&&"mixins"!==f){var h=b[f],p=e.hasOwnProperty(f),u=p,m=f,k=r.hasOwnProperty(m)?r[m]:
null;x.hasOwnProperty(m)&&("OVERRIDE_BASE"!==k?g("73",m):void 0);u&&("DEFINE_MANY"!==k&&"DEFINE_MANY_MERGED"!==k?g("74",m):void 0);if(v.hasOwnProperty(f))v[f](a,h);else u=r.hasOwnProperty(f),"function"!==typeof h||u||p||!1===b.Yz?p?(p=r[f],!u||"DEFINE_MANY_MERGED"!==p&&"DEFINE_MANY"!==p?g("77",p,f):void 0,"DEFINE_MANY_MERGED"===p?e[f]=l(e[f],h):"DEFINE_MANY"===p&&(e[f]=n(e[f],h))):e[f]=h:(c.push(f,h),e[f]=h)}}}function f(a,b){a&&b&&"object"===typeof a&&"object"===typeof b?void 0:g("80");for(var d in b)b.hasOwnProperty(d)&&
(void 0!==a[d]?g("81",d):void 0,a[d]=b[d])}function l(a,b){return function(){var d=a.apply(this,arguments),e=b.apply(this,arguments);if(null==d)return e;if(null==e)return d;var g={};f(g,d);f(g,e);return g}}function n(a,b){return function(){a.apply(this,arguments);b.apply(this,arguments)}}var g=a(24),b=a(21);c=a(35);var d=a(26);a(40);var e=a(36),p=a(37);a(25);a(28);var u=[],r={mixins:"DEFINE_MANY",hH:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",
getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",dj:"OVERRIDE_BASE"},v={displayName:function(a,b){a.displayName=b},mixins:function(a,b){if(b)for(var d=0;d<b.length;d++)h(a,b[d])},childContextTypes:function(a,d){a.childContextTypes=
b({},a.childContextTypes,d)},contextTypes:function(a,d){a.contextTypes=b({},a.contextTypes,d)},getDefaultProps:function(a,b){a.getDefaultProps=a.getDefaultProps?l(a.getDefaultProps,b):b},propTypes:function(a,d){a.propTypes=b({},a.propTypes,d)},hH:function(a,b){if(b)for(var d in b){var e=b[d];b.hasOwnProperty(d)&&(d in v?g("78",d):void 0,d in a?g("79",d):void 0,a[d]=e)}},Yz:function(){}},x={replaceState:function(a,b){this.$c.Zj(this,a);b&&this.$c.jg(this,b,"replaceState")},isMounted:function(){return this.$c.isMounted(this)}};
b(m.prototype,c.prototype,x);k.f={createClass:function(a){function b(a,d,c){if(this.mm.length)for(var f=this.mm,l=0;l<f.length;l+=2)this[f[l]]=f[l+1].bind(this);this.props=a;this.context=d;this.refs=p;this.$c=c||e;this.state=null;a=this.getInitialState?this.getInitialState():null;"object"!==typeof a||Array.isArray(a)?g("82",b.displayName||"ReactCompositeComponent"):void 0;this.state=a}b.prototype=new m;b.prototype.constructor=b;b.prototype.mm=[];u.forEach(h.bind(null,b));h(b,a);b.getDefaultProps&&
(b.Sj=b.getDefaultProps());b.prototype.render?void 0:g("83");for(var d in r)b.prototype[d]||(b.prototype[d]=null);return b},La:{vO:function(a){u.push(a)}}}},function(k){k.f={}},function(k,c,a){c=a(26).createFactory;c={a:c("a"),abbr:c("abbr"),address:c("address"),area:c("area"),article:c("article"),aside:c("aside"),audio:c("audio"),b:c("b"),base:c("base"),bdi:c("bdi"),bdo:c("bdo"),big:c("big"),blockquote:c("blockquote"),body:c("body"),br:c("br"),button:c("button"),canvas:c("canvas"),caption:c("caption"),
cite:c("cite"),code:c("code"),col:c("col"),colgroup:c("colgroup"),data:c("data"),datalist:c("datalist"),dd:c("dd"),del:c("del"),details:c("details"),dfn:c("dfn"),dialog:c("dialog"),div:c("div"),dl:c("dl"),dt:c("dt"),em:c("em"),embed:c("embed"),fieldset:c("fieldset"),figcaption:c("figcaption"),figure:c("figure"),footer:c("footer"),form:c("form"),h1:c("h1"),h2:c("h2"),h3:c("h3"),h4:c("h4"),h5:c("h5"),h6:c("h6"),head:c("head"),header:c("header"),eO:c("hgroup"),hr:c("hr"),html:c("html"),i:c("i"),iframe:c("iframe"),
img:c("img"),input:c("input"),ins:c("ins"),kbd:c("kbd"),keygen:c("keygen"),label:c("label"),legend:c("legend"),li:c("li"),link:c("link"),main:c("main"),map:c("map"),mark:c("mark"),menu:c("menu"),menuitem:c("menuitem"),meta:c("meta"),meter:c("meter"),nav:c("nav"),noscript:c("noscript"),object:c("object"),ol:c("ol"),optgroup:c("optgroup"),option:c("option"),output:c("output"),p:c("p"),param:c("param"),UQ:c("picture"),pre:c("pre"),progress:c("progress"),q:c("q"),rp:c("rp"),rt:c("rt"),ruby:c("ruby"),
s:c("s"),samp:c("samp"),script:c("script"),section:c("section"),select:c("select"),small:c("small"),source:c("source"),span:c("span"),strong:c("strong"),style:c("style"),sub:c("sub"),summary:c("summary"),sup:c("sup"),table:c("table"),tbody:c("tbody"),td:c("td"),textarea:c("textarea"),tfoot:c("tfoot"),th:c("th"),thead:c("thead"),time:c("time"),title:c("title"),tr:c("tr"),track:c("track"),u:c("u"),ul:c("ul"),"var":c("var"),video:c("video"),wbr:c("wbr"),circle:c("circle"),jA:c("clipPath"),defs:c("defs"),
ellipse:c("ellipse"),g:c("g"),oO:c("image"),line:c("line"),linearGradient:c("linearGradient"),mask:c("mask"),path:c("path"),pattern:c("pattern"),polygon:c("polygon"),polyline:c("polyline"),radialGradient:c("radialGradient"),rect:c("rect"),stop:c("stop"),svg:c("svg"),text:c("text"),tspan:c("tspan")};k.f=c},function(k,c,a){function m(a){this.message=a;this.stack=""}function h(a){function d(d,e,g,c,f,l){c=c||"<<anonymous>>";l=l||g;return null==e[g]?(f=b[f],d?null===e[g]?new m("The "+f+" `"+l+"` is marked as required "+
("in `"+c+"`, but its value is `null`.")):new m("The "+f+" `"+l+"` is marked as required in "+("`"+c+"`, but its value is `undefined`.")):null):a(e,g,c,f,l)}var e=d.bind(null,!1);e.isRequired=d.bind(null,!0);return e}function f(a){return h(function(d,e,g,c,f){d=d[e];if(n(d)!==a){c=b[c];a:{e=n(d);if("object"===e){if(d instanceof Date){d="date";break a}if(d instanceof RegExp){d="regexp";break a}}d=e}return new m("Invalid "+c+" `"+f+"` of type "+("`"+d+"` supplied to `"+g+"`, expected ")+("`"+a+"`."))}return null})}
function l(a){switch(typeof a){case "number":case "string":case "undefined":return!0;case "boolean":return!a;case "object":if(Array.isArray(a))return a.every(l);if(null===a||g.isValidElement(a))return!0;var b=p(a);if(b){var d=b.call(a);if(b!==a.entries)for(;!(a=d.next()).done;){if(!l(a.value))return!1}else for(;!(a=d.next()).done;)if((a=a.value)&&!l(a[1]))return!1}else return!1;return!0;default:return!1}}function n(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":"symbol"===
b||"Symbol"===a["@@toStringTag"]||"function"===typeof Symbol&&a instanceof Symbol?"symbol":b}var g=a(26),b=a(40),d=a(43),e=a(29),p=a(33);a(28);c={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:h(e.hv(null)),arrayOf:function(a){return h(function(e,g,c,f,l){if("function"!==typeof a)return new m("Property `"+l+"` of component `"+c+"` has invalid PropType notation inside arrayOf.");e=e[g];if(!Array.isArray(e))return f=
b[f],e=n(e),new m("Invalid "+f+" `"+l+"` of type "+("`"+e+"` supplied to `"+c+"`, expected an array."));for(g=0;g<e.length;g++){var h=a(e,g,c,f,l+"["+g+"]",d);if(h instanceof Error)return h}return null})},element:function(){return h(function(a,d,e,c,f){a=a[d];return g.isValidElement(a)?null:(c=b[c],a=n(a),new m("Invalid "+c+" `"+f+"` of type "+("`"+a+"` supplied to `"+e+"`, expected a single ReactElement.")))})}(),instanceOf:function(a){return h(function(d,e,g,c,f){d[e]instanceof a?g=null:(d=d[e],
g=new m("Invalid "+b[c]+" `"+f+"` of type "+("`"+(d.constructor&&d.constructor.name?d.constructor.name:"<<anonymous>>")+"` supplied to `"+g+"`, expected ")+("instance of `"+(a.name||"<<anonymous>>")+"`.")));return g})},node:function(){return h(function(a,d,e,g,c){return l(a[d])?null:new m("Invalid "+b[g]+" `"+c+"` supplied to "+("`"+e+"`, expected a ReactNode."))})}(),objectOf:function(a){return h(function(e,g,c,f,l){if("function"!==typeof a)return new m("Property `"+l+"` of component `"+c+"` has invalid PropType notation inside objectOf.");
e=e[g];g=n(e);if("object"!==g)return new m("Invalid "+b[f]+" `"+l+"` of type "+("`"+g+"` supplied to `"+c+"`, expected an object."));for(var h in e)if(e.hasOwnProperty(h)&&(g=a(e,h,c,f,l+"."+h,d),g instanceof Error))return g;return null})},oneOf:function(a){return Array.isArray(a)?h(function(d,e,g,c,f){d=d[e];for(e=0;e<a.length;e++){var l=a[e];if(d===l?0!==d||1/d===1/l:d!==d&&l!==l)return null}c=b[c];e=JSON.stringify(a);return new m("Invalid "+c+" `"+f+"` of value `"+d+"` "+("supplied to `"+g+"`, expected one of "+
e+"."))}):(void 0,e.nl)},oneOfType:function(a){return Array.isArray(a)?h(function(e,g,c,f,l){for(var h=0;h<a.length;h++)if(null==(0,a[h])(e,g,c,f,l,d))return null;return new m("Invalid "+b[f]+" `"+l+"` supplied to "+("`"+c+"`."))}):(void 0,e.nl)},shape:function(a){return h(function(e,g,c,f,l){e=e[g];g=n(e);if("object"!==g)return new m("Invalid "+b[f]+" `"+l+"` of type `"+g+"` "+("supplied to `"+c+"`, expected `object`."));for(var h in a)if(g=a[h])if(g=g(e,h,c,f,l+"."+h,d))return g;return null})}};
m.prototype=Error.prototype;k.f=c},function(k){k.f="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(k){k.f="15.4.1"},function(k,c,a){var m=a(24),h=a(26);a(25);k.f=function(a){h.isValidElement(a)?void 0:m("143");return a}},function(k,c,a){k.f=a(47)},function(k,c,a){var m=a(48),h=a(53);c=a(179);var f=a(76),l=a(73),n=a(184),g=a(185),b=a(186),d=a(187);a(61);h.inject();a={findDOMNode:g,render:c.render,unmountComponentAtNode:c.unmountComponentAtNode,version:n,kU:l.batchedUpdates,lU:d};"undefined"!==
typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({QI:{Xh:m.Xh,pa:function(a){a.$a&&(a=b(a));return a?m.pa(a):null}},CJ:c,RJ:f});k.f=a},function(k,c,a){function m(a){for(var b;b=a.$a;)a=b;return a}function h(a,b){a=m(a);a.cc=b;b[e]=a}function f(a,e){if(!(a.uh&d.Pn)){var g=a.he;e=e.firstChild;var c;a:for(c in g)if(g.hasOwnProperty(c)){var f=g[c],l=m(f).cd;if(0!==l){for(;null!==e;e=e.nextSibling)if(1===e.nodeType&&
e.getAttribute(b)===String(l)||8===e.nodeType&&e.nodeValue===" react-text: "+l+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+l+" "){h(f,e);continue a}n("32",l)}}a.uh|=d.Pn}}function l(a){if(a[e])return a[e];for(var b=[];!a[e];)if(b.push(a),a.parentNode)a=a.parentNode;else return null;for(var d,g;a&&(g=a[e]);a=b.pop())d=g,b.length&&f(g,a);return d}var n=a(49);c=a(50);var g=a(52);a(51);var b=c.nj,d=g,e="__reactInternalInstance$"+Math.random().toString(36).slice(2);k.f={Xh:l,Zh:function(a){var b=
l(a);return null!=b&&b.cc===a?b:null},pa:function(a){void 0===a.cc?n("33"):void 0;if(a.cc)return a.cc;for(var b=[];!a.cc;)b.push(a),a.ka?void 0:n("34"),a=a.ka;for(;b.length;a=b.pop())f(a,a.cc);return a.cc},dR:f,Hi:h,kp:function(a){var b=a.cc;b&&(delete b[e],a.cc=null)}}},function(k){k.f=function(c){for(var a=arguments.length-1,m="Minified React error #"+c+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+c,h=0;h<a;h++)m+="&args[]="+encodeURIComponent(arguments[h+1]);a=Error(m+
" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");a.name="Invariant Violation";a.Hn=1;throw a;}},function(k,c,a){function m(a,g){return(a&g)===g}var h=a(49);a(51);var f={kq:1,Qp:4,Rp:8,Tp:24,Sp:32,Sn:function(a){var g=f,b=a.uj||{},d=a.aw||{},e=a.jj||{},c=a.Dp||{},n=a.VI||{};a.ye&&l.xm.push(a.ye);for(var k in b)l.properties.hasOwnProperty(k)?h("48",k):void 0,a=b[k],a={attributeName:k.toLowerCase(),attributeNamespace:null,propertyName:k,
lo:null,Nt:m(a,g.kq),ai:m(a,g.Qp),Qs:m(a,g.Rp),KC:m(a,g.Tp),kk:m(a,g.Sp)},1>=a.ai+a.Qs+a.kk?void 0:h("50",k),e.hasOwnProperty(k)&&(a.attributeName=e[k]),d.hasOwnProperty(k)&&(a.attributeNamespace=d[k]),c.hasOwnProperty(k)&&(a.propertyName=c[k]),n.hasOwnProperty(k)&&(a.lo=n[k]),l.properties[k]=a}},l={nj:"data-reactid",vq:"data-reactroot",Gv:":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",
up:":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},JN:null,xm:[],ye:function(a){for(var g=0;g<l.xm.length;g++)if((0,l.xm[g])(a))return!0;return!1},La:f};k.f=l},function(k){k.f=function(c,a,m,h,f,l,n,g){if(!c){if(void 0===a)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
else{var b=[m,h,f,l,n,g],d=0;c=Error(a.replace(/%s/g,function(){return b[d++]}));c.name="Invariant Violation"}c.Hn=1;throw c;}}},function(k){k.f={Pn:1}},function(k,c,a){var m=a(54),h=a(55),f=a(72),l=a(84),n=a(85),g=a(90),b=a(91),d=a(104),e=a(48),p=a(150),u=a(151),r=a(152),v=a(153),x=a(154),t=a(157),y=a(158),A=a(166),z=a(167),C=a(168),B=!1;k.f={inject:function(){B||(B=!0,t.Hf.dD(x),t.Fp.Tn(l),t.Gp.$C(e),t.Gp.gD(u),t.Fp.Un({YJ:C,dJ:n,NI:f,WJ:z,JI:h}),t.Xp.cD(d),t.Xp.fD(r),t.Gl.Sn(m),t.Gl.Sn(g),t.Gl.Sn(A),
t.jw.aD(function(a){return new p(a)}),t.Nq.eD(y),t.Nq.ZC(v),t.Component.bD(b))}}},function(k){k.f={uj:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,
"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},jj:{},Dp:{}}},function(k,c,a){function m(){var a=
window.opera;return"object"===typeof a&&"function"===typeof a.version&&12>=parseInt(a.version(),10)}function h(a,b){switch(a){case "topKeyUp":return-1!==p.indexOf(b.keyCode);case "topKeyDown":return 229!==b.keyCode;case "topKeyPress":case "topMouseDown":case "topBlur":return!0;default:return!1}}function f(a){a=a.detail;return"object"===typeof a&&"data"in a?a.data:null}function l(a,b){switch(a){case "topCompositionEnd":return f(b);case "topKeyPress":if(32!==b.which)return null;y=!0;return x;case "topTextInput":return a=
b.data,a===x&&y?null:a;default:return null}}function n(a,d){if(A)return"topCompositionEnd"===a||!u&&h(a,d)?(a=A.getData(),b.release(A),A=null,a):null;switch(a){case "topPaste":return null;case "topKeyPress":return d.which&&(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey)?String.fromCharCode(d.which):null;case "topCompositionEnd":return v?null:d.data;default:return null}}var g=a(56);c=a(65);var b=a(66),d=a(69),e=a(71),p=[9,13,27,32],u=c.Ua&&"CompositionEvent"in window;a=null;c.Ua&&"documentMode"in
document&&(a=document.documentMode);var r=c.Ua&&"TextEvent"in window&&!a&&!m(),v=c.Ua&&(!u||a&&8<a&&11>=a),x=String.fromCharCode(32),t={cA:{Ac:{cg:"onBeforeInput",dg:"onBeforeInputCapture"},ld:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},an:{Ac:{cg:"onCompositionEnd",dg:"onCompositionEndCapture"},ld:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},bn:{Ac:{cg:"onCompositionStart",dg:"onCompositionStartCapture"},ld:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},
qA:{Ac:{cg:"onCompositionUpdate",dg:"onCompositionUpdateCapture"},ld:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},y=!1,A=null;k.f={mg:t,se:function(a,c,p,m){var k;var y;if(u)b:{switch(a){case "topCompositionStart":y=t.bn;break b;case "topCompositionEnd":y=t.an;break b;case "topCompositionUpdate":y=t.qA;break b}y=void 0}else A?h(a,p)&&(y=t.an):"topKeyDown"===a&&229===p.keyCode&&(y=t.bn);y?(v&&(A||y!==t.bn?y===t.an&&A&&(k=A.getData()):A=b.Pa(m)),y=d.Pa(y,
c,p,m),k?y.data=k:(k=f(p),null!==k&&(y.data=k)),g.Wf(y),k=y):k=null;(a=r?l(a,p):n(a,p))?(c=e.Pa(t.cA,c,p,m),c.data=a,g.Wf(c)):c=null;return[k,c]}}},function(k,c,a){function m(a,d,g){if(d=e(a,g.cf.Ac[d]))g.bd=b(g.bd,d),g.Ed=b(g.Ed,a)}function h(a){a&&a.cf.Ac&&g.rl(a.Hm,m,a)}function f(a){if(a&&a.cf.Ac){var b=a.Hm,b=b?g.Mn(b):null;g.rl(b,m,a)}}function l(a,d,g){g&&g.cf.wd&&(d=e(a,g.cf.wd))&&(g.bd=b(g.bd,d),g.Ed=b(g.Ed,a))}function n(a){a&&a.cf.wd&&l(a.Hm,0,a)}c=a(57);var g=a(59),b=a(63),d=a(64);a(61);
var e=c.fC;k.f={Wf:function(a){d(a,h)},zK:function(a){d(a,f)},yK:function(a){d(a,n)},qz:function(a,b,d,e){g.hp(d,e,l,a,b)}}},function(k,c,a){function m(a){return f(a,!1)}function h(a){return f(a,!0)}function f(a,b){a&&(g.uB(a,b),a.ft()||a.constructor.release(a))}var l=a(49),n=a(58),g=a(59),b=a(60),d=a(63),e=a(64);a(51);var p={},u=null;k.f={La:{Tn:n.Tn,Un:n.Un},JF:function(a,b,d){"function"!==typeof d?l("94",b,typeof d):void 0;var e="."+a.Db;(p[b]||(p[b]={}))[e]=d;(e=n.Wd[b])&&e.nn&&e.nn(a,b,d)},fC:function(a,
b){var d=p[b];a:switch(b){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":(b=!a.M.props.disabled)||(b=a.M.type,b=!("button"===b||"input"===b||"select"===b||"textarea"===b));b=!b;break a;default:b=!1}if(b)return null;a="."+a.Db;return d&&d[a]},cB:function(a,b){var d=n.Wd[b];d&&d.xl&&d.xl(a,b);(b=p[b])&&delete b["."+a.Db]},aB:function(a){var b=
"."+a.Db,d;for(d in p)if(p.hasOwnProperty(d)&&p[d][b]){var e=n.Wd[d];e&&e.xl&&e.xl(a,d);delete p[d][b]}},se:function(a,b,e,g){for(var c,f=n.plugins,l=0;l<f.length;l++){var h=f[l];h&&(h=h.se(a,b,e,g))&&(c=d(c,h))}return c},ns:function(a){a&&(u=d(u,a))},su:function(a){var d=u;u=null;a?e(d,h):e(d,m);u?l("95"):void 0;b.kG()},jK:function(){p={}},iK:function(){return p}}},function(k,c,a){function m(){if(l)for(var a in n){var d=n[a],e=l.indexOf(a);-1<e?void 0:f("96",a);if(!g.plugins[e]){d.se?void 0:f("97",
a);g.plugins[e]=d;var e=d.mg,c;for(c in e){var m;var k=e[c];m=d;var v=c;g.vn.hasOwnProperty(v)?f("99",v):void 0;g.vn[v]=k;var x=k.Ac;if(x){k=void 0;for(k in x)x.hasOwnProperty(k)&&h(x[k],m,v);m=!0}else k.wd?(h(k.wd,m,v),m=!0):m=!1;m?void 0:f("98",c,a)}}}}function h(a,d,e){g.Wd[a]?f("100",a):void 0;g.Wd[a]=d;g.Bu[a]=d.mg[e].ld}var f=a(49);a(51);var l=null,n={},g={plugins:[],vn:{},Wd:{},Bu:{},bR:null,Tn:function(a){l?f("101"):void 0;l=Array.prototype.slice.call(a);m()},Un:function(a){var b=!1,e;for(e in a)if(a.hasOwnProperty(e)){var g=
a[e];n.hasOwnProperty(e)&&n[e]===g||(n[e]?f("102",e):void 0,n[e]=g,b=!0)}b&&m()},IN:function(a){a=a.cf;if(a.wd)return g.Wd[a.wd]||null;if(void 0!==a.Ac){a=a.Ac;for(var b in a)if(a.hasOwnProperty(b)){var e=g.Wd[a[b]];if(e)return e}}return null},uK:function(){l=null;for(var a in n)n.hasOwnProperty(a)&&delete n[a];g.plugins.length=0;a=g.vn;for(var d in a)a.hasOwnProperty(d)&&delete a[d];d=g.Wd;for(var e in d)d.hasOwnProperty(e)&&delete d[e]}};k.f=g},function(k,c,a){function m(a,d,e,c){var b=a.type||
"unknown-event";a.currentTarget=g.pa(c);d?f.pD(b,e,a):f.bt(b,e,a);a.currentTarget=null}var h=a(49),f=a(60);a(51);a(61);var l,n,g={CO:function(a){return"topMouseUp"===a||"topTouchEnd"===a||"topTouchCancel"===a},FO:function(a){return"topMouseMove"===a||"topTouchMove"===a},JO:function(a){return"topMouseDown"===a||"topTouchStart"===a},QM:function(a){var b=a.bd,e=a.Ed;Array.isArray(b)?h("103"):void 0;a.currentTarget=b?g.pa(e):null;b=b?b(a):null;a.currentTarget=null;a.bd=null;a.Ed=null;return b},uB:function(a,
d){var b=a.bd,g=a.Ed;if(Array.isArray(b))for(var c=0;c<b.length&&!a.isPropagationStopped();c++)m(a,d,b[c],g[c]);else b&&m(a,d,b,g);a.bd=null;a.Ed=null},RM:function(a){var b;a:{b=a.bd;var e=a.Ed;if(Array.isArray(b))for(var g=0;g<b.length&&!a.isPropagationStopped();g++){if(b[g](a,e[g])){b=e[g];break a}}else if(b&&b(a,e)){b=e;break a}b=null}a.Ed=null;a.bd=null;return b},cO:function(a){return!!a.bd},Zh:function(a){return l.Zh(a)},pa:function(a){return l.pa(a)},ct:function(a,d){return n.ct(a,d)},Gs:function(a,
d){return n.Gs(a,d)},Mn:function(a){return n.Mn(a)},rl:function(a,d,e){return n.rl(a,d,e)},hp:function(a,d,e,g,c){return n.hp(a,d,e,g,c)},La:{$C:function(a){l=a},gD:function(a){n=a}}};k.f=g},function(k){function c(c,h,f){try{h(f)}catch(l){null===a&&(a=l)}}var a=null;k.f={bt:c,pD:c,kG:function(){if(a){var c=a;a=null;throw c;}}}},function(k,c,a){c=a(62);k.f=c},function(k){function c(){}function a(a){return function(){return a}}c.hv=a;c.ml=a(!1);c.Yi=a(!0);c.nl=a(null);c.AH=function(){return this};c.gp=
function(a){return a};k.f=c},function(k,c,a){var m=a(49);a(51);k.f=function(a,c){null==c?m("30"):void 0;if(null==a)return c;if(Array.isArray(a)){if(Array.isArray(c))return a.push.apply(a,c),a;a.push(c);return a}return Array.isArray(c)?[a].concat(c):[a,c]}},function(k){k.f=function(c,a,m){Array.isArray(c)?c.forEach(a,m):c&&a.call(m,c)}},function(k){var c=!("undefined"===typeof window||!window.document||!window.document.createElement);k.f={Ua:c,sL:"undefined"!==typeof Worker,qL:c&&!(!window.addEventListener&&
!window.attachEvent),rL:c&&!!window.screen,EO:!c}},function(k,c,a){function m(a){this.Ej=a;this.gr=this.getText();this.sh=null}c=a(21);var h=a(67),f=a(68);c(m.prototype,{md:function(){this.sh=this.gr=this.Ej=null},getText:function(){return"value"in this.Ej?this.Ej.value:this.Ej[f()]},getData:function(){if(this.sh)return this.sh;var a,c=this.gr,g=c.length,b,d=this.getText(),e=d.length;for(a=0;a<g&&c[a]===d[a];a++);var f=g-a;for(b=1;b<=f&&c[g-b]===d[e-b];b++);return this.sh=d.slice(a,1<b?1-b:void 0)}});
h.Kc(m);k.f=m},function(k,c,a){function m(a){a instanceof this?void 0:f("25");a.md();this.sa.length<this.Og&&this.sa.push(a)}function h(a){if(this.sa.length){var c=this.sa.pop();this.call(c,a);return c}return new this(a)}var f=a(49);a(51);k.f={Kc:function(a,c){a.sa=[];a.Pa=c||h;a.Og||(a.Og=10);a.release=m;return a},iF:h,jp:function(a,c){if(this.sa.length){var g=this.sa.pop();this.call(g,a,c);return g}return new this(a,c)},BH:function(a,c,g){if(this.sa.length){var b=this.sa.pop();this.call(b,a,c,g);
return b}return new this(a,c,g)},dk:function(a,c,g,b){if(this.sa.length){var d=this.sa.pop();this.call(d,a,c,g,b);return d}return new this(a,c,g,b)},GB:function(a,c,g,b,d){if(this.sa.length){var e=this.sa.pop();this.call(e,a,c,g,b,d);return e}return new this(a,c,g,b,d)}}},function(k,c,a){var m=a(65),h=null;k.f=function(){!h&&m.Ua&&(h="textContent"in document.documentElement?"textContent":"innerText");return h}},function(k,c,a){function m(a,c,n,g){return h.call(this,a,c,n,g)}var h=a(70);h.Qb(m,{data:null});
k.f=m},function(k,c,a){function m(a,b,d,e){this.cf=a;this.Hm=b;this.De=d;a=this.constructor.oj;for(var g in a)a.hasOwnProperty(g)&&((b=a[g])?this[g]=b(d):"target"===g?this.target=e:this[g]=d[g]);this.isDefaultPrevented=(null!=d.defaultPrevented?d.defaultPrevented:!1===d.returnValue)?l.Yi:l.ml;this.isPropagationStopped=l.ml;return this}var h=a(21),f=a(67),l=a(62);a(61);var n="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" ");
c={type:null,target:null,currentTarget:l.nl,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};h(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.De;a&&(a.preventDefault?a.preventDefault():"unknown"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=l.Yi)},stopPropagation:function(){var a=this.De;a&&(a.stopPropagation?a.stopPropagation():"unknown"!==typeof a.cancelBubble&&
(a.cancelBubble=!0),this.isPropagationStopped=l.Yi)},TQ:function(){this.ft=l.Yi},ft:l.ml,md:function(){var a=this.constructor.oj,b;for(b in a)this[b]=null;for(a=0;a<n.length;a++)this[n[a]]=null}});m.oj=c;m.Qb=function(a,b){function d(){}d.prototype=this.prototype;var e=new d;h(e,a.prototype);a.prototype=e;a.prototype.constructor=a;a.oj=h({},this.oj,b);a.Qb=this.Qb;f.Kc(a,f.dk)};f.Kc(m,f.dk);k.f=m},function(k,c,a){function m(a,c,n,g){return h.call(this,a,c,n,g)}var h=a(70);h.Qb(m,{data:null});k.f=
m},function(k,c,a){function m(a){a=y.Pa(B.change,F,a,A(a));v.Wf(a);t.batchedUpdates(h,a)}function h(a){r.ns(a);r.su(!1)}function f(){E&&(E.detachEvent("onchange",m),F=E=null)}function l(a,b){if("topChange"===a)return b}function n(a,b,d){"topFocus"===a?(f(),E=b,F=d,E.attachEvent("onchange",m)):"topBlur"===a&&f()}function g(){E&&(delete E.value,E.detachEvent?E.detachEvent("onpropertychange",b):E.removeEventListener("propertychange",b,!1),G=D=F=E=null)}function b(a){if("value"===a.propertyName){var b=
a.srcElement.value;b!==D&&(D=b,m(a))}}function d(a,b){if("topInput"===a)return b}function e(a,d,e){"topFocus"===a?(g(),E=d,F=e,D=d.value,G=Object.getOwnPropertyDescriptor(d.constructor.prototype,"value"),Object.defineProperty(E,"value",J),E.attachEvent?E.attachEvent("onpropertychange",b):E.addEventListener("propertychange",b,!1)):"topBlur"===a&&g()}function p(a){if(("topSelectionChange"===a||"topKeyUp"===a||"topKeyDown"===a)&&E&&E.value!==D)return D=E.value,F}function u(a,b){if("topClick"===a)return b}
var r=a(57),v=a(56);c=a(65);var x=a(48),t=a(73),y=a(70),A=a(81),z=a(82),C=a(83),B={change:{Ac:{cg:"onChange",dg:"onChangeCapture"},ld:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},E=null,F=null,D=null,G=null,H=!1;c.Ua&&(H=z("change")&&(!document.documentMode||8<document.documentMode));var I=!1;c.Ua&&(I=z("input")&&(!document.documentMode||11<document.documentMode));var J={get:function(){return G.get.call(this)},set:function(a){D=""+a;G.set.call(this,
a)}};k.f={mg:B,se:function(a,b,g,c){var f=b?x.pa(b):window,h,m,k=f.nodeName&&f.nodeName.toLowerCase();"select"===k||"input"===k&&"file"===f.type?H?h=l:m=n:C(f)?I?h=d:(h=p,m=e):f.nodeName&&"input"===f.nodeName.toLowerCase()&&("checkbox"===f.type||"radio"===f.type)&&(h=u);if(h&&(h=h(a,b)))return a=y.Pa(B.change,h,g,c),a.type="change",v.Wf(a),a;m&&m(a,f,b)}}},function(k,c,a){function m(){for(;v.length||y;){if(v.length){var a=f.Pa();a.Ng(n,null,a);f.release(a)}y&&(y=!1,a=t,t=d.Pa(),a.uo(),d.release(a))}}
function h(){C.If&&A?void 0:b("123")}function f(){this.Uk();this.Sh=null;this.Jh=d.Pa();this.Ji=C.If.Pa(!0)}function l(a,b){return a.Am-b.Am}function n(a){var d=a.Sh;d!==v.length?b("124",d,v.length):void 0;v.sort(l);x++;for(var e=0;e<d;e++){var g=v[e],c=g.Gd;g.Gd=null;var f;p.At&&(f=g,g.M.type.uD&&(f=g.$a),f="React update: "+f.getName(),console.time(f));u.Ao(g,a.Ji,x);f&&console.timeEnd(f);if(c)for(var h=0;h<c.length;h++)a.Jh.enqueue(c[h],g.qd())}}function g(a){h();A.Ag?(v.push(a),null==a.Dh&&(a.Dh=
x+1)):A.batchedUpdates(g,a)}var b=a(49);c=a(21);var d=a(74),e=a(67),p=a(75),u=a(76),r=a(80);a(51);var v=[],x=0,t=d.Pa(),y=!1,A=null,z=[{xe:function(){this.Sh=v.length},close:function(){this.Sh!==v.length?(v.splice(0,this.Sh),m()):v.length=0}},{xe:function(){this.Jh.reset()},close:function(){this.Jh.uo()}}];c(f.prototype,r,{$h:function(){return z},md:function(){this.Sh=null;d.release(this.Jh);this.Jh=null;C.If.release(this.Ji);this.Ji=null},Ng:function(a,b,d){return r.Ng.call(this,this.Ji.Ng,this.Ji,
a,b,d)}});e.Kc(f);var C={If:null,batchedUpdates:function(a,b,d,e,g,c){h();return A.batchedUpdates(a,b,d,e,g,c)},kg:g,IB:m,La:{eD:function(a){a?void 0:b("126");C.If=a},ZC:function(a){a?void 0:b("127");"function"!==typeof a.batchedUpdates?b("128"):void 0;"boolean"!==typeof a.Ag?b("129"):void 0;A=a}},Kj:function(a,d){A.Ag?void 0:b("125");t.enqueue(a,d);y=!0}};k.f=C},function(k,c,a){var m=a(49);c=a(67);a(51);a=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.de=this.ad=null;this.Nx=c}a.prototype.enqueue=function(a,c){this.ad=this.ad||[];this.ad.push(a);this.de=this.de||[];this.de.push(c)};a.prototype.uo=function(){var a=this.ad,c=this.de,h=this.Nx;if(a&&c){a.length!==c.length?m("24"):void 0;this.de=this.ad=null;for(var g=0;g<a.length;g++)a[g].call(c[g],h);a.length=0;c.length=0}};a.prototype.Lh=function(){return this.ad?this.ad.length:0};a.prototype.Oi=function(a){this.ad&&this.de&&(this.ad.length=a,this.de.length=a)};a.prototype.reset=function(){this.de=
this.ad=null};a.prototype.md=function(){this.reset()};return a}();k.f=c.Kc(a)},function(k){k.f={At:!1}},function(k,c,a){function m(){h.Vz(this,this.M)}var h=a(77);a(79);a(61);k.f={Qc:function(a,c,h,g,b,d){h=a.Qc(c,h,g,b,d);a.M&&null!=a.M.ref&&c.fb().enqueue(m,a);return h},Rb:function(a){return a.Rb()},Gc:function(a,c){h.fs(a,a.M);a.Gc(c)},Vd:function(a,c,n,g){var b=a.M;if(c!==b||g!==a.qc){var d=h.cH(b,c);d&&h.fs(a,b);a.Vd(c,n,g);d&&a.M&&null!=a.M.ref&&n.fb().enqueue(m,a)}},Ao:function(a,c,h){a.Dh!==
h?void 0:a.Ao(c)}}},function(k,c,a){var m=a(78);k.f={Vz:function(a,c){if(null!==c&&"object"===typeof c){var f=c.ref;null!=f&&(c=c.dc,"function"===typeof f?f(a.qd()):m.uz(a,f,c))}},cH:function(a,c){var f=null,h=null;null!==a&&"object"===typeof a&&(f=a.ref,h=a.dc);var g=a=null;null!==c&&"object"===typeof c&&(a=c.ref,g=c.dc);return f!==a||"string"===typeof a&&g!==h},fs:function(a,c){if(null!==c&&"object"===typeof c){var f=c.ref;null!=f&&(c=c.dc,"function"===typeof f?f(null):m.YF(a,f,c))}}}},function(k,
c,a){function m(a){return!(!a||"function"!==typeof a.Br||"function"!==typeof a.es)}var h=a(49);a(51);k.f={uz:function(a,c,n){m(n)?void 0:h("119");n.Br(c,a)},YF:function(a,c,n){m(n)?void 0:h("120");var g=n.qd();g&&g.refs[c]===a.qd()&&n.es(c)}}},function(k){k.f={XL:null}},function(k,c,a){var m=a(49);a(51);var h={};k.f={Uk:function(){this.kv=this.$h();this.Ff?this.Ff.length=0:this.Ff=[];this.zj=!1},zj:!1,$h:null,Bg:function(){return!!this.zj},Ng:function(a,c,h,g,b,d,e,p){this.Bg()?m("27"):void 0;var f,
l;try{f=this.zj=!0,this.Us(0),l=a.call(c,h,g,b,d,e,p),f=!1}finally{try{if(f)try{this.$m(0)}catch(v){}else this.$m(0)}finally{this.zj=!1}}return l},Us:function(a){for(var c=this.kv;a<c.length;a++){var f=c[a];try{this.Ff[a]=h,this.Ff[a]=f.xe?f.xe.call(this):null}finally{if(this.Ff[a]===h)try{this.Us(a+1)}catch(g){}}}},$m:function(a){this.Bg()?void 0:m("28");for(var c=this.kv;a<c.length;a++){var f=c[a],g=this.Ff[a],b;try{b=!0,g!==h&&f.close&&f.close.call(this,g),b=!1}finally{if(b)try{this.$m(a+1)}catch(d){}}}this.Ff.length=
0}}},function(k){k.f=function(c){c=c.target||c.srcElement||window;c.FA&&(c=c.FA);return 3===c.nodeType?c.parentNode:c}},function(k,c,a){var m=a(65),h;m.Ua&&(h=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));k.f=function(a,c){if(!m.Ua||c&&!("addEventListener"in document))return!1;c="on"+a;var f=c in document;f||(f=document.createElement("div"),f.setAttribute(c,"return;"),f="function"===typeof f[c]);!f&&h&&"wheel"===a&&(f=document.implementation.hasFeature("Events.wheel",
"3.0"));return f}},function(k){var c={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};k.f=function(a){var m=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===m?!!c[a.type]:"textarea"===m?!0:!1}},function(k){k.f="ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")},function(k,c,a){var m=a(56),h=a(48),
f=a(86),l={oE:{wd:"onMouseEnter",ld:["topMouseOut","topMouseOver"]},pE:{wd:"onMouseLeave",ld:["topMouseOut","topMouseOver"]}};k.f={mg:l,se:function(a,c,b,d){if("topMouseOver"===a&&(b.relatedTarget||b.fromElement)||"topMouseOut"!==a&&"topMouseOver"!==a)return null;var e;e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window;"topMouseOut"===a?(a=c,c=(c=b.relatedTarget||b.toElement)?h.Xh(c):null):a=null;if(a===c)return null;var g=null==a?e:h.pa(a);e=null==c?e:h.pa(c);var n=f.Pa(l.pE,
a,b,d);n.type="mouseleave";n.target=g;n.relatedTarget=e;b=f.Pa(l.oE,c,b,d);b.type="mouseenter";b.target=e;b.relatedTarget=g;m.qz(n,b,a,c);return[n,b]}}},function(k,c,a){function m(a,c,g,b){return h.call(this,a,c,g,b)}var h=a(87),f=a(88);c={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a(89),button:function(a){var c=a.button;return"which"in a?c:2===c?2:4===c?1:0},buttons:null,relatedTarget:function(a){return a.relatedTarget||
(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(a){return"pageX"in a?a.pageX:a.clientX+f.Zr},pageY:function(a){return"pageY"in a?a.pageY:a.clientY+f.$r}};h.Qb(m,c);k.f=m},function(k,c,a){function m(a,c,g,b){return h.call(this,a,c,g,b)}var h=a(70),f=a(81);h.Qb(m,{view:function(a){if(a.view)return a.view;a=f(a);return a.window===a?a:(a=a.ownerDocument)?a.defaultView||a.parentWindow:window},detail:function(a){return a.detail||0}});k.f=m},function(k){var c={Zr:0,$r:0,VF:function(a){c.Zr=
a.x;c.$r=a.y}};k.f=c},function(k){function c(c){var h=this.De;return h.getModifierState?h.getModifierState(c):(c=a[c])?!!h[c]:!1}var a={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};k.f=function(){return c}},function(k,c,a){c=a(50);a=c.La.kq;var m=c.La.Qp,h=c.La.Rp,f=c.La.Tp,l=c.La.Sp;c={ye:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+c.up+"]*$")),uj:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:m,allowTransparency:0,alt:0,UK:0,async:m,autoComplete:0,autoPlay:m,
Lr:m,cellPadding:0,cellSpacing:0,yL:0,xL:0,checked:a|m,cite:0,CL:0,className:0,cols:f,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:m,coords:0,crossOrigin:0,data:0,dateTime:0,"default":m,defer:m,dir:0,disabled:m,download:l,draggable:0,KM:0,form:0,formAction:0,oN:0,formMethod:0,formNoValidate:m,formTarget:0,frameBorder:0,headers:0,height:0,hidden:m,high:0,href:0,jO:0,htmlFor:0,httpEquiv:0,icon:0,id:0,xO:0,integrity:0,is:0,hP:0,lP:0,kind:0,label:0,lang:0,list:0,loop:m,low:0,EP:0,marginHeight:0,
marginWidth:0,max:0,maxLength:0,media:0,VP:0,method:0,min:0,minLength:0,multiple:a|m,muted:a|m,name:0,gQ:0,noValidate:m,open:m,optimum:0,pattern:0,placeholder:0,WQ:m,poster:0,eR:0,profile:0,pR:0,readOnly:m,referrerPolicy:0,rel:0,required:m,lG:m,role:0,rows:f,rowSpan:h,sandbox:0,scope:0,BG:m,scrolling:0,FG:m,selected:a|m,shape:0,size:f,sizes:0,span:f,spellCheck:0,src:0,AS:0,BS:0,CS:0,start:h,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,CU:0,wrap:0,vK:0,WL:0,
wO:0,prefix:0,property:0,PR:0,"typeof":0,zU:0,YK:0,ZK:0,aL:0,color:0,SO:0,UO:m,VO:0,RO:0,TO:0,QR:0,bS:0,unselectable:0},jj:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},Dp:{}};k.f=c},function(k,c,a){c=a(92);a={Qg:a(103).WA,Wk:c.hn};k.f=a},function(k,c,a){function m(a,b){Array.isArray(b)&&(b=b[1]);return b?b.nextSibling:a.firstChild}function h(a,b,c){for(;;){var d=b.nextSibling;if(d===c)break;else a.removeChild(d)}}var f=a(93);c=a(99);a(48);a(79);var l=a(96),
n=a(95),g=a(97),b=l(function(a,b,c){a.insertBefore(b,c)});k.f={hn:c.hn,fG:function(a,e,c){var d=a.parentNode,f=a.nextSibling;f===e?c&&b(d,document.createTextNode(c),f):c?(g(f,c),h(d,f,e)):h(d,a,e)},FF:function(a,e){for(var d=0;d<e.length;d++){var c=e[d];switch(c.type){case "INSERT_MARKUP":var l=m(a,c.Xf);f.$s(a,c.content,l);break;case "MOVE_EXISTING":var k=a,l=c.pg,x=m(a,c.Xf);if(Array.isArray(l))for(c=k,k=l[1],l=l[0];;){var t=l.nextSibling;b(c,l,x);if(l===k)break;l=t}else b(k,l,x);break;case "SET_MARKUP":n(a,
c.content);break;case "TEXT_CONTENT":g(a,c.content);break;case "REMOVE_NODE":l=a,c=c.pg,Array.isArray(c)&&(k=c[1],c=c[0],h(l,c,k),l.removeChild(k)),l.removeChild(c)}}}}},function(k,c,a){function m(a){if(b){var e=a.node,c=a.children;if(c.length)for(a=0;a<c.length;a++)d(e,c[a],null);else null!=a.html?n(e,a.html):null!=a.text&&g(e,a.text)}}function h(){return this.node.nodeName}function f(a){return{node:a,children:[],html:null,text:null,toString:h}}var l=a(94),n=a(95);c=a(96);var g=a(97),b="undefined"!==
typeof document&&"number"===typeof document.documentMode||"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),d=c(function(a,b,d){11===b.node.nodeType||1===b.node.nodeType&&"object"===b.node.nodeName.toLowerCase()&&(null==b.node.namespaceURI||b.node.namespaceURI===l.html)?(m(b),a.insertBefore(b.node,d)):(a.insertBefore(b.node,d),m(b))});f.$s=d;f.eG=function(a,b){a.parentNode.replaceChild(b.node,a);m(b)};f.Ok=function(a,d){b?a.children.push(d):
a.node.appendChild(d.node)};f.MF=function(a,d){b?a.html=d:n(a.node,d)};f.NF=function(a,d){b?a.text=d:g(a.node,d)};k.f=f},function(k){k.f={html:"http://www.w3.org/1999/xhtml",XD:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"}},function(k,c,a){c=a(65);var m=a(94),h=/^[ \r\n\t\f]/,f=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l;a=a(96)(function(a,c){if(a.namespaceURI!==m.svg||"innerHTML"in a)a.innerHTML=c;else for(l=l||document.createElement("div"),l.innerHTML="<svg>"+
c+"</svg>",c=l.firstChild;c.firstChild;)a.appendChild(c.firstChild)});c.Ua&&(c=document.createElement("div"),c.innerHTML=" ",""===c.innerHTML&&(a=function(a,c){a.parentNode&&a.parentNode.replaceChild(a,a);h.test(c)||"<"===c[0]&&f.test(c)?(a.innerHTML=String.fromCharCode(65279)+c,c=a.firstChild,1===c.data.length?a.removeChild(c):c.deleteData(0,1)):a.innerHTML=c}),c=null);k.f=a},function(k){k.f=function(c){return"undefined"!==typeof MSApp&&MSApp.tB?function(a,m,h,f){MSApp.tB(function(){return c(a,m,
h,f)})}:c}},function(k,c,a){function m(a,c){if(c){var g=a.firstChild;if(g&&g===a.lastChild&&3===g.nodeType){g.nodeValue=c;return}}a.textContent=c}c=a(65);var h=a(98),f=a(95);c.Ua&&("textContent"in document.documentElement||(m=function(a,c){3===a.nodeType?a.nodeValue=c:f(a,h(c))}));k.f=m},function(k){var c=/["'&<>]/;k.f=function(a){if("boolean"===typeof a||"number"===typeof a)a=""+a;else{a=""+a;var m=c.exec(a);if(m){var h="",f,l=0;for(f=m.index;f<a.length;f++){switch(a.charCodeAt(f)){case 34:m="&quot;";
break;case 38:m="&amp;";break;case 39:m="&#x27;";break;case 60:m="&lt;";break;case 62:m="&gt;";break;default:continue}l!==f&&(h+=a.substring(l,f));l=f+1;h+=m}a=l!==f?h+a.substring(l,f):h}}return a}},function(k,c,a){var m=a(49),h=a(93),f=a(65),l=a(100),n=a(62);a(51);k.f={hn:function(a,b){f.Ua?void 0:m("56");b?void 0:m("57");"HTML"===a.nodeName?m("58"):void 0;"string"===typeof b?(b=l(b,n)[0],a.parentNode.replaceChild(b,a)):h.eG(a,b)}}},function(k,c,a){c=a(65);var m=a(101),h=a(102),f=a(51),l=c.Ua?document.createElement("div"):
null,n=/^\s*<(\w+)/;k.f=function(a,b){var d=l;l?void 0:f(!1);var e;if(e=(e=(e=a.match(n))&&e[1].toLowerCase())&&h(e))for(d.innerHTML=e[1]+a+e[2],a=e[0];a--;)d=d.lastChild;else d.innerHTML=a;a=d.getElementsByTagName("script");a.length&&(b?void 0:f(!1),m(a).forEach(b));for(b=Array.from(d.childNodes);d.lastChild;)d.removeChild(d.lastChild);return b}},function(k,c,a){var m=a(51);k.f=function(a){if(a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&
(Array.isArray(a)||"callee"in a||"item"in a)){var c;if(Array.isArray(a))c=a.slice();else a:{var l=a.length;Array.isArray(a)||"object"!==typeof a&&"function"!==typeof a?m(!1):void 0;"number"!==typeof l?m(!1):void 0;0===l||l-1 in a?void 0:m(!1);"function"===typeof a.callee?m(!1):void 0;if(a.hasOwnProperty)try{c=Array.prototype.slice.call(a);break a}catch(g){}c=Array(l);for(var h=0;h<l;h++)c[h]=a[h]}a=c}else a=[a];return a}},function(k,c,a){c=a(65);var m=a(51),h=c.Ua?document.createElement("div"):null,
f={};a=[1,'<select multiple="true">',"</select>"];c=[1,"<table>","</table>"];var l=[3,"<table><tbody><tr>","</tr></tbody></table>"],n=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],g={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:a,option:a,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l};"circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop text tspan".split(" ").forEach(function(a){g[a]=
n;f[a]=!0});k.f=function(a){h?void 0:m(!1);g.hasOwnProperty(a)||(a="*");f.hasOwnProperty(a)||(h.innerHTML="*"===a?"<link />":"<"+a+"></"+a+">",f[a]=!h.firstChild);return f[a]?g[a]:null}},function(k,c,a){var m=a(92),h=a(48);k.f={WA:function(a,c){a=h.pa(a);m.FF(a,c)}}},function(k,c,a){function m(a,b){if(b)if(V[a.na]&&(null!=b.children||null!=b.dangerouslySetInnerHTML?u("137",a.na,a.M.dc?" Check the render method of "+a.M.dc.getName()+".":""):void 0),null!=b.dangerouslySetInnerHTML&&(null!=b.children?
u("60"):void 0,"object"===typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML?void 0:u("61")),null!=b.style&&"object"!==typeof b.style){a:{if(a&&(a=a.M.dc||null)&&(a=a.getName())){a=" This DOM node was rendered by `"+a+"`.";break a}a=""}u("62",a)}else void 0}function h(a,b,d,e){if(!(e instanceof K)){var c=a.ed;M(b,c.Bm&&11===c.Bm.nodeType?c.Bm:c.Bj);e.fb().enqueue(f,{lD:a,wd:b,listener:d})}}function f(){C.JF(this.lD,this.wd,this.listener)}function l(){D.Gi(this)}function n(){I.Gi(this)}
function g(){G.Gi(this)}function b(){this.Db?void 0:u("63");var a=N(this);a?void 0:u("64");switch(this.na){case "iframe":case "object":this.ia.listeners=[B.qb("topLoad","load",a)];break;case "video":case "audio":this.ia.listeners=[];for(var b in R)R.hasOwnProperty(b)&&this.ia.listeners.push(B.qb(b,R[b],a));break;case "source":this.ia.listeners=[B.qb("topError","error",a)];break;case "img":this.ia.listeners=[B.qb("topError","error",a),B.qb("topLoad","load",a)];break;case "form":this.ia.listeners=[B.qb("topReset",
"reset",a),B.qb("topSubmit","submit",a)];break;case "input":case "select":case "textarea":this.ia.listeners=[B.qb("topInvalid","invalid",a)]}}function d(){H.uF(this)}function e(a,b){return 0<=a.indexOf("-")||null!=b.is}function p(a){var b=a.type;Y.call(X,b)||(W.test(b)?void 0:u("65",b),X[b]=!0);this.M=a;this.na=b.toLowerCase();this.ka=this.cc=this.Uf=this.he=this.Aj=null;this.cd=this.Db=0;this.Ah=this.ia=this.ed=null;this.uh=0}var u=a(49),r=a(21),v=a(105),x=a(107),t=a(93),y=a(94),A=a(50),z=a(115),
C=a(57);c=a(58);var B=a(117),E=a(52),F=a(48),D=a(120),G=a(123),H=a(124),I=a(125);a(79);var J=a(126),K=a(146);a(62);var L=a(98);a(51);a(82);a(135);a(149);a(61);var Q=C.cB,N=F.pa,M=B.ED,P=c.Wd,O={string:!0,number:!0},S={children:null,dangerouslySetInnerHTML:null,US:null},R={CH:"abort",EH:"canplay",FH:"canplaythrough",GH:"durationchange",HH:"emptied",IH:"encrypted",JH:"ended",KH:"error",NH:"loadeddata",OH:"loadedmetadata",MH:"loadstart",QH:"pause",RH:"play",SH:"playing",TH:"progress",UH:"ratechange",
VH:"seeked",WH:"seeking",XH:"stalled",YH:"suspend",ZH:"timeupdate",$H:"volumechange",aI:"waiting"},U={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},T={listing:!0,pre:!0,textarea:!0},V=r({menuitem:!0},U),W=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,X={},Y={}.hasOwnProperty,Z=1;p.displayName="ReactDOMComponent";p.Sl={Qc:function(a,d,e,c){this.Db=Z++;this.cd=e.vm++;this.ka=d;this.ed=e;var f=this.M.props;switch(this.na){case "audio":case "form":case "iframe":case "img":case "link":case "object":case "source":case "video":this.ia=
{listeners:null};a.fb().enqueue(b,this);break;case "input":D.pf(this,f,d);f=D.Gb(this,f);a.fb().enqueue(b,this);break;case "option":G.pf(this,f,d);f=G.Gb(this,f);break;case "select":H.pf(this,f,d);f=H.Gb(this,f);a.fb().enqueue(b,this);break;case "textarea":I.pf(this,f,d),f=I.Gb(this,f),a.fb().enqueue(b,this)}m(this,f);var h,p;null!=d?(h=d.Aj,p=d.na):e.na&&(h=e.Aj,p=e.na);if(null==h||h===y.svg&&"foreignobject"===p)h=y.html;h===y.html&&("svg"===this.na?h=y.svg:"math"===this.na&&(h=y.XD));this.Aj=h;
a.Df?(d=e.Bj,h===y.html?"script"===this.na?(h=d.createElement("div"),d=this.M.type,h.innerHTML="<"+d+"></"+d+">",h=h.removeChild(h.firstChild)):h=f.is?d.createElement(this.M.type,f.is):d.createElement(this.M.type):h=d.createElementNS(h,this.M.type),F.Hi(this,h),this.uh|=E.Pn,this.ka||z.IG(h),this.jr(null,f,a),h=t(h),this.Sx(a,f,c,h),c=h):(h=this.Tx(a,f),c=this.Rx(a,f,c),c=!c&&U[this.na]?h+"/>":h+">"+c+"</"+this.M.type+">");switch(this.na){case "input":a.fb().enqueue(l,this);f.autoFocus&&a.fb().enqueue(v.ak,
this);break;case "textarea":a.fb().enqueue(n,this);f.autoFocus&&a.fb().enqueue(v.ak,this);break;case "select":f.autoFocus&&a.fb().enqueue(v.ak,this);break;case "button":f.autoFocus&&a.fb().enqueue(v.ak,this);break;case "option":a.fb().enqueue(g,this)}return c},Tx:function(a,b){var d="<"+this.M.type,c;for(c in b)if(b.hasOwnProperty(c)){var g=b[c];if(null!=g)if(P.hasOwnProperty(c))g&&h(this,c,g,a);else{"style"===c&&(g&&(g=this.Uf=r({},b.style)),g=x.OA(g,this));var f=null;null!=this.na&&e(this.na,b)?
S.hasOwnProperty(c)||(f=z.KA(c,g)):f=z.MA(c,g);f&&(d+=" "+f)}}if(a.renderToStaticMarkup)return d;this.ka||(d+=" "+z.NA());return d+=" "+z.LA(this.cd)},Rx:function(a,b,d){var e="",c=b.dangerouslySetInnerHTML;null!=c?null!=c.__html&&(e=c.__html):(c=O[typeof b.children]?b.children:null,b=null!=c?null:b.children,null!=c?e=L(c):null!=b&&(e=this.Mt(b,a,d).join("")));return T[this.na]&&"\n"===e.charAt(0)?"\n"+e:e},Sx:function(a,b,d,e){var c=b.dangerouslySetInnerHTML;if(null!=c)null!=c.__html&&t.MF(e,c.__html);
else if(c=O[typeof b.children]?b.children:null,b=null!=c?null:b.children,null!=c)t.NF(e,c);else if(null!=b)for(a=this.Mt(b,a,d),d=0;d<a.length;d++)t.Ok(e,a[d])},Vd:function(a,b,d){var e=this.M;this.M=a;this.dj(b,e,a,d)},dj:function(a,b,e,c){b=b.props;e=this.M.props;switch(this.na){case "input":b=D.Gb(this,b);e=D.Gb(this,e);break;case "option":b=G.Gb(this,b);e=G.Gb(this,e);break;case "select":b=H.Gb(this,b);e=H.Gb(this,e);break;case "textarea":b=I.Gb(this,b),e=I.Gb(this,e)}m(this,e);this.jr(b,e,a);
this.nz(b,e,a,c);switch(this.na){case "input":D.ej(this);break;case "textarea":I.ej(this);break;case "select":a.fb().enqueue(d,this)}},jr:function(a,b,d){var c,g,f;for(c in a)if(!b.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=this.Uf;for(g in l)l.hasOwnProperty(g)&&(f=f||{},f[g]="");this.Uf=null}else P.hasOwnProperty(c)?a[c]&&Q(this,c):e(this.na,a)?S.hasOwnProperty(c)||z.eB(N(this),c):(A.properties[c]||A.ye(c))&&z.ln(N(this),c);for(c in b){var l=b[c],n="style"===c?this.Uf:
null!=a?a[c]:void 0;if(b.hasOwnProperty(c)&&l!==n&&(null!=l||null!=n))if("style"===c)if(l?l=this.Uf=r({},l):this.Uf=null,n){for(g in n)!n.hasOwnProperty(g)||l&&l.hasOwnProperty(g)||(f=f||{},f[g]="");for(g in l)l.hasOwnProperty(g)&&n[g]!==l[g]&&(f=f||{},f[g]=l[g])}else f=l;else if(P.hasOwnProperty(c))l?h(this,c,l,d):n&&Q(this,c);else if(e(this.na,b))S.hasOwnProperty(c)||z.Vu(N(this),c,l);else if(A.properties[c]||A.ye(c))n=N(this),null!=l?z.Wu(n,c,l):z.ln(n,c)}f&&x.SG(N(this),f,this)},nz:function(a,
b,d,e){var c=O[typeof a.children]?a.children:null,g=O[typeof b.children]?b.children:null,f=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,h=b.dangerouslySetInnerHTML&&b.dangerouslySetInnerHTML.__html;b=null!=g?null:b.children;var l=null!=c||null!=f,n=null!=g||null!=h;null!=(null!=c?null:a.children)&&null==b?this.tl(null,d,e):l&&!n&&this.tv("");null!=g?c!==g&&this.tv(""+g):null!=h?f!==h&&this.hI(""+h):null!=b&&this.tl(b,d,e)},Rb:function(){return N(this)},Gc:function(a){switch(this.na){case "audio":case "form":case "iframe":case "img":case "link":case "object":case "source":case "video":var b=
this.ia.listeners;if(b)for(var d=0;d<b.length;d++)b[d].remove();break;case "html":case "head":case "body":u("66",this.na)}this.cj(a);F.kp(this);C.aB(this);this.cd=this.Db=0;this.ia=null},qd:function(){return N(this)}};r(p.prototype,p.Sl,J.Sl);k.f=p},function(k,c,a){var m=a(48),h=a(106);k.f={ak:function(){h(m.pa(this))}}},function(k){k.f=function(c){try{c.focus()}catch(a){}}},function(k,c,a){var m=a(108);c=a(65);a(79);a(109);var h=a(111),f=a(112),l=a(114);a(61);var n=l(function(a){return f(a)}),g=
!1,b="cssFloat";if(c.Ua){a=document.createElement("div").style;try{a.font=""}catch(d){g=!0}void 0===document.documentElement.style.cssFloat&&(b="styleFloat")}k.f={OA:function(a,b){var d="",e;for(e in a)if(a.hasOwnProperty(e)){var c=a[e];null!=c&&(d+=n(e)+":",d+=h(e,c,b)+";")}return d||null},SG:function(a,e,c){a=a.style;for(var d in e)if(e.hasOwnProperty(d)){var f=h(d,e[d],c);if("float"===d||"cssFloat"===d)d=b;if(f)a[d]=f;else if(f=g&&m.aH[d])for(var l in f)a[l]="";else a[d]=""}}}},function(k){var c=
{MK:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,iL:!0,jL:!0,kL:!0,LL:!0,flex:!0,flexGrow:!0,fN:!0,flexShrink:!0,dN:!0,eN:!0,YN:!0,XN:!0,fontWeight:!0,sP:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,$S:!0,widows:!0,zIndex:!0,zoom:!0,CB:!0,HB:!0,iH:!0,mH:!0,nH:!0,oH:!0,pH:!0,qH:!0},a=["Webkit","ms","Moz","O"];Object.keys(c).forEach(function(m){a.forEach(function(a){c[a+m.charAt(0).toUpperCase()+m.substring(1)]=c[m]})});k.f={vD:c,aH:{background:{backgroundAttachment:!0,backgroundColor:!0,
backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,
fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}}},function(k,c,a){var m=a(110),h=/^-ms-/;k.f=function(a){return m(a.replace(h,"ms-"))}},function(k){var c=/-(.)/g;k.f=function(a){return a.replace(c,function(a,c){return c.toUpperCase()})}},function(k,c,a){c=a(108);a(61);var m=c.vD;k.f=function(a,c){if(null==c||"boolean"===typeof c||""===c)return"";if(isNaN(c)||0===c||m.hasOwnProperty(a)&&m[a])return""+c;"string"===typeof c&&
(c=c.trim());return c+"px"}},function(k,c,a){var m=a(113),h=/^ms-/;k.f=function(a){return m(a).replace(h,"-ms-")}},function(k){var c=/([A-Z])/g;k.f=function(a){return a.replace(c,"-$1").toLowerCase()}},function(k){k.f=function(c){var a={};return function(m){a.hasOwnProperty(m)||(a[m]=c.call(this,m));return a[m]}}},function(k,c,a){function m(a){if(b.hasOwnProperty(a))return!0;if(g.hasOwnProperty(a))return!1;if(n.test(a))return b[a]=!0;g[a]=!0;void 0;return!1}function h(a,b){return null==b||a.ai&&!b||
a.Qs&&isNaN(b)||a.KC&&1>b||a.kk&&!1===b}var f=a(50);a(48);a(79);var l=a(116);a(61);var n=new RegExp("^["+f.Gv+"]["+f.up+"]*$"),g={},b={},d={LA:function(a){return f.nj+"="+l(a)},fS:function(a,b){a.setAttribute(f.nj,b)},NA:function(){return f.vq+'=""'},IG:function(a){a.setAttribute(f.vq,"")},MA:function(a,b){var d=f.properties.hasOwnProperty(a)?f.properties[a]:null;if(d){if(h(d,b))return"";a=d.attributeName;return d.ai||d.kk&&!0===b?a+'=""':a+"="+l(b)}return f.ye(a)?null==b?"":a+"="+l(b):null},KA:function(a,
b){return m(a)&&null!=b?a+"="+l(b):""},Wu:function(a,b,c){var e=f.properties.hasOwnProperty(b)?f.properties[b]:null;if(e){var g=e.lo;g?g(a,c):h(e,c)?this.ln(a,b):e.Nt?a[e.propertyName]=c:(b=e.attributeName,(g=e.attributeNamespace)?a.setAttributeNS(g,b,""+c):e.ai||e.kk&&!0===c?a.setAttribute(b,""):a.setAttribute(b,""+c))}else f.ye(b)&&d.Vu(a,b,c)},Vu:function(a,b,d){m(b)&&(null==d?a.removeAttribute(b):a.setAttribute(b,""+d))},eB:function(a,b){a.removeAttribute(b)},ln:function(a,b){var d=f.properties.hasOwnProperty(b)?
f.properties[b]:null;d?(b=d.lo)?b(a,void 0):d.Nt?a[d.propertyName]=d.ai?!1:"":a.removeAttribute(d.attributeName):f.ye(b)&&a.removeAttribute(b)}};k.f=d},function(k,c,a){var m=a(98);k.f=function(a){return'"'+m(a)+'"'}},function(k,c,a){c=a(21);var m=a(58),h=a(118),f=a(88),l=a(119),n=a(82),g,b={},d=!1,e=0,p={CH:"abort",kT:l("animationend")||"animationend",lT:l("animationiteration")||"animationiteration",mT:l("animationstart")||"animationstart",DH:"blur",EH:"canplay",FH:"canplaythrough",nT:"change",oT:"click",
pT:"compositionend",qT:"compositionstart",rT:"compositionupdate",sT:"contextmenu",tT:"copy",uT:"cut",vT:"dblclick",wT:"drag",xT:"dragend",yT:"dragenter",zT:"dragexit",AT:"dragleave",BT:"dragover",CT:"dragstart",DT:"drop",GH:"durationchange",HH:"emptied",IH:"encrypted",JH:"ended",KH:"error",LH:"focus",ET:"input",FT:"keydown",HT:"keypress",IT:"keyup",NH:"loadeddata",OH:"loadedmetadata",MH:"loadstart",JT:"mousedown",KT:"mousemove",MT:"mouseout",NT:"mouseover",OT:"mouseup",PT:"paste",QH:"pause",RH:"play",
SH:"playing",TH:"progress",UH:"ratechange",QT:"scroll",VH:"seeked",WH:"seeking",RT:"selectionchange",XH:"stalled",YH:"suspend",ST:"textInput",ZH:"timeupdate",TT:"touchcancel",UT:"touchend",VT:"touchmove",WT:"touchstart",XT:l("transitionend")||"transitionend",$H:"volumechange",aI:"waiting",YT:"wheel"},u="_reactListenersID"+String(Math.random()).slice(2),r=c({},h,{Sa:null,La:{dD:function(a){a.LG(r.HC);r.Sa=a}},bl:function(a){r.Sa&&r.Sa.bl(a)},isEnabled:function(){return!(!r.Sa||!r.Sa.isEnabled())},
ED:function(a,d){var c;Object.prototype.hasOwnProperty.call(d,u)||(d[u]=e++,b[d[u]]={});c=b[d[u]];a=m.Bu[a];for(var g=0;g<a.length;g++){var f=a[g];c.hasOwnProperty(f)&&c[f]||("topWheel"===f?n("wheel")?r.Sa.qb("topWheel","wheel",d):n("mousewheel")?r.Sa.qb("topWheel","mousewheel",d):r.Sa.qb("topWheel","DOMMouseScroll",d):"topScroll"===f?n("scroll",!0)?r.Sa.aj("topScroll","scroll",d):r.Sa.qb("topScroll","scroll",r.Sa.Jx):"topFocus"===f||"topBlur"===f?(n("focus",!0)?(r.Sa.aj("topFocus","focus",d),r.Sa.aj("topBlur",
"blur",d)):n("focusin")&&(r.Sa.qb("topFocus","focusin",d),r.Sa.qb("topBlur","focusout",d)),c.DH=!0,c.LH=!0):p.hasOwnProperty(f)&&r.Sa.qb(f,p[f],d),c[f]=!0)}},qb:function(a,b,d){return r.Sa.qb(a,b,d)},aj:function(a,b,d){return r.Sa.aj(a,b,d)},uH:function(){if(!document.createEvent)return!1;var a=document.createEvent("MouseEvent");return null!=a&&"pageX"in a},qB:function(){void 0===g&&(g=r.uH());g||d||(r.Sa.nE(f.VF),d=!0)}});k.f=r},function(k,c,a){var m=a(57);k.f={HC:function(a,c,l,n){a=m.se(a,c,l,
n);m.ns(a);m.su(!1)}}},function(k,c,a){function m(a,c){var b={};b[a.toLowerCase()]=c.toLowerCase();b["Webkit"+a]="webkit"+c;b["Moz"+a]="moz"+c;b["ms"+a]="MS"+c;b["O"+a]="o"+c.toLowerCase();return b}c=a(65);var h={Fz:m("Animation","AnimationEnd"),Gz:m("Animation","AnimationIteration"),Hz:m("Animation","AnimationStart"),bI:m("Transition","TransitionEnd")},f={},l={};c.Ua&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete h.Fz.animation,delete h.Gz.animation,delete h.Hz.animation),
"TransitionEvent"in window||delete h.bI.transition);k.f=function(a){if(f[a])return f[a];if(!h[a])return a;var c=h[a],b;for(b in c)if(c.hasOwnProperty(b)&&b in l)return f[a]=c[b];return""}},function(k,c,a){function m(){this.Db&&e.ej(this)}function h(a){var e=this.M.props;a=g.wn(e,a);d.Kj(m,this);var c=e.name;if("radio"===e.type&&null!=c){for(var h=e=b.pa(this);h.parentNode;)h=h.parentNode;c=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]');for(h=0;h<c.length;h++){var l=c[h];
l!==e&&l.form===e.form&&((l=b.Zh(l))?void 0:f("90"),d.Kj(m,l))}}return a}var f=a(49),l=a(21),n=a(115),g=a(121),b=a(48),d=a(73);a(51);a(61);var e={Gb:function(a,b){var d=g.getValue(b),e=g.UB(b);return l({type:void 0,step:void 0,min:void 0,max:void 0},b,{defaultChecked:void 0,defaultValue:void 0,value:null!=d?d:a.ia.zg,checked:null!=e?e:a.ia.VC,onChange:a.ia.onChange})},pf:function(a,b){var d=b.defaultValue;a.ia={VC:null!=b.checked?b.checked:b.defaultChecked,zg:null!=b.value?b.value:d,listeners:null,
onChange:h.bind(a)}},ej:function(a){var d=a.M.props,e=d.checked;null!=e&&n.Wu(b.pa(a),"checked",e||!1);a=b.pa(a);e=g.getValue(d);null!=e?(d=""+e,d!==a.value&&(a.value=d)):(null==d.value&&null!=d.defaultValue&&(a.defaultValue=""+d.defaultValue),null==d.checked&&null!=d.defaultChecked&&(a.defaultChecked=!!d.defaultChecked))},Gi:function(a){var d=a.M.props;a=b.pa(a);switch(d.type){case "submit":case "reset":break;case "color":case "date":case "datetime":case "datetime-local":case "month":case "time":case "week":a.value=
"";a.value=a.defaultValue;break;default:a.value=a.value}d=a.name;""!==d&&(a.name="");a.defaultChecked=!a.defaultChecked;a.defaultChecked=!a.defaultChecked;""!==d&&(a.name=d)}};k.f=e},function(k,c,a){function m(a){null!=a.Pj&&null!=a.wl?l("87"):void 0}function h(a){m(a);null!=a.value||null!=a.onChange?l("88"):void 0}function f(a){m(a);null!=a.checked||null!=a.onChange?l("89"):void 0}var l=a(49);c=a(20);var n=a(122);a(51);a(61);var g={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},
b={value:function(a,b){return!a[b]||g[a.type]||a.onChange||a.readOnly||a.disabled?null:Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(a,b){return!a[b]||a.onChange||a.readOnly||a.disabled?null:Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},
onChange:c.PropTypes.func},d={};k.f={AL:function(a,c,g){for(var e in b){if(b.hasOwnProperty(e))var f=b[e](c,e,a,"prop",null,n);f instanceof Error&&!(f.message in d)&&(d[f.message]=!0,g&&g.getName(),void 0)}},getValue:function(a){return a.wl?(h(a),a.wl.value):a.value},UB:function(a){return a.Pj?(f(a),a.Pj.value):a.checked},wn:function(a,b){if(a.wl)return h(a),a.wl.gG(b.target.value);if(a.Pj)return f(a),a.Pj.gG(b.target.checked);if(a.onChange)return a.onChange.call(void 0,b)}}},function(k){k.f="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},
function(k,c,a){function m(a){var b="";f.Children.forEach(a,function(a){null!=a&&("string"===typeof a||"number"===typeof a?b+=a:g||(g=!0,void 0))});return b}var h=a(21),f=a(20),l=a(48),n=a(124);a(61);var g=!1;k.f={pf:function(a,d,e){var b=null;null!=e&&("optgroup"===e.na&&(e=e.ka),null!=e&&"select"===e.na&&(b=n.oC(e)));e=null;if(null!=b)if(d=null!=d.value?d.value+"":m(d.children),e=!1,Array.isArray(b))for(var c=0;c<b.length;c++){if(""+b[c]===d){e=!0;break}}else e=""+b===d;a.ia={selected:e}},Gi:function(a){var b=
a.M.props;null!=b.value&&l.pa(a).setAttribute("value",b.value)},Gb:function(a,d){var b=h({selected:void 0,children:void 0},d);null!=a.ia.selected&&(b.selected=a.ia.selected);if(a=m(d.children))b.children=a;return b}}},function(k,c,a){function m(){if(this.Db&&this.ia.Jk){this.ia.Jk=!1;var a=this.M.props,b=n.getValue(a);null!=b&&h(this,!!a.multiple,b)}}function h(a,b,d){var e;a=g.pa(a).options;if(b){b={};for(e=0;e<d.length;e++)b[""+d[e]]=!0;for(e=0;e<a.length;e++)d=b.hasOwnProperty(a[e].value),a[e].selected!==
d&&(a[e].selected=d)}else{b=""+d;for(e=0;e<a.length;e++)if(a[e].value===b){a[e].selected=!0;return}a.length&&(a[0].selected=!0)}}function f(a){a=n.wn(this.M.props,a);this.Db&&(this.ia.Jk=!0);b.Kj(m,this);return a}var l=a(21),n=a(121),g=a(48),b=a(73);a(61);var d=!1;k.f={Gb:function(a,b){return l({},b,{onChange:a.ia.onChange,value:void 0})},pf:function(a,b){var e=n.getValue(b);a.ia={Jk:!1,zg:null!=e?e:b.defaultValue,listeners:null,onChange:f.bind(a),Bv:!!b.multiple};void 0===b.value||void 0===b.defaultValue||
d||(void 0,d=!0)},oC:function(a){return a.ia.zg},uF:function(a){var b=a.M.props;a.ia.zg=void 0;var d=a.ia.Bv;a.ia.Bv=!!b.multiple;var e=n.getValue(b);null!=e?(a.ia.Jk=!1,h(a,!!b.multiple,e)):d!==!!b.multiple&&(null!=b.defaultValue?h(a,!!b.multiple,b.defaultValue):h(a,!!b.multiple,b.multiple?[]:""))}}},function(k,c,a){function m(){this.Db&&d.ej(this)}function h(a){a=n.wn(this.M.props,a);b.Kj(m,this);return a}var f=a(49),l=a(21),n=a(121),g=a(48),b=a(73);a(51);a(61);var d={Gb:function(a,b){null!=b.dangerouslySetInnerHTML?
f("91"):void 0;return l({},b,{value:void 0,defaultValue:void 0,children:""+a.ia.zg,onChange:a.ia.onChange})},pf:function(a,b){var d=n.getValue(b),e=d;null==d&&(d=b.defaultValue,b=b.children,null!=b&&(null!=d?f("92"):void 0,Array.isArray(b)&&(1>=b.length?void 0:f("93"),b=b[0]),d=""+b),null==d&&(d=""),e=d);a.ia={zg:""+e,listeners:null,onChange:h.bind(a)}},ej:function(a){var b=a.M.props;a=g.pa(a);var d=n.getValue(b);null!=d&&(d=""+d,d!==a.value&&(a.value=d),null==b.defaultValue&&(a.defaultValue=d));
null!=b.defaultValue&&(a.defaultValue=b.defaultValue)},Gi:function(a){a=g.pa(a);a.value=a.textContent}};k.f=d},function(k,c,a){function m(a,d){d&&(a=a||[],a.push(d));return a}var h=a(49),f=a(127);a(128);a(79);a(27);var l=a(76),n=a(129);a(62);var g=a(145);a(51);k.f={Sl:{by:function(a,d,e){return n.mD(a,d,e)},cy:function(a,d,e,c,f,h){d=g(d,0);n.tl(a,d,e,c,f,this,this.ed,h,0);return d},Mt:function(a,d,e){this.he=a=this.by(a,d,e);var b=[],c=0,g;for(g in a)if(a.hasOwnProperty(g)){var f=a[g],h=l.Qc(f,d,
this,this.ed,e,0);f.Jc=c++;b.push(h)}return b},tv:function(a){var b=this.he;n.cj(b,!1);for(var e in b)b.hasOwnProperty(e)&&h("118");f.Qg(this,[{type:"TEXT_CONTENT",content:a,ek:null,pg:null,pl:null,Xf:null}])},hI:function(a){var b=this.he;n.cj(b,!1);for(var e in b)b.hasOwnProperty(e)&&h("118");f.Qg(this,[{type:"SET_MARKUP",content:a,ek:null,pg:null,pl:null,Xf:null}])},tl:function(a,d,e){this.mz(a,d,e)},mz:function(a,d,e){var b=this.he,c={},g=[];if((a=this.cy(b,a,g,c,d,e))||b){var h=null,n,k=0,y=0,
A=0,z=null;for(n in a)if(a.hasOwnProperty(n)){var C=b&&b[n],B=a[n];C===B?(h=m(h,this.qE(C,z,k,y)),y=Math.max(C.Jc,y),C.Jc=k):(C&&(y=Math.max(C.Jc,y)),h=m(h,this.Zx(B,g[A],z,k,d,e)),A++);k++;z=l.Rb(B)}for(n in c)c.hasOwnProperty(n)&&(h=m(h,this.lz(b[n],c[n])));h&&f.Qg(this,h);this.he=a}},cj:function(a){n.cj(this.he,a);this.he=null},qE:function(a,d,e,c){if(a.Jc<c)return{type:"MOVE_EXISTING",content:null,ek:a.Jc,pg:l.Rb(a),pl:e,Xf:d}},HA:function(a,d,e){return{type:"INSERT_MARKUP",content:e,ek:null,
pg:null,pl:a.Jc,Xf:d}},removeChild:function(a,d){return{type:"REMOVE_NODE",content:null,ek:a.Jc,pg:d,pl:null,Xf:null}},Zx:function(a,d,e,c){a.Jc=c;return this.HA(a,e,d)},lz:function(a,d){d=this.removeChild(a,d);a.Jc=null;return d}}}},function(k,c,a){var m=a(49);a(51);var h=!1,f={Wk:null,Qg:null,La:{bD:function(a){h?m("104"):void 0;f.Wk=a.Wk;f.Qg=a.Qg;h=!0}}};k.f=f},function(k){k.f={remove:function(c){c.Fm=void 0},get:function(c){return c.Fm},has:function(c){return void 0!==c.Fm},set:function(c,a){c.Fm=
a}}},function(k,c,a){(function(){function c(a,b,d){var e=void 0===a[d];null!=b&&e&&(a[d]=f(b,!0))}var h=a(76),f=a(131);a(140);var l=a(136),n=a(141);a(61);k.f={mD:function(a){if(null==a)return null;var b={};n(a,c,b);return b},tl:function(a,b,d,e,c,n,m,k,x){if(b||a){var g,p;for(g in b)if(b.hasOwnProperty(g)){var u=(p=a&&a[g])&&p.M,r=b[g];null!=p&&l(u,r)?(h.Vd(p,r,c,k),b[g]=p):(p&&(e[g]=h.Rb(p),h.Gc(p,!1)),p=f(r,!0),b[g]=p,p=h.Qc(p,c,n,m,k,x),d.push(p))}for(g in a)!a.hasOwnProperty(g)||b&&b.hasOwnProperty(g)||
(p=a[g],e[g]=h.Rb(p),h.Gc(p,!1))}},cj:function(a,b){for(var d in a)a.hasOwnProperty(d)&&h.Gc(a[d],b)}}}).call(c,a(130))},function(k){function c(){l=!1;n.length?f=n.concat(f):g=-1;f.length&&a()}function a(){if(!l){var a=setTimeout(c);l=!0;for(var d=f.length;d;){n=f;for(f=[];++g<d;)n&&n[g].run();g=-1;d=f.length}n=null;l=!1;clearTimeout(a)}}function m(a,d){this.QB=a;this.array=d}function h(){}k=k.f={};var f=[],l=!1,n,g=-1;k.Ut=function(b){var d=Array(arguments.length-1);if(1<arguments.length)for(var e=
1;e<arguments.length;e++)d[e-1]=arguments[e];f.push(new m(b,d));1!==f.length||l||setTimeout(a,0)};m.prototype.run=function(){this.QB.apply(null,this.array)};k.title="browser";k.lL=!0;k.OM={};k.PK=[];k.version="";k.tU={};k.on=h;k.addListener=h;k.once=h;k.off=h;k.removeListener=h;k.removeAllListeners=h;k.emit=h;k.hL=function(){throw Error("process.binding is not supported");};k.TL=function(){return"/"};k.zL=function(){throw Error("process.chdir is not supported");};k.eU=function(){return 0}},function(k,
c,a){function m(a){this.construct(a)}function h(a){var b;if(null===a||!1===a)b=n.create(h);else if("object"===typeof a){if(!a||"function"!==typeof a.type&&"string"!==typeof a.type){b=null==a.type?a.type:typeof a.type;var e;a:{if(e=a.dc)if(e=e.getName()){e=" Check the render method of `"+e+"`.";break a}e=""}f("130",b,e)}else void 0;"string"===typeof a.type?b=g.JA(a):(b=a.type,"function"===typeof b&&"undefined"!==typeof b.prototype&&"function"===typeof b.prototype.Qc&&"function"===typeof b.prototype.Vd?
(b=new a.type(a),b.Rb||(b.Rb=b.FN)):b=new m(a))}else"string"===typeof a||"number"===typeof a?b=g.IA(a):f("131",typeof a);b.Jc=0;b.sK=null;return b}var f=a(49);c=a(21);var l=a(132),n=a(137),g=a(138);a(139);a(51);a(61);c(m.prototype,l,{wm:h});k.f=h},function(k,c,a){function m(){}var h=a(49),f=a(21),l=a(20),n=a(127),g=a(27),b=a(60),d=a(128);a(79);var e=a(133),p=a(76),u=a(134);a(51);var r=a(135),v=a(136);a(61);m.prototype.render=function(){var a=d.get(this).M.type;return a(this.props,this.context,this.$c)};
var x=1;k.f={construct:function(a){this.M=a;this.Db=0;this.fd=this.wh=this.Dh=this.ed=this.ka=this.Za=this.ph=null;this.Tf=this.xh=!1;this.qc=this.$a=this.Dj=null;this.Am=0;this.Gd=this.Ah=null;this.Qq=!1},Qc:function(a,b,e,c){this.qc=c;this.Am=x++;this.ka=b;this.ed=e;var g=this.M.props,f=this.$q(c),n=this.M.type,k=a.Ks(),p=!(!n.prototype||!n.prototype.ht),y=this.Px(p,g,f,k),t;p||null!=y&&null!=y.render?this.ph=n.prototype&&n.prototype.tD?1:0:(t=y,null===y||!1===y||l.isValidElement(y)?void 0:h("105",
n.displayName||n.name||"Component"),y=new m,this.ph=2);y.props=g;y.context=f;y.refs=u;y.$c=k;this.Za=y;d.set(y,this);g=y.state;void 0===g&&(y.state=g=null);"object"!==typeof g||Array.isArray(g)?h("106",this.getName()||"ReactCompositeComponent"):void 0;this.fd=null;this.Tf=this.xh=!1;b=y.fI?this.mF(t,b,e,a,c):this.zo(t,b,e,a,c);y.componentDidMount&&a.fb().enqueue(y.componentDidMount,y);return b},Px:function(a,b,d,e){return this.Qx(a,b,d,e)},Qx:function(a,b,d,e){var c=this.M.type;return a?new c(b,d,
e):c(b,d,e)},mF:function(a,b,d,e,c){var g,f=e.Lh();try{g=this.zo(a,b,d,e,c)}catch(F){e.Oi(f),this.Za.fI(F),this.fd&&(this.Za.state=this.Dm(this.Za.props,this.Za.context)),f=e.Lh(),this.$a.Gc(!0),e.Oi(f),g=this.zo(a,b,d,e,c)}return g},zo:function(a,b,d,c,g){var f=this.Za;f.componentWillMount&&(f.componentWillMount(),this.fd&&(f.state=this.Dm(f.props,f.context)));void 0===a&&(a=this.cr());this.Dj=f=e.Js(a);this.$a=a=this.wm(a,f!==e.EMPTY);return p.Qc(a,c,b,d,this.Cj(g),0)},Rb:function(){return p.Rb(this.$a)},
Gc:function(a){if(this.$a){var e=this.Za;if(e.componentWillUnmount&&!e.Qq)if(e.Qq=!0,a){var c=this.getName()+".componentWillUnmount()";b.bt(c,e.componentWillUnmount.bind(e))}else e.componentWillUnmount();this.$a&&(p.Gc(this.$a,a),this.Za=this.$a=this.Dj=null);this.fd=null;this.Tf=this.xh=!1;this.qc=this.wh=this.Gd=null;this.Db=0;this.Ah=null;d.remove(e)}},Yx:function(a){var b=this.M.type.contextTypes;if(!b)return u;var d={},e;for(e in b)d[e]=a[e];return d},$q:function(a){return this.Yx(a)},Cj:function(a){var b=
this.M.type,d=this.Za,e;d.getChildContext&&(e=d.getChildContext());if(e){"object"!==typeof b.childContextTypes?h("107",this.getName()||"ReactCompositeComponent"):void 0;for(var c in e)c in b.childContextTypes?void 0:h("108",this.getName()||"ReactCompositeComponent",c);return f({},a,e)}return a},oK:function(){},Vd:function(a,b,d){var e=this.M,c=this.qc;this.wh=null;this.dj(b,e,a,c,d)},Ao:function(a){null!=this.wh?p.Vd(this,this.wh,a,this.qc):null!==this.fd||this.Tf?this.dj(a,this.M,this.M,this.qc,
this.qc):this.Dh=null},dj:function(a,b,d,e,c){e=this.Za;null==e?h("136",this.getName()||"ReactCompositeComponent"):void 0;var g=!1,f;this.qc===c?f=e.context:(f=this.$q(c),g=!0);var l=b.props,n=d.props;b!==d&&(g=!0);g&&e.componentWillReceiveProps&&e.componentWillReceiveProps(n,f);b=this.Dm(n,f);g=!0;this.Tf||(e.shouldComponentUpdate?g=e.shouldComponentUpdate(n,b,f):1===this.ph&&(g=!r(l,n)||!r(e.state,b)));this.Dh=null;g?(this.Tf=!1,this.ay(d,n,b,f,a,c)):(this.M=d,this.qc=c,e.props=n,e.state=b,e.context=
f)},Dm:function(a,b){var d=this.Za,e=this.fd,c=this.xh;this.xh=!1;this.fd=null;if(!e)return d.state;if(c&&1===e.length)return e[0];for(var g=f({},c?e[0]:d.state),c=c?1:0;c<e.length;c++){var h=e[c];f(g,"function"===typeof h?h.call(d,g,a,b):h)}return g},ay:function(a,b,d,e,c,g){var f=this.Za,h=!!f.componentDidUpdate,l,n,m;h&&(l=f.props,n=f.state,m=f.context);f.componentWillUpdate&&f.componentWillUpdate(b,d,e);this.M=a;this.qc=g;f.props=b;f.state=d;f.context=e;this.oz(c,g);h&&c.fb().enqueue(f.componentDidUpdate.bind(f,
l,n,m),f)},oz:function(a,b){var d=this.$a,c=d.M,g=this.cr();if(v(c,g))p.Vd(d,g,a,this.Cj(b));else{c=p.Rb(d);p.Gc(d,!1);var f=e.Js(g);this.Dj=f;this.$a=g=this.wm(g,f!==e.EMPTY);a=p.Qc(g,a,this.ka,this.ed,this.Cj(b),0);this.ey(c,a,d)}},ey:function(a,b,d){n.Wk(a,b,d)},dr:function(){return this.Za.render()},cr:function(){var a;if(2!==this.ph){g.current=this;try{a=this.dr()}finally{g.current=null}}else a=this.dr();null===a||!1===a||l.isValidElement(a)?void 0:h("109",this.getName()||"ReactCompositeComponent");
return a},Br:function(a,b){var d=this.qd();null==d?h("110"):void 0;b=b.qd();(d.refs===u?d.refs={}:d.refs)[a]=b},es:function(a){delete this.qd().refs[a]},getName:function(){var a=this.M.type,b=this.Za&&this.Za.constructor;return a.displayName||b&&b.displayName||a.name||b&&b.name||null},qd:function(){return 2===this.ph?null:this.Za},wm:null}},function(k,c,a){var m=a(49),h=a(20);a(51);var f={Vp:0,yp:1,EMPTY:2,Js:function(a){if(null===a||!1===a)return f.EMPTY;if(h.isValidElement(a))return"function"===
typeof a.type?f.yp:f.Vp;m("26",a)}};k.f=f},function(k){k.f={}},function(k){function c(a,c){return a===c?0!==a||0!==c||1/a===1/c:a!==a&&c!==c}var a=Object.prototype.hasOwnProperty;k.f=function(m,h){if(c(m,h))return!0;if("object"!==typeof m||null===m||"object"!==typeof h||null===h)return!1;var f=Object.keys(m),l=Object.keys(h);if(f.length!==l.length)return!1;for(l=0;l<f.length;l++)if(!a.call(h,f[l])||!c(m[f[l]],h[f[l]]))return!1;return!0}},function(k){k.f=function(c,a){var m=null===c||!1===c,h=null===
a||!1===a;if(m||h)return m===h;m=typeof c;h=typeof a;return"string"===m||"number"===m?"string"===h||"number"===h:"object"===h&&c.type===a.type&&c.key===a.key}},function(k){var c;k.f={create:function(a){return c(a)},La:{aD:function(a){c=a}}}},function(k,c,a){var m=a(49),h=a(21);a(51);var f=null,l={},n=null;k.f={JA:function(a){f?void 0:m("111",a.type);return new f(a)},IA:function(a){return new n(a)},NO:function(a){return a instanceof n},La:{cD:function(a){f=a},fD:function(a){n=a},uO:function(a){h(l,
a)}}}},function(k){var c=1;k.f=function(){return c++}},function(k){k.f={escape:function(c){var a={"=":"=0",":":"=2"};return"$"+(""+c).replace(/[=:]/g,function(c){return a[c]})},unescape:function(c){var a={"=0":"=","=2":":"};return(""+("."===c[0]&&"$"===c[1]?c.substring(2):c.substring(1))).replace(/(=0|=2)/g,function(c){return a[c]})}}},function(k,c,a){function m(a,d){return a&&"object"===typeof a&&null!=a.key?g.escape(a.key):d.toString(36)}function h(a,d,e,c){var b=typeof a;if("undefined"===b||"boolean"===
b)a=null;if(null===a||"string"===b||"number"===b||"object"===b&&a.zl===l)return e(c,a,""===d?"."+m(a,0):d),1;var k,p,x=0;d=""===d?".":d+":";if(Array.isArray(a))for(b=0;b<a.length;b++)k=a[b],p=d+m(k,b),x+=h(k,p,e,c);else if(k=n(a))if(b=k.call(a),k!==a.entries)for(a=0;!(k=b.next()).done;)k=k.value,p=d+m(k,a++),x+=h(k,p,e,c);else for(;!(k=b.next()).done;){if(a=k.value)k=a[1],p=d+g.escape(a[0])+":"+m(k,0),x+=h(k,p,e,c)}else"object"===b&&(e=String(a),f("31","[object Object]"===e?"object with keys {"+Object.keys(a).join(", ")+
"}":e,""));return x}var f=a(49);a(27);var l=a(142),n=a(143);a(51);var g=a(140);a(61);k.f=function(a,d,e){return null==a?0:h(a,"",d,e)}},function(k){var c="function"===typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;k.f=c},function(k){var c="function"===typeof Symbol&&Symbol.iterator;k.f=function(a){a=a&&(c&&a[c]||a["@@iterator"]);if("function"===typeof a)return a}},function(k,c,a){function m(a){var b=Function.prototype.toString,d=RegExp("^"+b.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,
"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var e=b.call(a);return d.test(e)}catch(D){return!1}}function h(a){var b=d(a);b&&(b=b.Qj,e(a),b.forEach(h))}function f(a,b,d){return"\n    in "+(a||"Unknown")+(b?" (at "+b.fileName.replace(/^.*[\\\/]/,"")+":"+b.lineNumber+")":d?" (created by "+d+")":"")}function l(a){return null==a?"#empty":"string"===typeof a||"number"===typeof a?"#text":"string"===typeof a.type?a.type:a.type.displayName||a.type.name||"Unknown"}
var n=a(24),g=a(27);a(25);a(28);var b,d,e,p,u;if("function"===typeof Array.from&&"function"===typeof Map&&m(Map)&&null!=Map.prototype&&"function"===typeof Map.prototype.keys&&m(Map.prototype.keys)&&"function"===typeof Set&&m(Set)&&null!=Set.prototype&&"function"===typeof Set.prototype.keys&&m(Set.prototype.keys)){var r=new Map,v=new Set;b=function(a,b){r.set(a,b)};d=function(a){return r.get(a)};e=function(a){r["delete"](a)};c=function(){return Array.from(r.keys())};p=function(a){v.add(a)};u=function(a){v["delete"](a)};
a=function(){return Array.from(v.keys())}}else{var x={},t={},y=function(a){return parseInt(a.substr(1),10)};b=function(a,b){x["."+a]=b};d=function(a){return x["."+a]};e=function(a){delete x["."+a]};c=function(){return Object.keys(x).map(y)};p=function(a){t["."+a]=!0};u=function(a){delete t["."+a]};a=function(){return Object.keys(t).map(y)}}var A=[],z={wQ:function(a,b){var e=d(a);e?void 0:n("144");e.Qj=b;for(e=0;e<b.length;e++){var c=b[e],g=d(c);g?void 0:n("140");null==g.Qj&&"object"===typeof g.element&&
null!=g.element?n("141"):void 0;g.isMounted?void 0:n("71");null==g.vf&&(g.vf=a);g.vf!==a?n("142",c,g.vf,a):void 0}},sQ:function(a,d,e){b(a,{element:d,vf:e,text:null,Qj:[],isMounted:!1,ov:0})},tQ:function(a,b){(a=d(a))&&a.isMounted&&(a.element=b)},vQ:function(a){var b=d(a);b?void 0:n("144");b.isMounted=!0;0===b.vf&&p(a)},yQ:function(a){(a=d(a))&&a.isMounted&&a.ov++},xQ:function(a){var b=d(a);b&&(b.isMounted=!1,0===b.vf&&u(a));A.push(a)},nR:function(){if(!z.tK){for(var a=0;a<A.length;a++)h(A[a]);A.length=
0}},isMounted:function(a){return(a=d(a))?a.isMounted:!1},xN:function(a){var b="";if(a)var d=a.dc,b=b+f(l(a),a.fr,d&&d.getName());a=g.current;return b+=z.rC(a&&a.Ux)},rC:function(a){for(var b="";a;){var d,e=a;d=z.Es(e);var c=z.fk(e),e=z.jC(e),g=void 0;e&&(g=z.Es(e));void 0;d=f(d,c&&c.fr,g);b+=d;a=z.kC(a)}return b},vN:function(a){return(a=d(a))?a.Qj:[]},Es:function(a){return(a=z.fk(a))?l(a):null},fk:function(a){return(a=d(a))?a.element:null},jC:function(a){return(a=z.fk(a))&&a.dc?a.dc.Ux:null},kC:function(a){return(a=
d(a))?a.vf:null},NN:function(a){a=(a=d(a))?a.element:null;return null!=a?a.fr:null},getText:function(a){a=z.fk(a);return"string"===typeof a?a:"number"===typeof a?""+a:null},QN:function(a){return(a=d(a))?a.ov:0},LN:a,KN:c};k.f=z},function(k,c,a){(function(){function c(a,c,h){a&&"object"===typeof a&&void 0===a[h]&&null!=c&&(a[h]=c)}a(140);var h=a(141);a(61);k.f=function(a){if(null==a)return a;var f={};h(a,c,f);return f}}).call(c,a(130))},function(k,c,a){function m(a){this.Uk();this.renderToStaticMarkup=
a;this.Df=!1;this.iI=new l(this)}c=a(21);var h=a(67),f=a(80);a(79);var l=a(147),n=[],g={enqueue:function(){}};c(m.prototype,f,{$h:function(){return n},fb:function(){return g},Ks:function(){return this.iI},md:function(){},Lh:function(){},Oi:function(){}});h.Kc(m);k.f=m},function(k,c,a){var m=a(148);a(61);c=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.transaction=c}a.prototype.isMounted=function(){return!1};a.prototype.jg=function(a,
c,h){this.transaction.Bg()&&m.jg(a,c,h)};a.prototype.Yj=function(a){this.transaction.Bg()&&m.Yj(a)};a.prototype.Zj=function(a,c){this.transaction.Bg()&&m.Zj(a,c)};a.prototype.$j=function(a,c){this.transaction.Bg()&&m.$j(a,c)};return a}();k.f=c},function(k,c,a){function m(a){return(a=f.get(a))?a:null}var h=a(49);a(27);var f=a(128);a(79);var l=a(73);a(51);a(61);var n={isMounted:function(a){return(a=f.get(a))?!!a.$a:!1},jg:function(a,b,d){n.uv(b,d);a=m(a);if(!a)return null;a.Gd?a.Gd.push(b):a.Gd=[b];
l.kg(a)},kB:function(a,b){a.Gd?a.Gd.push(b):a.Gd=[b];l.kg(a)},Yj:function(a){if(a=m(a))a.Tf=!0,l.kg(a)},Zj:function(a,b){if(a=m(a))a.fd=[b],a.xh=!0,l.kg(a)},$j:function(a,b){if(a=m(a))(a.fd||(a.fd=[])).push(b),l.kg(a)},lB:function(a,b,d){a.wh=b;a.qc=d;l.kg(a)},uv:function(a,b){if(a&&"function"!==typeof a){var d=typeof a;"object"!==d?a=d:(d=a.constructor&&a.constructor.name||d,a=Object.keys(a),a=0<a.length&&20>a.length?d+" (keys: "+a.join(", ")+")":d);h("122",b,a)}else void 0}};k.f=n},function(k,c,
a){a(21);c=a(62);a(61);k.f=c},function(k,c,a){function m(){this.ed=this.ka=this.cc=this.M=null;this.cd=0}c=a(21);var h=a(93),f=a(48);c(m.prototype,{Qc:function(a,c,g){this.cd=g.vm++;this.ka=c;this.ed=g;c=" react-empty: "+this.cd+" ";return a.Df?(a=g.Bj.createComment(c),f.Hi(this,a),h(a)):a.renderToStaticMarkup?"":"\x3c!--"+c+"--\x3e"},Vd:function(){},Rb:function(){return f.pa(this)},Gc:function(){f.kp(this)}});k.f=m},function(k,c,a){function m(a,c){"_hostNode"in a?void 0:h("33");"_hostNode"in c?void 0:
h("33");for(var f=0,g=a;g;g=g.ka)f++;for(var g=0,b=c;b;b=b.ka)g++;for(;0<f-g;)a=a.ka,f--;for(;0<g-f;)c=c.ka,g--;for(;f--;){if(a===c)return a;a=a.ka;c=c.ka}return null}var h=a(49);a(51);k.f={ct:function(a,c){"_hostNode"in a?void 0:h("35");"_hostNode"in c?void 0:h("35");for(;c;){if(c===a)return!0;c=c.ka}return!1},Gs:m,Mn:function(a){"_hostNode"in a?void 0:h("36");return a.ka},rl:function(a,c,h){for(var g=[];a;)g.push(a),a=a.ka;for(a=g.length;0<a--;)c(g[a],"captured",h);for(a=0;a<g.length;a++)c(g[a],
"bubbled",h)},hp:function(a,c,h,g,b){for(var d=a&&c?m(a,c):null,e=[];a&&a!==d;)e.push(a),a=a.ka;for(a=[];c&&c!==d;)a.push(c),c=c.ka;for(c=0;c<e.length;c++)h(e[c],"bubbled",g);for(c=a.length;0<c--;)h(a[c],"captured",b)}}},function(k,c,a){function m(a){this.M=a;this.zh=""+a;this.ka=this.cc=null;this.Jc=this.cd=0;this.rm=this.oh=null}var h=a(49);c=a(21);var f=a(92),l=a(93),n=a(48),g=a(98);a(51);a(149);c(m.prototype,{Qc:function(a,d,e){var b=e.vm++,c=" react-text: "+b+" ";this.cd=b;this.ka=d;if(a.Df)return a=
e.Bj,c=a.createComment(c),d=a.createComment(" /react-text "),e=l(a.createDocumentFragment()),l.Ok(e,l(c)),this.zh&&l.Ok(e,l(a.createTextNode(this.zh))),l.Ok(e,l(d)),n.Hi(this,c),this.oh=d,e;d=g(this.zh);return a.renderToStaticMarkup?d:"\x3c!--"+c+"--\x3e"+d+"\x3c!-- /react-text --\x3e"},Vd:function(a){if(a!==this.M&&(this.M=a,a=""+a,a!==this.zh)){this.zh=a;var b=this.Rb();f.fG(b[0],b[1],a)}},Rb:function(){var a=this.rm;if(a)return a;if(!this.oh)for(a=n.pa(this).nextSibling;;){null==a?h("67",this.cd):
void 0;if(8===a.nodeType&&" /react-text "===a.nodeValue){this.oh=a;break}a=a.nextSibling}return this.rm=a=[this.cc,this.oh]},Gc:function(){this.rm=this.oh=null;n.kp(this)}});k.f=m},function(k,c,a){function m(){this.Uk()}c=a(21);var h=a(73),f=a(80);a=a(62);var l={xe:a,close:function(){b.Ag=!1}},n=[{xe:a,close:h.IB.bind(h)},l];c(m.prototype,f,{$h:function(){return n}});var g=new m,b={Ag:!1,batchedUpdates:function(a,e,c,f,h,l){var d=b.Ag;b.Ag=!0;return d?a(e,c,f,h,l):g.Ng(a,null,e,c,f,h,l)}};k.f=b},
function(k,c,a){function m(a,b){this.jv=a;this.De=b;this.tc=[]}function h(a){var d=e(a.De),d=b.Xh(d);do{a.tc.push(d);var c;if(c=d){for(;d.ka;)d=d.ka;d=b.pa(d).parentNode;c=b.Xh(d)}d=c}while(d);for(c=0;c<a.tc.length;c++)d=a.tc[c],u.Xq(a.jv,d,a.De,e(a.De))}function f(a){var b=p(window);a(b)}c=a(21);var l=a(155),n=a(65),g=a(67),b=a(48),d=a(73),e=a(81),p=a(156);c(m.prototype,{md:function(){this.De=this.jv=null;this.tc.length=0}});g.Kc(m,g.jp);var u={um:!0,Xq:null,Jx:n.Ua?window:null,LG:function(a){u.Xq=
a},bl:function(a){u.um=!!a},isEnabled:function(){return u.um},qb:function(a,b,d){return d?l.listen(d,b,u.dispatchEvent.bind(null,a)):null},aj:function(a,b,d){return d?l.Lr(d,b,u.dispatchEvent.bind(null,a)):null},nE:function(a){a=f.bind(null,a);l.listen(window,"scroll",a)},dispatchEvent:function(a,b){if(u.um){a=m.Pa(a,b);try{d.batchedUpdates(h,a)}finally{m.release(a)}}}};k.f=u},function(k,c,a){var m=a(62);k.f={listen:function(a,c,l){if(a.addEventListener)return a.addEventListener(c,l,!1),{remove:function(){a.removeEventListener(c,
l,!1)}};if(a.attachEvent)return a.attachEvent("on"+c,l),{remove:function(){a.detachEvent("on"+c,l)}}},Lr:function(a,c,l){return a.addEventListener?(a.addEventListener(c,l,!0),{remove:function(){a.removeEventListener(c,l,!0)}}):{remove:m}},BR:function(){}}},function(k){k.f=function(c){return c===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:c.scrollLeft,y:c.scrollTop}}},function(k,c,a){c=a(50);var m=a(57),h=a(59),f=a(127),
l=a(137),n=a(117),g=a(138);a=a(73);k.f={Component:f.La,Gl:c.La,jw:l.La,Fp:m.La,Gp:h.La,Hf:n.La,Xp:g.La,Nq:a.La}},function(k,c,a){function m(a){this.Uk();this.renderToStaticMarkup=!1;this.xf=h.Pa(null);this.Df=a}c=a(21);var h=a(74),f=a(67),l=a(117),n=a(159);a(79);var g=a(80),b=a(148),d=[{xe:n.pC,close:n.jG},{xe:function(){var a=l.isEnabled();l.bl(!1);return a},close:function(a){l.bl(a)}},{xe:function(){this.xf.reset()},close:function(){this.xf.uo()}}];c(m.prototype,g,{$h:function(){return d},fb:function(){return this.xf},
Ks:function(){return b},Lh:function(){return this.xf.Lh()},Oi:function(a){this.xf.Oi(a)},md:function(){h.release(this.xf);this.xf=null}});f.Kc(m);k.f=m},function(k,c,a){var m=a(160),h=a(162),f=a(106),l=a(165),n={Qn:function(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&"text"===a.type||"textarea"===b||"true"===a.contentEditable)},pC:function(){var a=l();return{JB:a,HG:n.Qn(a)?n.getSelection(a):null}},jG:function(a){var b=l(),d=a.JB;a=a.HG;b!==d&&h(document.documentElement,
d)&&(n.Qn(d)&&n.setSelection(d,a),f(d))},getSelection:function(a){var b;if("selectionStart"in a)b={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()){var d=document.selection.createRange();d.parentElement()===a&&(b={start:-d.moveStart("character",-a.value.length),end:-d.moveEnd("character",-a.value.length)})}else b=m.hC(a);return b||{start:0,end:0}},setSelection:function(a,b){var d=b.start,e=b.end;void 0===e&&(e=d);"selectionStart"in
a?(a.selectionStart=d,a.selectionEnd=Math.min(e,a.value.length)):document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()?(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",d),a.moveEnd("character",e-d),a.select()):m.PG(a,b)}};k.f=n},function(k,c,a){function m(a){var b=document.selection.createRange(),e=b.text.length,c=b.duplicate();c.moveToElementText(a);c.setEndPoint("EndToStart",b);a=c.text.length;return{start:a,end:a+e}}function h(a){var b=window.getSelection&&window.getSelection();
if(!b||0===b.rangeCount)return null;var e=b.anchorNode,c=b.anchorOffset,g=b.focusNode,f=b.focusOffset,h=b.getRangeAt(0);try{h.startContainer.nodeType,h.endContainer.nodeType}catch(t){return null}var b=b.anchorNode===b.focusNode&&b.anchorOffset===b.focusOffset?0:h.toString().length,l=h.cloneRange();l.selectNodeContents(a);l.setEnd(h.startContainer,h.startOffset);a=l.startContainer===l.endContainer&&l.startOffset===l.endOffset?0:l.toString().length;h=a+b;b=document.createRange();b.setStart(e,c);b.setEnd(g,
f);e=b.collapsed;return{start:e?h:a,end:e?a:h}}function f(a,d){var b=document.selection.createRange().duplicate(),c;void 0===d.end?d=c=d.start:d.start>d.end?(c=d.end,d=d.start):(c=d.start,d=d.end);b.moveToElementText(a);b.moveStart("character",c);b.setEndPoint("EndToStart",b);b.moveEnd("character",d-c);b.select()}function l(a,d){if(window.getSelection){var b=window.getSelection(),c=a[g()].length,f=Math.min(d.start,c);d=void 0===d.end?f:Math.min(d.end,c);!b.extend&&f>d&&(c=d,d=f,f=c);c=n(a,f);a=n(a,
d);if(c&&a){var h=document.createRange();h.setStart(c.node,c.offset);b.removeAllRanges();f>d?(b.addRange(h),b.extend(a.node,a.offset)):(h.setEnd(a.node,a.offset),b.addRange(h))}}}c=a(65);var n=a(161),g=a(68);a=c.Ua&&"selection"in document&&!("getSelection"in window);k.f={hC:a?m:h,PG:a?f:l}},function(k){function c(a){for(;a&&a.firstChild;)a=a.firstChild;return a}k.f=function(a,m){var h=c(a);a=0;for(var f;h;){if(3===h.nodeType){f=a+h.textContent.length;if(a<=m&&f>=m)return{node:h,offset:m-a};a=f}a:{for(;h;){if(h.nextSibling){h=
h.nextSibling;break a}h=h.parentNode}h=void 0}h=c(h)}}},function(k,c,a){function m(a,c){return a&&c?a===c?!0:h(a)?!1:h(c)?m(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}var h=a(163);k.f=m},function(k,c,a){var m=a(164);k.f=function(a){return m(a)&&3==a.nodeType}},function(k){k.f=function(c){return!!(c&&("function"===typeof Node?c instanceof Node:"object"===typeof c&&"number"===typeof c.nodeType&&"string"===typeof c.nodeName))}},function(k){k.f=
function(){if("undefined"===typeof document)return null;try{return document.activeElement||document.body}catch(c){return document.body}}},function(k){var c={wK:"accent-height",xK:0,CK:0,EK:"alignment-baseline",HK:"allowReorder",KK:0,LK:0,NK:"arabic-form",VK:0,attributeName:"attributeName",WK:"attributeType",$K:"autoReverse",azimuth:0,bL:"baseFrequency",cL:"baseProfile",dL:"baseline-shift",eL:0,fL:0,gL:0,mL:0,oL:"calcMode",tL:"cap-height",clip:0,jA:"clip-path",EL:"clip-rule",DL:"clipPathUnits",HL:"color-interpolation",
IL:"color-interpolation-filters",JL:"color-profile",KL:"color-rendering",OL:"contentScriptType",PL:"contentStyleType",cursor:0,UL:0,VL:0,d:0,YL:0,sM:0,tM:"diffuseConstant",direction:0,display:0,yM:0,AM:"dominant-baseline",CM:0,DM:0,EM:0,FM:"edgeMode",elevation:0,IM:"enable-background",end:0,TM:0,UM:"externalResourcesRequired",fill:0,CB:"fill-opacity",WM:"fill-rule",filter:0,XM:"filterRes",YM:"filterUnits",gN:"flood-color",HB:"flood-opacity",jN:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",
fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,rN:0,sN:0,tN:0,RN:"glyph-name",SN:"glyph-orientation-horizontal",TN:"glyph-orientation-vertical",UN:"glyphRef",VN:"gradientTransform",WN:"gradientUnits",aO:0,gO:"horiz-adv-x",hO:"horiz-origin-x",lO:0,pO:"image-rendering","in":0,rO:0,zO:0,k:0,$O:0,aP:0,bP:0,cP:0,eP:"kernelMatrix",fP:"kernelUnitLength",gP:0,iP:"keyPoints",jP:"keySplines",kP:"keyTimes",oP:"lengthAdjust",letterSpacing:"letter-spacing",
pP:"lighting-color",rP:"limitingConeAngle",local:0,GP:"marker-end",IP:"marker-mid",JP:"marker-start",HP:"markerHeight",KP:"markerUnits",LP:"markerWidth",mask:0,MP:"maskContentUnits",NP:"maskUnits",PP:0,mode:0,kQ:"numOctaves",offset:0,opacity:0,operator:0,order:0,EQ:0,orientation:0,origin:0,overflow:0,GQ:"overline-position",HQ:"overline-thickness",IQ:"paint-order",JQ:"panose-1",OQ:"pathLength",PQ:"patternContentUnits",QQ:"patternTransform",RQ:"patternUnits",pointerEvents:"pointer-events",YQ:0,ZQ:"pointsAtX",
$Q:"pointsAtY",aR:"pointsAtZ",gR:"preserveAlpha",hR:"preserveAspectRatio",kR:"primitiveUnits",r:0,qR:0,wR:"refX",xR:"refY",GR:"rendering-intent",HR:"repeatCount",IR:"repeatDur",MR:"requiredExtensions",NR:"requiredFeatures",iG:0,result:0,rotate:0,XR:0,YR:0,scale:0,cS:0,lS:"shape-rendering",sS:0,wS:0,xS:"specularConstant",yS:"specularExponent",speed:0,zS:"spreadMethod",startOffset:"startOffset",ES:"stdDeviation",HS:0,IS:0,JS:"stitchTiles",KS:"stop-color",iH:"stop-opacity",NS:"strikethrough-position",
OS:"strikethrough-thickness",string:0,stroke:0,mH:"stroke-dasharray",nH:"stroke-dashoffset",QS:"stroke-linecap",RS:"stroke-linejoin",oH:"stroke-miterlimit",pH:"stroke-opacity",qH:"stroke-width",VS:"surfaceScale",ZS:"systemLanguage",aT:"tableValues",bT:"targetX",cT:"targetY",gT:"text-anchor",textDecoration:"text-decoration",iT:"text-rendering",hT:"textLength",to:0,transform:0,cU:0,dU:0,fU:"underline-position",gU:"underline-thickness",hU:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",jU:"units-per-em",
oU:"v-alphabetic",pU:"v-hanging",qU:"v-ideographic",rU:"v-mathematical",values:0,sU:"vector-effect",version:0,uU:"vert-adv-y",vU:"vert-origin-x",wU:"vert-origin-y",xU:"viewBox",yU:"viewTarget",visibility:0,AU:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,HU:"x-height",EU:0,FU:0,GU:"xChannelSelector",wI:"xlink:actuate",xI:"xlink:arcrole",yI:"xlink:href",zI:"xlink:role",AI:"xlink:show",BI:"xlink:title",CI:"xlink:type",DI:"xml:base",IU:0,JU:"xmlns:xlink",EI:"xml:lang",FI:"xml:space",y:0,
LU:0,MU:0,NU:"yChannelSelector",z:0,OU:"zoomAndPan"},a={uj:{},aw:{wI:"http://www.w3.org/1999/xlink",xI:"http://www.w3.org/1999/xlink",yI:"http://www.w3.org/1999/xlink",zI:"http://www.w3.org/1999/xlink",AI:"http://www.w3.org/1999/xlink",BI:"http://www.w3.org/1999/xlink",CI:"http://www.w3.org/1999/xlink",DI:"http://www.w3.org/XML/1998/namespace",EI:"http://www.w3.org/XML/1998/namespace",FI:"http://www.w3.org/XML/1998/namespace"},jj:{}};Object.keys(c).forEach(function(m){a.uj[m]=0;c[m]&&(a.jj[m]=c[m])});
k.f=a},function(k,c,a){function m(a,b){if(x||null==u||u!==g())return null;var e;"selectionStart"in u&&l.Qn(u)?e={start:u.selectionStart,end:u.selectionEnd}:window.getSelection?(e=window.getSelection(),e={anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}):document.selection?(e=document.selection.createRange(),e={parentElement:e.parentElement(),text:e.text,top:e.boundingTop,left:e.boundingLeft}):e=void 0;return v&&d(v,e)?null:(v=e,a=n.Pa(p.select,r,
a,b),a.type="select",a.target=u,h.Wf(a),a)}var h=a(56);c=a(65);var f=a(48),l=a(159),n=a(70),g=a(165),b=a(83),d=a(135),e=c.Ua&&"documentMode"in document&&11>=document.documentMode,p={select:{Ac:{cg:"onSelect",dg:"onSelectCapture"},ld:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},u=null,r=null,v=null,x=!1,t=!1;k.f={mg:p,se:function(a,d,c,g){if(!t)return null;var h=d?f.pa(d):window;switch(a){case "topFocus":if(b(h)||"true"===h.contentEditable)u=
h,r=d,v=null;break;case "topBlur":v=r=u=null;break;case "topMouseDown":x=!0;break;case "topContextMenu":case "topMouseUp":return x=!1,m(c,g);case "topSelectionChange":if(e)break;case "topKeyDown":case "topKeyUp":return m(c,g)}return null},nn:function(a,b){"onSelect"===b&&(t=!0)}}},function(k,c,a){function m(a){return"button"===a||"input"===a||"select"===a||"textarea"===a}var h=a(49),f=a(155),l=a(56),n=a(48),g=a(169),b=a(170),d=a(70),e=a(171),p=a(172),u=a(86),r=a(175),v=a(176),x=a(177),t=a(87),y=a(178),
A=a(62),z=a(173);a(51);var C={},B={};"abort animationEnd animationIteration animationStart blur canPlay canPlayThrough click contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(a){var b=
a[0].toUpperCase()+a.slice(1),d="on"+b,b="top"+b,d={Ac:{cg:d,dg:d+"Capture"},ld:[b]};C[a]=d;B[b]=d});var E={};k.f={mg:C,se:function(a,c,f,n){var m=B[a];if(!m)return null;var k;switch(a){case "topAbort":case "topCanPlay":case "topCanPlayThrough":case "topDurationChange":case "topEmptied":case "topEncrypted":case "topEnded":case "topError":case "topInput":case "topInvalid":case "topLoad":case "topLoadedData":case "topLoadedMetadata":case "topLoadStart":case "topPause":case "topPlay":case "topPlaying":case "topProgress":case "topRateChange":case "topReset":case "topSeeked":case "topSeeking":case "topStalled":case "topSubmit":case "topSuspend":case "topTimeUpdate":case "topVolumeChange":case "topWaiting":k=
d;break;case "topKeyPress":if(0===z(f))return null;case "topKeyDown":case "topKeyUp":k=p;break;case "topBlur":case "topFocus":k=e;break;case "topClick":if(2===f.button)return null;case "topDoubleClick":case "topMouseDown":case "topMouseMove":case "topMouseUp":case "topMouseOut":case "topMouseOver":case "topContextMenu":k=u;break;case "topDrag":case "topDragEnd":case "topDragEnter":case "topDragExit":case "topDragLeave":case "topDragOver":case "topDragStart":case "topDrop":k=r;break;case "topTouchCancel":case "topTouchEnd":case "topTouchMove":case "topTouchStart":k=
v;break;case "topAnimationEnd":case "topAnimationIteration":case "topAnimationStart":k=g;break;case "topTransitionEnd":k=x;break;case "topScroll":k=t;break;case "topWheel":k=y;break;case "topCopy":case "topCut":case "topPaste":k=b}k?void 0:h("86",a);a=k.Pa(m,c,f,n);l.Wf(a);return a},nn:function(a,b){"onClick"!==b||m(a.na)||(b="."+a.Db,a=n.pa(a),E[b]||(E[b]=f.listen(a,"click",A)))},xl:function(a,b){"onClick"!==b||m(a.na)||(a="."+a.Db,E[a].remove(),delete E[a])}}},function(k,c,a){function m(a,c,n,g){return h.call(this,
a,c,n,g)}var h=a(70);h.Qb(m,{animationName:null,elapsedTime:null,GF:null});k.f=m},function(k,c,a){function m(a,c,n,g){return h.call(this,a,c,n,g)}var h=a(70);h.Qb(m,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}});k.f=m},function(k,c,a){function m(a,c,n,g){return h.call(this,a,c,n,g)}var h=a(87);h.Qb(m,{relatedTarget:null});k.f=m},function(k,c,a){function m(a,c,g,b){return h.call(this,a,c,g,b)}var h=a(87),f=a(173);c=a(174);a=a(89);h.Qb(m,{key:c,location:null,
ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(a){return"keypress"===a.type?f(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?f(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}});k.f=m},function(k){k.f=function(c){var a=c.keyCode;"charCode"in c?(c=c.charCode,0===c&&13===a&&(c=13)):c=a;return 32<=c||13===c?c:0}},function(k,c,a){var m=a(173),h={Esc:"Escape",
Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",
119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};k.f=function(a){if(a.key){var c=h[a.key]||a.key;if("Unidentified"!==c)return c}return"keypress"===a.type?(a=m(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?f[a.keyCode]||"Unidentified":""}},function(k,c,a){function m(a,c,n,g){return h.call(this,a,c,n,g)}var h=a(86);h.Qb(m,{dataTransfer:null});k.f=m},function(k,c,a){function m(a,c,n,g){return h.call(this,a,c,n,g)}var h=a(87);
c={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:a(89)};h.Qb(m,c);k.f=m},function(k,c,a){function m(a,c,n,g){return h.call(this,a,c,n,g)}var h=a(70);h.Qb(m,{propertyName:null,elapsedTime:null,GF:null});k.f=m},function(k,c,a){function m(a,c,n,g){return h.call(this,a,c,n,g)}var h=a(86);h.Qb(m,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in
a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null});k.f=m},function(k,c,a){function m(){this.Ju=K++}function h(a){return a?9===a.nodeType?a.documentElement:a.firstChild:null}function f(a,b,d,c,e){var g;y.At&&(g=a.M.props.oe.type,g="React mount: "+("string"===typeof g?g:g.displayName||g.name),console.time(g));e=C.Qc(a,d,null,x(a,b),e,0);g&&console.timeEnd(g);a.$a.Ah=a;L.$x(e,b,a,c,d)}function l(a,b,d,c){var e=E.If.Pa(!d&&t.Df);e.Ng(f,null,a,b,e,d,c);E.If.release(e)}function n(a,
b,d){C.Gc(a,d);9===b.nodeType&&(b=b.documentElement);for(;b.lastChild;)b.removeChild(b.lastChild)}function g(a){if(a=h(a))return a=v.Zh(a),!(!a||!a.ka)}function b(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function d(a){return(a=(a=(a=h(a))&&v.Zh(a))&&!a.ka?a:null)?a.ed.Ah:null}var e=a(49),p=a(93);c=a(50);var u=a(20),r=a(117);a(27);var v=a(48),x=a(180),t=a(181),y=a(75),A=a(128);a(79);var z=a(182),C=a(76),B=a(148),E=a(73),F=a(134),D=a(131);a(51);var G=a(95),H=a(136);a(61);var I=
c.nj,J={},K=1;m.prototype.ht={};m.prototype.render=function(){return this.props.oe};m.uD=!0;var L={fK:m,qK:J,DG:function(a,b){b()},pz:function(a,b,d,c,e){L.DG(c,function(){B.lB(a,b,d);e&&B.kB(a,e)});return a},dy:function(a,d,c,g){void 0;b(d)?void 0:e("37");r.qB();a=D(a,!1);E.batchedUpdates(l,a,d,c,g);return J[a.Za.Ju]=a},dG:function(a,b,d,c){null!=a&&A.has(a)?void 0:e("38");return L.ar(a,b,d,c)},ar:function(a,b,c,f){B.uv(f,"ReactDOM.render");u.isValidElement(b)?void 0:e("39","string"===typeof b?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":
"function"===typeof b?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=b&&void 0!==b.props?" This may be caused by unintentionally loading two independent copies of React.":"");void 0;var l=u.createElement(m,{oe:b});a?(a=A.get(a),a=a.Cj(a.qc)):a=F;var n=d(c);if(n){if(H(n.M.props.oe,b)){var k=n.$a.qd();L.pz(n,l,a,c,f&&function(){f.call(k)});return k}L.unmountComponentAtNode(c)}b=(b=h(c))&&!(!b.getAttribute||!b.getAttribute(I));var p=g(c);c=L.dy(l,c,b&&!n&&!p,
a).$a.qd();f&&f.call(c);return c},render:function(a,b,d){return L.ar(null,a,b,d)},unmountComponentAtNode:function(a){void 0;b(a)?void 0:e("40");var c=d(a);if(!c)return g(a),!1;delete J[c.Za.Ju];E.batchedUpdates(n,c,a,!1);return!0},$x:function(a,d,c,g,f){b(d)?void 0:e("41");if(g){var l=h(d);if(z.eA(a,l)){v.Hi(c,l);return}var n=l.getAttribute(z.dh);l.removeAttribute(z.dh);g=l.outerHTML;l.setAttribute(z.dh,n);a:{l=Math.min(a.length,g.length);for(n=0;n<l;n++)if(a.charAt(n)!==g.charAt(n)){l=n;break a}l=
a.length===g.length?-1:l}g=" (client) "+a.substring(l-20,l+20)+"\n (server) "+g.substring(l-20,l+20);9===d.nodeType?e("42",g):void 0}9===d.nodeType?e("43"):void 0;if(f.Df){for(;d.lastChild;)d.removeChild(d.lastChild);p.$s(d,a,null)}else G(d,a),v.Hi(c,d.firstChild)}};k.f=L},function(k,c,a){a(149);k.f=function(a,c){return{Ah:a,vm:1,Bj:c?9===c.nodeType?c:c.ownerDocument:null,Bm:c,na:c?c.nodeName.toLowerCase():null,Aj:c?c.namespaceURI:null}}},function(k){k.f={Df:!0,mU:!1}},function(k,c,a){var m=a(183),
h=/\/?>/,f=/^<\!\-\-/,l={dh:"data-react-checksum",AK:function(a){var c=m(a);return f.test(a)?a:a.replace(h," "+l.dh+'="'+c+'"$&')},eA:function(a,c){c=(c=c.getAttribute(l.dh))&&parseInt(c,10);return m(a)===c}};k.f=l},function(k){k.f=function(c){for(var a=1,m=0,h=0,f=c.length,l=f&-4;h<l;){for(var n=Math.min(h+4096,l);h<n;h+=4)m+=(a+=c.charCodeAt(h))+(a+=c.charCodeAt(h+1))+(a+=c.charCodeAt(h+2))+(a+=c.charCodeAt(h+3));a%=65521;m%=65521}for(;h<f;h++)m+=a+=c.charCodeAt(h);return a%65521|m%65521<<16}},
function(k){k.f="15.4.1"},function(k,c,a){var m=a(49);a(27);var h=a(48),f=a(128),l=a(186);a(51);a(61);k.f=function(a){if(null==a)return null;if(1===a.nodeType)return a;var c=f.get(a);if(c)return(c=l(c))?h.pa(c):null;"function"===typeof a.render?m("44"):m("45",Object.keys(a))}},function(k,c,a){var m=a(133);k.f=function(a){for(var c;(c=a.Dj)===m.yp;)a=a.$a;if(c===m.Vp)return a.$a;if(c===m.EMPTY)return null}},function(k,c,a){c=a(179);k.f=c.dG},function(k,c,a){function m(a,c,e,l,m){f.assert_nt(e);var k=
{html_with_resolved_refs:"",resolved_refs:{},has_ref:!1},u="",t,r=0,v;for(c.lastIndex=0;;){t=c.exec(a);if(!t)break;v=c.lastIndex;u+=a.substring(r,t.index);f.dwarnif(2<t.length&&null!=t[2],"Using old in-text templates: "+a,t);var x=t[1],r=void 0,F=e.Ma.uf(l,x),D="",G=d.stwidgets.refStyle.value;if(F)r=x;else{var H=x.indexOf(":");0<=H&&(r=x.substring(0,H),D=x.substring(H+1),F=e.Ma.uf(l,r));F||n.Vk("Disabled auto-creation of new definition nodes. see old code in ./not-built")}if(F){t=g.Ko(c,F,0);e.top.wg()&&
k.resolved_refs[r]&&(G=d.stwidgets.subsequentRefStyle.value);if(p.has(D))switch(G=void 0,D){case "children":G=$(b.Sb(F.c));0===G.length?u+="\u2039"+F.c+"'s DOM rendering missing\u203a":(u+="<ul>\n",G.find("ul .node_inlining").each(function(a,b){u+="<li>"+b.innerHTML+"</li>\n"}),u+="</ul>");break;case "inlining":u+=b.Ss(F,e);break;case "full":u+=b.LC(F);break;case "cloaked":case "camo":G="cloaked"}else u=m?u+t:t?u+h(F,t,G):u+b.Ss(F,e);k.resolved_refs[r]=t;k.has_ref=!0}else u+=a.substring(t.index,v);
r=v;c.lastIndex=r}r<a.length&&(u+=a.substring(r,a.length));k.html_with_resolved_refs=u;return k}function h(a,b,d){void 0===d&&(d="");return"<span class='simple-inline-ref "+d+"' data-permid_ref='"+a.c+"'>"+b+"</span>"}var f=a(7),l=a(9),n=a(4),g=a(11),b=a(189),d=a(14),e=a(248),p=n.JG("children","inlining","full","cloaked","camo");c.kD=function(a,b,d,c,e){f.assert_nt(d);f.dlogcat(l.LogTypes.qtip,"Entering insertRefsIntoDOMTextNode. id_of_node_with_ref is "+c);var g=a.textContent;n.F(g)?f.derr("(not actual error) undefined or null passed as first arg to insertRefsIntoDOMTextNode. Some of other args were ",
a,c):(b=m(g,b,d,c,e),d="<span>"+b.html_with_resolved_refs+"</span>",b.has_ref&&(b=$(d),$(a).replaceWith(b)))};c.Zs=m;c.nS=h;c.Sg=function(a,b,c,g,f){void 0===g&&(g=e.l);b={className:"simple-inline-ref "+d.stwidgets.refStyle.value,"data-permid_ref":b};f&&e.PF(b,f);return e.Ar(a,c,b,g)};c.cG=function(a,b,c){c||(c=b);return e.l({className:"simple-inline-ref "+d.stwidgets.refStyle.value,"data-permid_ref":a,key:c},b)}},function(k,c,a){function m(a){return"stnode"+a}function h(a){return"."+a+"-inlining"}
function f(a){return a.substr(6)}function l(a){return"#stnode"+a}var n=a(7),g=a(190),b=a(191),d=a(3),e=a(247),p=a(46);c.Qr=function(a){return m(a)+"children-show-hide-trigger"};c.Ee=m;c.bQ=h;c.iB=f;c.jB=function(a){var b=new Set,d=$(a);try{for(;;){if(b.has(d[0])){n.dwarn("????? why can this happen? Only at the root?");break}else b.add(d[0]);if(d.is(".STNodeView"))return f(d.attr("id"));if(d.is("body"))break;d=d.parent()}}catch(x){console.error("Exception trying to get the STNode closest to element ",
a,x)}return null};c.Sb=l;c.Ou=function(a,b){b=URL.createObjectURL(new Blob([b],{type:"application/json"}));var d=document.createElement("a");d.download=a;d.href=b;d.textContent="download";d.onclick=function(){d.remove()};(a=document.getElementById("save-json-backup-container"))&&a.appendChild(d)};c.LC=function(a){var b,c=$(l(a.c)).first();0===c.length?(n.nd("Following code probably needs to be wrapped in a callback. Since React executes asynchronously??"),d.STApp.the.C.Na.Tc&&d.STApp.the.C.Na.Tc.has(a.c)?
d.STApp.the.C.Na.Tc.get(a.c):d.STApp.the.C.Na.oo(a,null,3,Infinity,!0),$("<span></span>")):(c.find("*").removeAttr("data-reactid"),b=c.html());return b};c.Ss=function(a,b){var c=$(h(a.c)).first();0===c.length?(n.nd("Following code probably needs to be wrapped in a callback. Since React executes asynchronously??"),c=d.STApp.the.C.Na.wi(a),a=$("<span></span>"),b=e.J(b.stdocid,c),p.render(b,a[0]),b=a[0].outerHTML):(c.find("*").removeAttr("data-reactid"),b=c.html());return b};c.zf=function(a,d){void 0===
d&&(d="safe_html");if(null==a)return"";d=b(a,g.wG[d]);0<a.length&&0===d.length&&console.warn("sanitizeHtml made the nonempty string "+a+" empty.");return d};c.dn=function(){return 0<$(".STNodeView.context-menu-active").length};c.Zt=function(){return $(document.activeElement).is(".NodeStubOption")}},function(k,c,a){function m(a){a&&(a=a.offset(),l.F(a)||(a=a.top,l.F(a)||$("html,body").scrollTop(a-50)))}function h(a,b){a&&(a=a.offset(),l.F(a)||(a=a.top,l.F(a)||(a={scrollTop:a-50},null!=b&&(a.duration=
b),$("html,body").animate(a,"fast"))))}function f(a){if(!a)return!1;a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth)}var l=a(4),n=a(191);window.sanitizeHtml=n;c.wG={safe_html:{allowedTags:n.defaults.allowedTags.concat("sup sub del ins s q small strong u math mrow mi mfrac msubsup msub msup img span".split(" ")),allowedAttributes:l.sf(n.defaults.allowedAttributes,
{"*":["style","type","class"],li:["value"]})},wordlevel_html_etc:{allowedTags:"del ins s q small strong u sup sub math mrow mi mfrac msubsup msub msup img img span h1 h2 h3 h4 h5 h6 blockquote a b i em strike code hr br div pre".split(" "),allowedAttributes:{"*":"href name target style type class src".split(" ")}}};var g=/\s\s+/g,b=/(?:\r\n)|\n|\r/g;c.Xs=function(a){a=a.replace(g,"<pre>$&</pre>");return a.replace(b,"<br>")};var d=/(?:<pre>)|(?:<\/pre>)/g;c.lH=function(a){a=l.kH(a,"<br>","\n");return a.replace(d,
"")};c.PS=function(a,b){void 0===b&&(b=!0);return b?n(a,{allowedTags:[],allowedAttributes:{}}):a};c.EG=function(a){m($("#"+a))};c.ZR=m;c.vr=function(a){h($("#"+a),void 0)};c.Ez=h;c.qD=f;c.os=function(a){a&&!f(a[0])&&l.Zi("focus-autoscroll",function(){return h(a)},100)};c.oi=function(a){var b=document.createElement("link");b.href=a;b.rel="stylesheet";b.type="text/css";document.getElementsByTagName("head")[0].appendChild(b)}},function(k,c,a){function m(a,d){a&&Object.keys(a).forEach(function(b){d(a[b],
b)})}function h(a,d){function b(a,b){var d=this;this.tag=a;this.Fa=b||{};this.wH=r.length;this.text="";this.sv=function(){B.length&&(B[B.length-1].text+=d.text)}}function c(a){"string"!==typeof a&&(a+="");return a.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}function k(a,b){if(!b)return a;a=a.split(/\s+/);return a.filter(function(a){return-1!==b.indexOf(a)}).join(" ")}var r="";d?(d=l(h.defaults,d),d.Ik=d.Ik?l(g,d.Ik):g):(d=h.defaults,d.Ik=g);var v=d.fQ||
["script","style","textarea"],x,t;d.allowedAttributes&&(x={},t={},m(d.allowedAttributes,function(a,b){x[b]=[];var d=[];a.forEach(function(a){0<=a.indexOf("*")?d.push(n(a).replace(/\\\*/g,".*")):x[b].push(a)});t[b]=new RegExp("^("+d.join("|")+")$")}));var y={};m(d.IK,function(a,b){x&&({}.hasOwnProperty.call(x,b)||(x[b]=[]),x[b].push("class"));y[b]=a});var A={},z;m(d.ZT,function(a,b){var d;"function"===typeof a?d=a:"string"===typeof a&&(d=h.eH(a));"*"===b?z=d:A[b]=d});var C=0,B=[],E={},F={},D=!1,G=
0,H=new f.Yw({Dk:function(a,e){if(D)G++;else{var g=new b(a,e);B.push(g);var f=!1,h=g.text?!0:!1,l;({}).hasOwnProperty.call(A,a)&&(l=A[a](a,e),g.Fa=e=l.Fa,void 0!==l.text&&(g.innerText=l.text),a!==l.tagName&&(g.name=a=l.tagName,F[C]=l.tagName));z&&(l=z(a,e),g.Fa=e=l.Fa,a!==l.tagName&&(g.name=a=l.tagName,F[C]=l.tagName));d.allowedTags&&-1===d.allowedTags.indexOf(a)&&(f=!0,-1!==v.indexOf(a)&&(D=!0,G=1),E[C]=!0);C++;f||(r+="<"+a,(!x||{}.hasOwnProperty.call(x,a)||x["*"])&&m(e,function(b,e){if(!x||{}.hasOwnProperty.call(x,
a)&&-1!==x[a].indexOf(e)||x["*"]&&-1!==x["*"].indexOf(e)||{}.hasOwnProperty.call(t,a)&&t[a].test(e)||t["*"]&&t["*"].test(e)){var f;if(!(f="href"!==e&&"src"!==e)){f=a;var h;h=b.replace(/[\x00-\x20]+/g,"");h=h.replace(/<\!\-\-.*?\-\-\>/g,"");(h=h.match(/^([a-zA-Z]+)\:/))?(h=h[1].toLowerCase(),f={}.hasOwnProperty.call(d.sr,f)?-1===d.sr[f].indexOf(h):!d.rr||-1===d.rr.indexOf(h)):f=!1;f=!f}if(f){if("class"===e&&(b=k(b,y[a]),!b.length)){delete g.Fa[e];return}r+=" "+e;b.length&&(r+='="'+c(b)+'"')}else delete g.Fa[e]}else delete g.Fa[e]}),
-1!==d.Ru.indexOf(a)?r+=" />":(r+=">",!g.innerText||h||d.gv||(r+=g.innerText)))}},zc:function(a){if(!D){var b=B[B.length-1],e;b&&(e=b.tag,a=void 0!==b.innerText?b.innerText:a);"script"===e||"style"===e?r+=a:(b=c(a),r=d.gv?r+d.gv(b):r+b);B.length&&(B[B.length-1].text+=a)}},Uc:function(a){if(D){G--;if(G)return;D=!1}var b=B.pop();b&&(D=!1,C--,E[C]?(delete E[C],b.sv()):(F[C]&&(a=F[C],delete F[C]),d.sB&&d.sB(b)?r=r.substr(0,b.wH):(b.sv(),-1===d.Ru.indexOf(a)&&(r+="</"+a+">"))))}},d.Ik);H.write(a);H.end();
return r}var f=a(192),l=a(245),n=a(246);k.f=h;var g={hg:!0};h.defaults={allowedTags:"h3 h4 h5 h6 blockquote p a ul ol nl li b i strong em strike code hr br div table thead caption tbody tr th td pre".split(" "),allowedAttributes:{a:["href","name","target"],img:["src"]},Ru:"img br hr area base basefont input link meta".split(" "),rr:["http","https","ftp","mailto"],sr:{}};h.eH=function(a){var b,c;c=void 0===c?!0:c;b=b||{};return function(d,e){var g;if(c)for(g in b)e[g]=b[g];else e=b;return{tagName:a,
Fa:e}}}},function(k,c,a){function m(a,c){delete k.f[a];return k.f[a]=c}var h=a(193),f=a(202);k.f={Yw:h,Mq:a(194),cJ:a(203),cw:f,get Ip(){return m("FeedHandler",a(206))},get Hq(){return m("Stream",a(207))},get WritableStream(){return m("WritableStream",a(208))},get LJ(){return m("ProxyHandler",a(231))},get dw(){return m("DomUtils",a(232))},get OI(){return m("CollectingHandler",a(244))},YI:f,get UJ(){return m("RssHandler",this.Ip)},MQ:function(a,c){var g=new f(c);(new h(g,c)).end(a);return g.Jd},NQ:function(a,
c){var g=new k.f.Ip(c);(new h(g,c)).end(a);return g.Jd},QL:function(a,c,g){a=new f(a,c,g);return new h(a,c)},Il:{attribute:2,wL:0,vL:0,text:1,lR:2,comment:1,ML:0,FL:1,BQ:2,CQ:1,error:1,end:0}}},function(k,c,a){function m(a,b){this.ra=b||{};this.A=a||{};this.mh=this.Qf=this.Ue="";this.ce=null;this.Pb=[];this.Xo=0;this.Xj=null;this.zm="lowerCaseTags"in this.ra?!!this.ra.zP:!this.ra.Zb;this.Xx="lowerCaseAttributeNames"in this.ra?!!this.ra.yP:!this.ra.Zb;this.ra.Mq&&(h=this.ra.Mq);this.ie=new h(this.ra,
this);this.A.Fk&&this.A.Fk(this)}var h=a(194);c={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0};var f={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:c,input:c,output:c,button:c,datalist:c,textarea:c,option:{option:!0},optgroup:{optgroup:!0}},l={__proto__:null,area:!0,base:!0,$z:!0,br:!0,col:!0,nA:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,
wD:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},n=/\s|\//;a(200)(m,a(201).Hf);m.prototype.Eh=function(a){this.Xo=null===this.Xj?this.ie.I<=a?0:this.ie.I-a:this.Xj+1;this.Xj=this.ie.SB()};m.prototype.zc=function(a){this.Eh(1);this.Xj--;this.A.zc&&this.A.zc(a)};m.prototype.Ek=function(a){this.zm&&(a=a.toLowerCase());this.Ue=a;if(!this.ra.Zb&&a in f)for(var b;(b=this.Pb[this.Pb.length-1])in f[a];this.Uc(b));
!this.ra.Zb&&a in l||this.Pb.push(a);this.A.Ek&&this.A.Ek(a);this.A.Dk&&(this.ce={})};m.prototype.xo=function(){this.Eh(1);this.ce&&(this.A.Dk&&this.A.Dk(this.Ue,this.ce),this.ce=null);!this.ra.Zb&&this.A.Uc&&this.Ue in l&&this.A.Uc(this.Ue);this.Ue=""};m.prototype.Uc=function(a){this.Eh(1);this.zm&&(a=a.toLowerCase());if(!this.Pb.length||a in l&&!this.ra.Zb)this.ra.Zb||"br"!==a&&"p"!==a||(this.Ek(a),this.qm());else{var b=this.Pb.lastIndexOf(a);if(-1!==b)if(this.A.Uc)for(b=this.Pb.length-b;b--;)this.A.Uc(this.Pb.pop());
else this.Pb.length=b;else"p"!==a||this.ra.Zb||(this.Ek(a),this.qm())}};m.prototype.jF=function(){this.ra.Zb||this.ra.vR?this.qm():this.xo()};m.prototype.qm=function(){var a=this.Ue;this.xo();this.Pb[this.Pb.length-1]===a&&(this.A.Uc&&this.A.Uc(a),this.Pb.pop())};m.prototype.fF=function(a){this.Xx&&(a=a.toLowerCase());this.Qf=a};m.prototype.eF=function(a){this.mh+=a};m.prototype.Bi=function(){this.A.gF&&this.A.gF(this.Qf,this.mh);this.ce&&!Object.prototype.hasOwnProperty.call(this.ce,this.Qf)&&(this.ce[this.Qf]=
this.mh);this.mh=this.Qf=""};m.prototype.Vq=function(a){var b=a.search(n);a=0>b?a:a.substr(0,b);this.zm&&(a=a.toLowerCase());return a};m.prototype.hF=function(a){if(this.A.Lg){var b=this.Vq(a);this.A.Lg("!"+b,"!"+a)}};m.prototype.Lg=function(a){if(this.A.Lg){var b=this.Vq(a);this.A.Lg("?"+b,"?"+a)}};m.prototype.Kg=function(a){this.Eh(4);this.A.Kg&&this.A.Kg(a);this.A.ku&&this.A.ku()};m.prototype.hu=function(a){this.Eh(1);this.ra.Zb||this.ra.uR?(this.A.ju&&this.A.ju(),this.A.zc&&this.A.zc(a),this.A.iu&&
this.A.iu()):this.Kg("[CDATA["+a+"]]")};m.prototype.onerror=function(a){if(this.A.onerror)this.A.onerror(a)};m.prototype.Ci=function(){if(this.A.Uc)for(var a=this.Pb.length;0<a;this.A.Uc(this.Pb[--a]));this.A.Ci&&this.A.Ci()};m.prototype.reset=function(){if(this.A.onreset)this.A.onreset();this.ie.reset();this.Qf=this.Ue="";this.ce=null;this.Pb=[];this.A.Fk&&this.A.Fk(this)};m.prototype.write=function(a){this.ie.write(a)};m.prototype.end=function(a){this.ie.end(a)};m.prototype.pause=function(){this.ie.pause()};
m.prototype.resume=function(){this.ie.resume()};m.prototype.done=m.prototype.end;k.f=m},function(k,c,a){function m(a){return" "===a||"\n"===a||"\t"===a||"\f"===a||"\r"===a}function h(a,b,d){var c=a.toLowerCase();return a===c?function(a){a===c?this.j=b:(this.j=d,this._index--)}:function(e){e===c||e===a?this.j=b:(this.j=d,this._index--)}}function f(a,b){var d=a.toLowerCase();return function(c){c===d||c===a?this.j=b:(this.j=u,this._index--)}}function l(a,b){this.j=e;this.Ya="";this.Dd=this._index=this.I=
0;this.Ob=e;this.Hd=aa;this.A=b;this.yh=!0;this.xj=!1;this.gd=!(!a||!a.Zb);this.qh=!(!a||!a.hg)}k.f=l;var n=a(195),g=a(197),b=a(198),d=a(199);k=0;var e=k++,p=k++,u=k++,r=k++,v=k++,x=k++,t=k++,y=k++,A=k++,z=k++,C=k++,B=k++,E=k++,F=k++,D=k++,G=k++,H=k++,I=k++,J=k++,K=k++,L=k++,Q=k++,N=k++,M=k++,P=k++,O=k++,S=k++,R=k++,U=k++,T=k++,V=k++,W=k++,X=k++,Y=k++,Z=k++,ca=k++,ja=k++,ka=k++,la=k++,da=k++,ea=k++,fa=k++,ma=k++,na=k++,oa=k++,pa=k++,qa=k++,ra=k++,sa=k++,ta=k++,ba=k++,ua=k++,ga=k++,ha=k++,ia=k++;k=
0;var aa=k++,va=k++,wa=k++;l.prototype.jz=function(a){"<"===a?(this._index>this.I&&this.A.zc(this.Se()),this.j=p,this.I=this._index):this.qh&&this.Hd===aa&&"&"===a&&(this._index>this.I&&this.A.zc(this.Se()),this.Ob=e,this.j=ba,this.I=this._index)};l.prototype.Vy=function(a){"/"===a?this.j=v:"<"===a?(this.A.zc(this.Se()),this.I=this._index):">"===a||this.Hd!==aa||m(a)?this.j=e:"!"===a?(this.j=D,this.I=this._index+1):"?"===a?(this.j=H,this.I=this._index+1):(this.j=this.gd||"s"!==a&&"S"!==a?u:V,this.I=
this._index)};l.prototype.iz=function(a){if("/"===a||">"===a||m(a))this.fe("onopentagname"),this.j=y,this._index--};l.prototype.Fy=function(a){m(a)||(">"===a?this.j=e:this.Hd!==aa?"s"===a||"S"===a?this.j=W:(this.j=e,this._index--):(this.j=x,this.I=this._index))};l.prototype.az=function(a){if(">"===a||m(a))this.fe("onclosetag"),this.j=t,this._index--};l.prototype.ky=function(a){">"===a&&(this.j=e,this.I=this._index+1)};l.prototype.xy=function(a){">"===a?(this.A.xo(),this.j=e,this.I=this._index+1):
"/"===a?this.j=r:m(a)||(this.j=A,this.I=this._index)};l.prototype.hz=function(a){">"===a?(this.A.jF(),this.j=e,this.I=this._index+1):m(a)||(this.j=y,this._index--)};l.prototype.Wy=function(a){if("="===a||"/"===a||">"===a||m(a))this.A.fF(this.Se()),this.I=-1,this.j=z,this._index--};l.prototype.hy=function(a){"="===a?this.j=C:"/"===a||">"===a?(this.A.Bi(),this.j=y,this._index--):m(a)||(this.A.Bi(),this.j=A,this.I=this._index)};l.prototype.yy=function(a){'"'===a?(this.j=B,this.I=this._index+1):"'"===
a?(this.j=E,this.I=this._index+1):m(a)||(this.j=F,this.I=this._index,this._index--)};l.prototype.Xy=function(a){'"'===a?(this.fe("onattribdata"),this.A.Bi(),this.j=y):this.qh&&"&"===a&&(this.fe("onattribdata"),this.Ob=this.j,this.j=ba,this.I=this._index)};l.prototype.Zy=function(a){"'"===a?(this.fe("onattribdata"),this.A.Bi(),this.j=y):this.qh&&"&"===a&&(this.fe("onattribdata"),this.Ob=this.j,this.j=ba,this.I=this._index)};l.prototype.Yy=function(a){m(a)||">"===a?(this.fe("onattribdata"),this.A.Bi(),
this.j=y,this._index--):this.qh&&"&"===a&&(this.fe("onattribdata"),this.Ob=this.j,this.j=ba,this.I=this._index)};l.prototype.Hy=function(a){this.j="["===a?Q:"-"===a?I:G};l.prototype.cz=function(a){">"===a&&(this.A.hF(this.Se()),this.j=e,this.I=this._index+1)};l.prototype.gz=function(a){">"===a&&(this.A.Lg(this.Se()),this.j=e,this.I=this._index+1)};l.prototype.Gy=function(a){"-"===a?(this.j=J,this.I=this._index+1):this.j=G};l.prototype.bz=function(a){"-"===a&&(this.j=K)};l.prototype.ly=function(a){this.j=
"-"===a?L:J};l.prototype.ny=function(a){">"===a?(this.A.Kg(this.Ya.substring(this.I,this._index-2)),this.j=e,this.I=this._index+1):"-"!==a&&(this.j=J)};l.prototype.zy=h("C",N,G);l.prototype.Ay=h("D",M,G);l.prototype.By=h("A",P,G);l.prototype.Cy=h("T",O,G);l.prototype.Dy=h("A",S,G);l.prototype.Ey=function(a){"["===a?(this.j=R,this.I=this._index+1):(this.j=G,this._index--)};l.prototype.$y=function(a){"]"===a&&(this.j=U)};l.prototype.iy=function(a,b){return function(d){d===a&&(this.j=b)}}("]",T);l.prototype.jy=
function(a){">"===a?(this.A.hu(this.Ya.substring(this.I,this._index-2)),this.j=e,this.I=this._index+1):"]"!==a&&(this.j=R)};l.prototype.Py=function(a){"c"===a||"C"===a?this.j=X:"t"===a||"T"===a?this.j=ma:(this.j=u,this._index--)};l.prototype.Qy=function(a){this.j=this.Hd!==va||"c"!==a&&"C"!==a?this.Hd!==wa||"t"!==a&&"T"!==a?e:qa:ka};l.prototype.Ky=f("R",Y);l.prototype.Ly=f("I",Z);l.prototype.My=f("P",ca);l.prototype.Ny=f("T",ja);l.prototype.Oy=function(a){if("/"===a||">"===a||m(a))this.Hd=va;this.j=
u;this._index--};l.prototype.oy=h("R",la,e);l.prototype.py=h("I",da,e);l.prototype.qy=h("P",ea,e);l.prototype.ry=h("T",fa,e);l.prototype.sy=function(a){">"===a||m(a)?(this.Hd=aa,this.j=x,this.I=this._index-6,this._index--):this.j=e};l.prototype.Ry=f("Y",na);l.prototype.Sy=f("L",oa);l.prototype.Ty=f("E",pa);l.prototype.Uy=function(a){if("/"===a||">"===a||m(a))this.Hd=wa;this.j=u;this._index--};l.prototype.ty=h("Y",ra,e);l.prototype.uy=h("L",sa,e);l.prototype.vy=h("E",ta,e);l.prototype.wy=function(a){">"===
a||m(a)?(this.Hd=aa,this.j=x,this.I=this._index-5,this._index--):this.j=e};l.prototype.Iy=h("#",ua,ga);l.prototype.Jy=h("X",ia,ha);l.prototype.Zq=function(){if(this.I+1<this._index){var a=this.Ya.substring(this.I+1,this._index),b=this.gd?d:g;b.hasOwnProperty(a)&&(this.tm(b[a]),this.I=this._index+1)}};l.prototype.Cm=function(){var a=this.I+1,d=this._index-a;for(6<d&&(d=6);2<=d;){var c=this.Ya.substr(a,d);if(b.hasOwnProperty(c)){this.tm(b[c]);this.I+=d+1;break}else d--}};l.prototype.ez=function(a){";"===
a?(this.Zq(),this.I+1<this._index&&!this.gd&&this.Cm(),this.j=this.Ob):("a">a||"z"<a)&&("A">a||"Z"<a)&&("0">a||"9"<a)&&(this.gd||this.I+1!==this._index&&(this.Ob!==e?"="!==a&&this.Zq():this.Cm()),this.j=this.Ob,this._index--)};l.prototype.Rf=function(a,b){a=this.I+a;a!==this._index?(this.tm(n(parseInt(this.Ya.substring(a,this._index),b))),this.I=this._index):this.I--;this.j=this.Ob};l.prototype.fz=function(a){if(";"===a)this.Rf(2,10),this.I++;else if("0">a||"9"<a)this.gd?this.j=this.Ob:this.Rf(2,
10),this._index--};l.prototype.dz=function(a){";"===a?(this.Rf(3,16),this.I++):("a">a||"f"<a)&&("A">a||"F"<a)&&("0">a||"9"<a)&&(this.gd?this.j=this.Ob:this.Rf(3,16),this._index--)};l.prototype.Ox=function(){0>this.I?(this.Ya="",this.Dd+=this._index,this._index=0):this.yh&&(this.j===e?(this.I!==this._index&&this.A.zc(this.Ya.substr(this.I)),this.Ya="",this.Dd+=this._index,this._index=0):this.I===this._index?(this.Ya="",this.Dd+=this._index,this._index=0):(this.Ya=this.Ya.substr(this.I),this._index-=
this.I,this.Dd+=this.I),this.I=0)};l.prototype.write=function(a){if(this.xj)this.A.onerror(Error(".write() after done!"));this.Ya+=a;this.Yq()};l.prototype.Yq=function(){for(;this._index<this.Ya.length&&this.yh;){var a=this.Ya.charAt(this._index);if(this.j===e)this.jz(a);else if(this.j===p)this.Vy(a);else if(this.j===u)this.iz(a);else if(this.j===v)this.Fy(a);else if(this.j===x)this.az(a);else if(this.j===t)this.ky(a);else if(this.j===r)this.hz(a);else if(this.j===y)this.xy(a);else if(this.j===A)this.Wy(a);
else if(this.j===z)this.hy(a);else if(this.j===C)this.yy(a);else if(this.j===B)this.Xy(a);else if(this.j===E)this.Zy(a);else if(this.j===F)this.Yy(a);else if(this.j===D)this.Hy(a);else if(this.j===G)this.cz(a);else if(this.j===H)this.gz(a);else if(this.j===I)this.Gy(a);else if(this.j===J)this.bz(a);else if(this.j===K)this.ly(a);else if(this.j===L)this.ny(a);else if(this.j===Q)this.zy(a);else if(this.j===N)this.Ay(a);else if(this.j===M)this.By(a);else if(this.j===P)this.Cy(a);else if(this.j===O)this.Dy(a);
else if(this.j===S)this.Ey(a);else if(this.j===R)this.$y(a);else if(this.j===U)this.iy(a);else if(this.j===T)this.jy(a);else if(this.j===V)this.Py(a);else if(this.j===W)this.Qy(a);else if(this.j===X)this.Ky(a);else if(this.j===Y)this.Ly(a);else if(this.j===Z)this.My(a);else if(this.j===ca)this.Ny(a);else if(this.j===ja)this.Oy(a);else if(this.j===ka)this.oy(a);else if(this.j===la)this.py(a);else if(this.j===da)this.qy(a);else if(this.j===ea)this.ry(a);else if(this.j===fa)this.sy(a);else if(this.j===
ma)this.Ry(a);else if(this.j===na)this.Sy(a);else if(this.j===oa)this.Ty(a);else if(this.j===pa)this.Uy(a);else if(this.j===qa)this.ty(a);else if(this.j===ra)this.uy(a);else if(this.j===sa)this.vy(a);else if(this.j===ta)this.wy(a);else if(this.j===ba)this.Iy(a);else if(this.j===ua)this.Jy(a);else if(this.j===ga)this.ez(a);else if(this.j===ha)this.fz(a);else if(this.j===ia)this.dz(a);else this.A.onerror(Error("unknown _state"),this.j);this._index++}this.Ox()};l.prototype.pause=function(){this.yh=!1};
l.prototype.resume=function(){this.yh=!0;this._index<this.Ya.length&&this.Yq();this.xj&&this.Sq()};l.prototype.end=function(a){if(this.xj)this.A.onerror(Error(".end() after done!"));a&&this.write(a);this.xj=!0;this.yh&&this.Sq()};l.prototype.Sq=function(){this.I<this._index&&this.yj();this.A.Ci()};l.prototype.yj=function(){var a=this.Ya.substr(this.I);this.j===R||this.j===U||this.j===T?this.A.hu(a):this.j===J||this.j===K||this.j===L?this.A.Kg(a):this.j!==ga||this.gd?this.j!==ha||this.gd?this.j!==
ia||this.gd?this.j!==u&&this.j!==y&&this.j!==C&&this.j!==z&&this.j!==A&&this.j!==E&&this.j!==B&&this.j!==F&&this.j!==x&&this.A.zc(a):(this.Rf(3,16),this.I<this._index&&(this.j=this.Ob,this.yj())):(this.Rf(2,10),this.I<this._index&&(this.j=this.Ob,this.yj())):(this.Cm(),this.I<this._index&&(this.j=this.Ob,this.yj()))};l.prototype.reset=function(){l.call(this,{Zb:this.gd,hg:this.qh},this.A)};l.prototype.SB=function(){return this.Dd+this._index};l.prototype.Se=function(){return this.Ya.substring(this.I,
this._index)};l.prototype.fe=function(a){this.A[a](this.Se());this.I=-1};l.prototype.tm=function(a){this.Ob!==e?this.A.eF(a):this.A.zc(a)}},function(k,c,a){var m=a(196);k.f=function(a){if(55296<=a&&57343>=a||1114111<a)return"\ufffd";a in m&&(a=m[a]);var c="";65535<a&&(a-=65536,c+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023);return c+=String.fromCharCode(a)}},function(k){k.f={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,
145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(k){k.f={Aacute:"\u00c1",aacute:"\u00e1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\u00c2",acirc:"\u00e2",acute:"\u00b4",Acy:"\u0410",acy:"\u0430",AElig:"\u00c6",aelig:"\u00e6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\u00c0",agrave:"\u00e0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",
amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\u00c5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",
apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\u00c5",aring:"\u00e5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\u00c3",atilde:"\u00e3",Auml:"\u00c4",auml:"\u00e4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",
Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",
biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",
boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",
boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\u00a6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",
capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\u00c7",ccedil:"\u00e7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\u00b8",Cedilla:"\u00b8",cemptyv:"\u29b2",cent:"\u00a2",centerdot:"\u00b7",CenterDot:"\u00b7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",
chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\u00ae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",
Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\u00a9",COPY:"\u00a9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",
csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\u00a4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",
cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\u00b0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",
dharr:"\u21c2",DiacriticalAcute:"\u00b4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\u00a8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\u00f7",divide:"\u00f7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\u00a8",dot:"\u02d9",
DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\u00a8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",
DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",
DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\u00c9",eacute:"\u00e9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\u00ca",ecirc:"\u00ea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",
Egrave:"\u00c8",egrave:"\u00e8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",
epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\u00d0",eth:"\u00f0",Euml:"\u00cb",euml:"\u00eb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",
exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\u00bd",frac13:"\u2153",
frac14:"\u00bc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\u00be",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",
gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",
grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",
gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\u00bd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",
HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\u00cd",iacute:"\u00ed",ic:"\u2063",Icirc:"\u00ce",icirc:"\u00ee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\u00a1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\u00cc",igrave:"\u00ec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",
ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105","in":"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba","int":"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",
iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\u00bf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\u00cf",iuml:"\u00ef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",
jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",
Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\u00ab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",
lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",
leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",
LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",
lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",
longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",
lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",
macr:"\u00af",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\u00b5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\u00b7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",
mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\u00a0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",
ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",
Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",
nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\u00a0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\u00ac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",
NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",
NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",
NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",
npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",
nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\u00d1",ntilde:"\u00f1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",
nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\u00d3",oacute:"\u00f3",oast:"\u229b",Ocirc:"\u00d4",ocirc:"\u00f4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",
oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\u00d2",ograve:"\u00f2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",
orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\u00aa",ordm:"\u00ba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\u00d8",oslash:"\u00f8",osol:"\u2298",Otilde:"\u00d5",otilde:"\u00f5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\u00d6",ouml:"\u00f6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\u00b6",parallel:"\u2225",
par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\u00b1",
plusmn:"\u00b1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\u00b1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\u00a3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",
prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",
questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\u00bb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",
rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\u00ae",REG:"\u00ae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",
ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",
rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",
rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",
rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\u00a7",
semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\u00ad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",
simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",
sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",
straightphi:"\u03d5",strns:"\u00af",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",
SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\u00b9",sup2:"\u00b2",sup3:"\u00b3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",
supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\u00df",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",
theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\u00de",thorn:"\u00fe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\u00d7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",
tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",
twoheadrightarrow:"\u21a0",Uacute:"\u00da",uacute:"\u00fa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\u00db",ucirc:"\u00fb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\u00d9",ugrave:"\u00f9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",
Umacr:"\u016a",umacr:"\u016b",uml:"\u00a8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",
upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\u00dc",uuml:"\u00fc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",
varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",
vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",
wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",
xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\u00dd",yacute:"\u00fd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\u00a5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\u00ff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",
Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},function(k){k.f={Aacute:"\u00c1",aacute:"\u00e1",Acirc:"\u00c2",acirc:"\u00e2",acute:"\u00b4",AElig:"\u00c6",aelig:"\u00e6",Agrave:"\u00c0",agrave:"\u00e0",amp:"&",AMP:"&",
Aring:"\u00c5",aring:"\u00e5",Atilde:"\u00c3",atilde:"\u00e3",Auml:"\u00c4",auml:"\u00e4",brvbar:"\u00a6",Ccedil:"\u00c7",ccedil:"\u00e7",cedil:"\u00b8",cent:"\u00a2",copy:"\u00a9",COPY:"\u00a9",curren:"\u00a4",deg:"\u00b0",divide:"\u00f7",Eacute:"\u00c9",eacute:"\u00e9",Ecirc:"\u00ca",ecirc:"\u00ea",Egrave:"\u00c8",egrave:"\u00e8",ETH:"\u00d0",eth:"\u00f0",Euml:"\u00cb",euml:"\u00eb",frac12:"\u00bd",frac14:"\u00bc",frac34:"\u00be",gt:">",GT:">",Iacute:"\u00cd",iacute:"\u00ed",Icirc:"\u00ce",icirc:"\u00ee",
iexcl:"\u00a1",Igrave:"\u00cc",igrave:"\u00ec",iquest:"\u00bf",Iuml:"\u00cf",iuml:"\u00ef",laquo:"\u00ab",lt:"<",LT:"<",macr:"\u00af",micro:"\u00b5",middot:"\u00b7",nbsp:"\u00a0",not:"\u00ac",Ntilde:"\u00d1",ntilde:"\u00f1",Oacute:"\u00d3",oacute:"\u00f3",Ocirc:"\u00d4",ocirc:"\u00f4",Ograve:"\u00d2",ograve:"\u00f2",ordf:"\u00aa",ordm:"\u00ba",Oslash:"\u00d8",oslash:"\u00f8",Otilde:"\u00d5",otilde:"\u00f5",Ouml:"\u00d6",ouml:"\u00f6",para:"\u00b6",plusmn:"\u00b1",pound:"\u00a3",quot:'"',QUOT:'"',
raquo:"\u00bb",reg:"\u00ae",REG:"\u00ae",sect:"\u00a7",shy:"\u00ad",sup1:"\u00b9",sup2:"\u00b2",sup3:"\u00b3",szlig:"\u00df",THORN:"\u00de",thorn:"\u00fe",times:"\u00d7",Uacute:"\u00da",uacute:"\u00fa",Ucirc:"\u00db",ucirc:"\u00fb",Ugrave:"\u00d9",ugrave:"\u00f9",uml:"\u00a8",Uuml:"\u00dc",uuml:"\u00fc",Yacute:"\u00dd",yacute:"\u00fd",yen:"\u00a5",yuml:"\u00ff"}},function(k){k.f={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(k){k.f="function"===typeof Object.create?function(c,a){c.tH=a;c.prototype=
Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}})}:function(c,a){function m(){}c.tH=a;m.prototype=a.prototype;c.prototype=new m;c.prototype.constructor=c}},function(k){function c(){this.N=this.N||{};this.vh=this.vh||void 0}function a(a){return"function"===typeof a}function m(a){return"object"===typeof a&&null!==a}k.f=c;c.Hf=c;c.prototype.N=void 0;c.prototype.vh=void 0;c.ZA=10;c.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");
this.vh=a;return this};c.prototype.emit=function(c){var f,h,n,g;this.N||(this.N={});if("error"===c&&(!this.N.error||m(this.N.error)&&!this.N.error.length)){f=arguments[1];if(f instanceof Error)throw f;h=Error('Uncaught, unspecified "error" event. ('+f+")");h.context=f;throw h;}h=this.N[c];if(void 0===h)return!1;if(a(h))switch(arguments.length){case 1:h.call(this);break;case 2:h.call(this,arguments[1]);break;case 3:h.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,
1),h.apply(this,f)}else if(m(h))for(f=Array.prototype.slice.call(arguments,1),g=h.slice(),h=g.length,n=0;n<h;n++)g[n].apply(this,f);return!0};c.prototype.addListener=function(h,f){if(!a(f))throw TypeError("listener must be a function");this.N||(this.N={});this.N.newListener&&this.emit("newListener",h,a(f.listener)?f.listener:f);this.N[h]?m(this.N[h])?this.N[h].push(f):this.N[h]=[this.N[h],f]:this.N[h]=f;m(this.N[h])&&!this.N[h].oI&&(f=void 0===this.vh?c.ZA:this.vh)&&0<f&&this.N[h].length>f&&(this.N[h].oI=
!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.N[h].length),"function"===typeof console.trace&&console.trace());return this};c.prototype.on=c.prototype.addListener;c.prototype.once=function(c,f){function h(){this.removeListener(c,h);n||(n=!0,f.apply(this,arguments))}if(!a(f))throw TypeError("listener must be a function");var n=!1;h.listener=f;this.on(c,h);return this};c.prototype.removeListener=
function(c,f){var h,n,g;if(!a(f))throw TypeError("listener must be a function");if(!this.N||!this.N[c])return this;h=this.N[c];g=h.length;n=-1;if(h===f||a(h.listener)&&h.listener===f)delete this.N[c],this.N.removeListener&&this.emit("removeListener",c,f);else if(m(h)){for(;0<g--;)if(h[g]===f||h[g].listener&&h[g].listener===f){n=g;break}if(0>n)return this;1===h.length?(h.length=0,delete this.N[c]):h.splice(n,1);this.N.removeListener&&this.emit("removeListener",c,f)}return this};c.prototype.removeAllListeners=
function(c){var f;if(!this.N)return this;if(!this.N.removeListener)return 0===arguments.length?this.N={}:this.N[c]&&delete this.N[c],this;if(0===arguments.length){for(f in this.N)"removeListener"!==f&&this.removeAllListeners(f);this.removeAllListeners("removeListener");this.N={};return this}f=this.N[c];if(a(f))this.removeListener(c,f);else if(f)for(;f.length;)this.removeListener(c,f[f.length-1]);delete this.N[c];return this};c.prototype.listeners=function(c){return this.N&&this.N[c]?a(this.N[c])?
[this.N[c]]:this.N[c].slice():[]};c.prototype.nk=function(c){if(this.N){c=this.N[c];if(a(c))return 1;if(c)return c.length}return 0};c.nk=function(a,c){return a.nk(c)}},function(k,c,a){function m(a,d,c){"object"===typeof a?(c=d,d=a,a=null):"function"===typeof d&&(c=d,d=g);this.om=a;this.ra=d||g;this.sm=c;this.Jd=[];this.Rq=!1;this.ec=[];this.Sf=this.Sf||null}var h=a(203),f=/\s+/g,l=a(204),n=a(205),g={QE:!1,rI:!1};m.prototype.Fk=function(a){this.Sf=a};m.prototype.onreset=function(){m.call(this,this.om,
this.ra,this.sm)};m.prototype.Ci=function(){this.Rq||(this.Rq=!0,this.Sf=null,this.Wq(null))};m.prototype.Wq=m.prototype.onerror=function(a){if("function"===typeof this.om)this.om(a,this.Jd);else if(a)throw a;};m.prototype.Uc=function(){var a=this.ec.pop();this.sm&&this.sm(a)};m.prototype.kh=function(a){var b=this.ec[this.ec.length-1],c=b?b.children:this.Jd,g=c[c.length-1];a.next=null;this.ra.rI&&(a.Xo=this.Sf.Xo);this.ra.BU&&(a.__proto__="tag"===a.type?n:l);g?(a.prev=g,g.next=a):a.prev=null;c.push(a);
a.parent=b||null};m.prototype.Dk=function(a,d){a={type:"script"===a?h.Eq:"style"===a?h.Style:h.Kq,name:a,Fa:d,children:[]};this.kh(a);this.ec.push(a)};m.prototype.zc=function(a){var b=this.ra.QE||this.ra.nO,c;!this.ec.length&&this.Jd.length&&(c=this.Jd[this.Jd.length-1]).type===h.Text?c.data=b?(c.data+a).replace(f," "):c.data+a:this.ec.length&&(c=this.ec[this.ec.length-1])&&(c=c.children[c.children.length-1])&&c.type===h.Text?c.data=b?(c.data+a).replace(f," "):c.data+a:(b&&(a=a.replace(f," ")),this.kh({data:a,
type:h.Text}))};m.prototype.Kg=function(a){var b=this.ec[this.ec.length-1];b&&b.type===h.Comment?b.data+=a:(a={data:a,type:h.Comment},this.kh(a),this.ec.push(a))};m.prototype.ju=function(){var a={children:[{data:"",type:h.Text}],type:h.hj};this.kh(a);this.ec.push(a)};m.prototype.ku=m.prototype.iu=function(){this.ec.pop()};m.prototype.Lg=function(a,d){this.kh({name:a,data:d,type:h.Hl})};k.f=m},function(k){k.f={Text:"text",Hl:"directive",Comment:"comment",Eq:"script",Style:"style",Kq:"tag",hj:"cdata",
aJ:"doctype",Cg:function(c){return"tag"===c.type||"script"===c.type||"style"===c.type}}},function(k){var c=k.f={get firstChild(){var a=this.children;return a&&a[0]||null},get lastChild(){var a=this.children;return a&&a[a.length-1]||null},get nodeType(){return m[this.type]||m.element}},a={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},m={element:1,text:3,uL:4,comment:8};Object.keys(a).forEach(function(h){var f=a[h];Object.defineProperty(c,
h,{get:function(){return this[f]||null},set:function(a){return this[f]=a}})})},function(k,c,a){c=a(204);var m=k.f=Object.create(c),h={tagName:"name"};Object.keys(h).forEach(function(a){var c=h[a];Object.defineProperty(m,a,{get:function(){return this[c]||null},set:function(a){return this[c]=a}})})},function(k,c,a){function m(a){return"rss"===a||"feed"===a||"rdf:RDF"===a}function h(a,d){this.init(a,d)}function f(a,d,c){return g.getText(g.getElementsByTagName(a,d,c,1)).trim()}function l(a,d,c,g,h){(c=
f(c,g,h))&&(a[d]=c)}c=a(192);var n=c.cw,g=c.dw;a(200)(h,n);h.prototype.init=n;h.prototype.Ci=function(){var a={},d=g.getElementsByTagName(m,this.Jd,!0,1)[0],c,h;if(d)if("feed"===d.name){h=d.children;a.type="atom";l(a,"id","id",h);l(a,"title","title",h);(c=g.getElementsByTagName("link",h,!0,1)[0])&&(c=c.Fa)&&(c=c.href)&&(a.link=c);l(a,"description","subtitle",h);if(c=f("updated",h))a.kI=new Date(c);l(a,"author","email",h,!0);a.items=g.getElementsByTagName("entry",h,!0).map(function(a){var b={},d;a=
a.children;l(b,"id","id",a);l(b,"title","title",a);(d=g.getElementsByTagName("link",a,!0,1)[0])&&(d=d.Fa)&&(d=d.href)&&(b.link=d);if(d=f("summary",a)||f("content",a))b.description=d;if(d=f("updated",a))b.HF=new Date(d);return b})}else{h=g.getElementsByTagName("channel",d.children,!0,1)[0].children;a.type=d.name.substr(0,3);a.id="";l(a,"title","title",h);l(a,"link","link",h);l(a,"description","description",h);if(c=f("lastBuildDate",h))a.kI=new Date(c);l(a,"author","managingEditor",h,!0);a.items=g.getElementsByTagName("item",
d.children,!0).map(function(a){var b={};a=a.children;l(b,"id","guid",a);l(b,"title","title",a);l(b,"link","link",a);l(b,"description","description",a);if(a=f("pubDate",a))b.HF=new Date(a);return b})}this.Jd=a;n.prototype.Wq.call(this,d?null:Error("couldn't find root of feed"))};k.f=h},function(k,c,a){function m(a){f.call(this,new h(this),a)}function h(a){this.scope=a}k.f=m;var f=a(208);a(200)(m,f);m.prototype.readable=!0;var l=a(192).Il;Object.keys(l).forEach(function(a){if(0===l[a])h.prototype["on"+
a]=function(){this.scope.emit(a)};else if(1===l[a])h.prototype["on"+a]=function(c){this.scope.emit(a,c)};else if(2===l[a])h.prototype["on"+a]=function(c,b){this.scope.emit(a,c,b)};else throw Error("wrong number of arguments!");})},function(k,c,a){function m(a,b){var d=this.Sf=new h(a,b),c=this.Vx=new l;f.call(this,{jn:!1});this.once("finish",function(){d.end(c.end())})}k.f=m;var h=a(193),f=a(209).lm||a(230).lm,l=a(223).Iq,n=a(214).Le;a(200)(m,f);f.prototype.Fj=function(a,b,d){a instanceof n&&(a=this.Vx.write(a));
this.Sf.write(a);d()}},function(k,c,a){function m(){h.call(this)}k.f=m;var h=a(201).Hf;a(200)(m,h);m.ix=a(210);m.lm=a(226);m.fw=a(227);m.Ex=a(228);m.$w=a(229);m.Hq=m;m.prototype.pipe=function(a,c){function f(b){a.writable&&!1===a.write(b)&&m.pause&&m.pause()}function g(){m.readable&&m.resume&&m.resume()}function b(){k||(k=!0,a.end())}function d(){k||(k=!0,"function"===typeof a.destroy&&a.destroy())}function e(a){l();if(0===h.nk(this,"error"))throw a;}function l(){m.removeListener("data",f);a.removeListener("drain",
g);m.removeListener("end",b);m.removeListener("close",d);m.removeListener("error",e);a.removeListener("error",e);m.removeListener("end",l);m.removeListener("close",l);a.removeListener("close",l)}var m=this;m.on("data",f);a.on("drain",g);a.rK||c&&!1===c.end||(m.on("end",b),m.on("close",d));var k=!1;m.on("error",e);a.on("error",e);m.on("end",l);m.on("close",l);a.on("close",l);a.emit("pipe",m);return a}},function(k,c,a){var m;a:{try{m=a(209);break a}catch(h){}m=void 0}c=k.f=a(211);c.Hq=m||c;c.ix=c;c.lm=
a(221);c.fw=a(220);c.Ex=a(224);c.$w=a(225)},function(k,c,a){(function(c){function h(b,d){H=H||a(220);b=b||{};this.Ia=!!b.Ia;d instanceof H&&(this.Ia=this.Ia||!!b.sR);d=b.highWaterMark;var c=this.Ia?16:16384;this.highWaterMark=d||0===d?d:c;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.Ub=null;this.Bc=0;this.cb=null;this.Vc=this.Uh=this.ended=!1;this.Zd=!0;this.zu=this.Wj=this.lc=!1;this.Qh=b.Qh||"utf8";this.We=0;this.Fo=!1;this.encoding=this.kd=null;b.encoding&&(G||(G=a(223).Iq),
this.kd=new G(b.encoding),this.encoding=b.encoding)}function f(b){H=H||a(220);if(!(this instanceof f))return new f(b);this.Ea=new h(b,this);this.readable=!0;b&&"function"===typeof b.read&&(this.Vf=b.read);B.call(this)}function l(a,b,c,e,f){var h;h=c;var l=null;C.isBuffer(h)||"string"===typeof h||null===h||void 0===h||b.Ia||(l=new TypeError("Invalid non-string/buffer chunk"));(h=l)?a.emit("error",h):null===c?(b.Vc=!1,b.ended||(b.kd&&(c=b.kd.end())&&c.length&&(b.buffer.push(c),b.length+=b.Ia?1:c.length),
b.ended=!0,g(a))):b.Ia||c&&0<c.length?b.ended&&!f?(c=Error("stream.push() after EOF"),a.emit("error",c)):b.Uh&&f?(c=Error("stream.unshift() after end event"),a.emit("error",c)):(!b.kd||f||e||(c=b.kd.write(c)),f||(b.Vc=!1),b.cb&&0===b.length&&!b.Zd?(a.emit("data",c),a.read(0)):(b.length+=b.Ia?1:c.length,f?b.buffer.unshift(c):b.buffer.push(c),b.lc&&g(a)),b.Fo||(b.Fo=!0,A(d,a,b))):f||(b.Vc=!1);return!b.ended&&(b.lc||b.length<b.highWaterMark||0===b.length)}function n(a,b){if(0===b.length&&b.ended)return 0;
if(b.Ia)return 0===a?0:1;if(null===a||isNaN(a))return b.cb&&b.buffer.length?b.buffer[0].length:b.length;if(0>=a)return 0;if(a>b.highWaterMark){var d=a;8388608<=d?d=8388608:(d--,d|=d>>>1,d|=d>>>2,d|=d>>>4,d|=d>>>8,d|=d>>>16,d++);b.highWaterMark=d}if(a>b.length){if(b.ended)return b.length;b.lc=!0;return 0}return a}function g(a){var d=a.Ea;d.lc=!1;d.Wj||(D("emitReadable",d.cb),d.Wj=!0,d.Zd?A(b,a):b(a))}function b(a){D("emit readable");a.emit("readable");r(a)}function d(a,b){for(var d=b.length;!b.Vc&&
!b.cb&&!b.ended&&b.length<b.highWaterMark&&(D("maybeReadMore read 0"),a.read(0),d!==b.length);)d=b.length;b.Fo=!1}function e(a){return function(){var b=a.Ea;D("pipeOnDrain",b.We);b.We&&b.We--;0===b.We&&a.listeners("data").length&&(b.cb=!0,r(a))}}function m(a){D("readable nexttick read 0");a.read(0)}function u(a,b){b.Vc||(D("resume read 0"),a.read(0));b.Fu=!1;a.emit("resume");r(a);b.cb&&!b.Vc&&a.read(0)}function r(a){var b=a.Ea;D("flow",b.cb);if(b.cb){do var d=a.read();while(null!==d&&b.cb)}}function v(a,
b){var d=b.buffer,c=b.length,e=!!b.kd;b=!!b.Ia;if(0===d.length)return null;if(0===c)c=null;else if(b)c=d.shift();else if(!a||a>=c)c=e?d.join(""):1===d.length?d[0]:C.concat(d,c),d.length=0;else if(a<d[0].length)b=d[0],c=b.slice(0,a),d[0]=b.slice(a);else if(a===d[0].length)c=d.shift();else for(var c=e?"":new C(a),g=0,f=0,h=d.length;f<h&&g<a;f++){b=d[0];var l=Math.min(a-g,b.length);e?c+=b.slice(0,l):b.copy(c,g,0,l);l<b.length?d[0]=b.slice(l):d.shift();g+=l}return c}function x(a){var b=a.Ea;if(0<b.length)throw Error("endReadable called on non-empty stream");
b.Uh||(b.ended=!0,A(t,b,a))}function t(a,b){a.Uh||0!==a.length||(a.Uh=!0,b.readable=!1,b.emit("end"))}function y(a){for(var b=["error","close","destroy","pause","resume"],d=0,c=b.length;d<c;d++)a(b[d],d)}k.f=f;var A=a(212),z=a(213),C=a(214).Le;f.PJ=h;a(201);var B;try{B=a(209)}catch(I){}finally{B||(B=a(201).Hf)}var C=a(214).Le,E=a(218);E.Md=a(200);var F=a(219),D;D=F&&F.XA?F.XA("stream"):function(){};var G;E.Md(f,B);var H;f.prototype.push=function(a,b){var d=this.Ea;d.Ia||"string"!==typeof a||(b=b||
d.Qh,b!==d.encoding&&(a=new C(a,b),b=""));return l(this,d,a,b,!1)};f.prototype.unshift=function(a){return l(this,this.Ea,a,"",!0)};f.prototype.read=function(a){D("read",a);var b=this.Ea,d=a;if("number"!==typeof a||0<a)b.Wj=!1;if(0===a&&b.lc&&(b.length>=b.highWaterMark||b.ended))return D("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?x(this):g(this),null;a=n(a,b);if(0===a&&b.ended)return 0===b.length&&x(this),null;var c=b.lc;D("need readable",c);if(0===b.length||b.length-a<b.highWaterMark)c=
!0,D("length less than watermark",c);if(b.ended||b.Vc)c=!1,D("reading or ended",c);c&&(D("do read"),b.Vc=!0,b.Zd=!0,0===b.length&&(b.lc=!0),this.Vf(b.highWaterMark),b.Zd=!1);c&&!b.Vc&&(a=n(d,b));c=0<a?v(a,b):null;null===c&&(b.lc=!0,a=0);b.length-=a;0!==b.length||b.ended||(b.lc=!0);d!==a&&b.ended&&0===b.length&&x(this);null!==c&&this.emit("data",c);return c};f.prototype.Vf=function(){this.emit("error",Error("not implemented"))};f.prototype.pipe=function(a,b){function d(a){D("onunpipe");a===p&&f()}
function g(){D("onend");a.end()}function f(){D("cleanup");a.removeListener("close",n);a.removeListener("finish",m);a.removeListener("drain",u);a.removeListener("error",l);a.removeListener("unpipe",d);p.removeListener("end",g);p.removeListener("end",f);p.removeListener("data",h);t=!0;!y.We||a.Id&&!a.Id.vk||u()}function h(b){D("ondata");!1===a.write(b)&&(1!==y.Bc||y.Ub[0]!==a||1!==p.nk("data")||t||(D("false write response, pause",p.Ea.We),p.Ea.We++),p.pause())}function l(b){D("onerror",b);k();a.removeListener("error",
l);0===a.listeners("error").length&&a.emit("error",b)}function n(){a.removeListener("finish",m);k()}function m(){D("onfinish");a.removeListener("close",n);k()}function k(){D("unpipe");p.eI(a)}var p=this,y=this.Ea;switch(y.Bc){case 0:y.Ub=a;break;case 1:y.Ub=[y.Ub,a];break;default:y.Ub.push(a)}y.Bc+=1;D("pipe count=%d opts=%j",y.Bc,b);b=b&&!1===b.end||a===c.GS||a===c.FS?f:g;if(y.Uh)A(b);else p.once("end",b);a.on("unpipe",d);var u=e(p);a.on("drain",u);var t=!1;p.on("data",h);if(a.N&&a.N.error)z(a.N.error)?
a.N.error.unshift(l):a.N.error=[l,a.N.error];else a.on("error",l);a.once("close",n);a.once("finish",m);a.emit("pipe",p);y.cb||(D("pipe resume"),p.resume());return a};f.prototype.eI=function(a){var b=this.Ea;if(0!==b.Bc)if(1===b.Bc)a&&a!==b.Ub||(a||(a=b.Ub),b.Ub=null,b.Bc=0,b.cb=!1,a&&a.emit("unpipe",this));else if(a){a:{for(var d=b.Ub,c=0,e=d.length;c<e;c++)if(d[c]===a){d=c;break a}d=-1}-1!==d&&(b.Ub.splice(d,1),--b.Bc,1===b.Bc&&(b.Ub=b.Ub[0]),a.emit("unpipe",this))}else for(a=b.Ub,c=b.Bc,b.Ub=null,
b.Bc=0,b.cb=!1,d=0;d<c;d++)a[d].emit("unpipe",this)};f.prototype.on=function(a,b){b=B.prototype.on.call(this,a,b);"data"===a&&!1!==this.Ea.cb&&this.resume();"readable"===a&&this.readable&&(a=this.Ea,a.zu||(a.zu=!0,a.Wj=!1,a.lc=!0,a.Vc?a.length&&g(this):A(m,this)));return b};f.prototype.addListener=f.prototype.on;f.prototype.resume=function(){var a=this.Ea;a.cb||(D("resume"),a.cb=!0,a.Fu||(a.Fu=!0,A(u,this,a)));return this};f.prototype.pause=function(){D("call pause flowing=%j",this.Ea.cb);!1!==this.Ea.cb&&
(D("pause"),this.Ea.cb=!1,this.emit("pause"));return this};f.prototype.wrap=function(a){var b=this.Ea,d=!1,c=this;a.on("end",function(){D("wrapped end");if(b.kd&&!b.ended){var a=b.kd.end();a&&a.length&&c.push(a)}c.push(null)});a.on("data",function(e){D("wrapped data");b.kd&&(e=b.kd.write(e));b.Ia&&(null===e||void 0===e)||!(b.Ia||e&&e.length)||c.push(e)||(d=!0,a.pause())});for(var e in a)void 0===this[e]&&"function"===typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));
y(function(b){a.on(b,c.emit.bind(c,b))});c.Vf=function(b){D("wrapped _read",b);d&&(d=!1,a.resume())};return c};f.pK=v}).call(c,a(130))},function(k,c,a){(function(a){function c(c){for(var f=Array(arguments.length-1),h=0;h<f.length;)f[h++]=arguments[h];a.Ut(function(){c.apply(null,f)})}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?k.f=c:k.f=a.Ut}).call(c,a(130))},function(k){k.f=Array.isArray||function(c){return"[object Array]"==Object.prototype.toString.call(c)}},
function(k,c,a){(function(m){function h(){try{var a=new Uint8Array(1);a.__proto__={__proto__:Uint8Array.prototype,kN:function(){return 42}};return"function"===typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(H){return!1}}function f(a,b){if((l.Nb?2147483647:1073741823)<b)throw new RangeError("Invalid typed array length");l.Nb?(a=new Uint8Array(b),a.__proto__=l.prototype):(null===a&&(a=new l(b)),a.length=b);return a}function l(a,d,c){if(!(l.Nb||this instanceof l))return new l(a,d,c);if("number"===
typeof a){if("string"===typeof d)throw Error("If encoding is specified then the first argument must be a string");return b(this,a)}return n(this,a,d,c)}function n(a,b,c,g){if("number"===typeof b)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&b instanceof ArrayBuffer){b.byteLength;if(0>c||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(g||0))throw new RangeError("'length' is out of bounds");b=void 0===c&&void 0===
g?new Uint8Array(b):void 0===g?new Uint8Array(b,c):new Uint8Array(b,c,g);l.Nb?(a=b,a.__proto__=l.prototype):a=d(a,b);b=a}else if("string"===typeof b){g=a;a=c;if("string"!==typeof a||""===a)a="utf8";if(!l.Xn(a))throw new TypeError('"encoding" must be a valid string encoding');c=u(b,a)|0;g=f(g,c);b=g.write(b,a);b!==c&&(g=g.slice(0,b));b=g}else b=e(a,b);return b}function g(a){if("number"!==typeof a)throw new TypeError('"size" argument must be a number');if(0>a)throw new RangeError('"size" argument must not be negative');
}function b(a,b){g(b);a=f(a,0>b?0:k(b)|0);if(!l.Nb)for(var d=0;d<b;++d)a[d]=0;return a}function d(a,b){var d=0>b.length?0:k(b.length)|0;a=f(a,d);for(var c=0;c<d;c+=1)a[c]=b[c]&255;return a}function e(a,b){if(l.isBuffer(b)){var c=k(b.length)|0;a=f(a,c);if(0===a.length)return a;b.copy(a,0,0,c);return a}if(b){if("undefined"!==typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return(c="number"!==typeof b.length)||(c=b.length,c=c!==c),c?f(a,0):d(a,b);if("Buffer"===b.type&&E(b.data))return d(a,
b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function k(a){if(a>=(l.Nb?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(l.Nb?2147483647:1073741823).toString(16)+" bytes");return a|0}function u(a,b){if(l.isBuffer(a))return a.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;
"string"!==typeof a&&(a=""+a);var d=a.length;if(0===d)return 0;for(var c=!1;;)switch(b){case "ascii":case "latin1":case "binary":return d;case "utf8":case "utf-8":case void 0:return A(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*d;case "hex":return d>>>1;case "base64":return B.iv(y(a)).length;default:if(c)return A(a).length;b=(""+b).toLowerCase();c=!0}}function r(a,b,d){var c=!1;if(void 0===b||0>b)b=0;if(b>this.length)return"";if(void 0===d||d>this.length)d=this.length;
if(0>=d)return"";d>>>=0;b>>>=0;if(d<=b)return"";for(a||(a="utf8");;)switch(a){case "hex":a=b;b=d;d=this.length;if(!a||0>a)a=0;if(!b||0>b||b>d)b=d;c="";for(d=a;d<b;++d)a=c,c=this[d],c=16>c?"0"+c.toString(16):c.toString(16),c=a+c;return c;case "utf8":case "utf-8":return t(this,b,d);case "ascii":a="";for(d=Math.min(this.length,d);b<d;++b)a+=String.fromCharCode(this[b]&127);return a;case "latin1":case "binary":a="";for(d=Math.min(this.length,d);b<d;++b)a+=String.fromCharCode(this[b]);return a;case "base64":return 0===
b&&d===this.length?B.As(this):B.As(this.slice(b,d));case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=this.slice(b,d);d="";for(a=0;a<b.length;a+=2)d+=String.fromCharCode(b[a]+256*b[a+1]);return d;default:if(c)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();c=!0}}function v(a,b,d,c,e){if(0===a.length)return-1;"string"===typeof d?(c=d,d=0):2147483647<d?d=2147483647:-2147483648>d&&(d=-2147483648);d=+d;isNaN(d)&&(d=e?0:a.length-1);0>d&&(d=a.length+d);if(d>=a.length){if(e)return-1;
d=a.length-1}else if(0>d)if(e)d=0;else return-1;"string"===typeof b&&(b=l.from(b,c));if(l.isBuffer(b))return 0===b.length?-1:x(a,b,d,c,e);if("number"===typeof b)return b&=255,l.Nb&&"function"===typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,d):Uint8Array.prototype.lastIndexOf.call(a,b,d):x(a,[b],d,c,e);throw new TypeError("val must be string, number or Buffer");}function x(a,b,d,c,e){function g(a,b){return 1===f?a[b]:a.QF(b*f)}var f=1,h=a.length,l=b.length;if(void 0!==
c&&(c=String(c).toLowerCase(),"ucs2"===c||"ucs-2"===c||"utf16le"===c||"utf-16le"===c)){if(2>a.length||2>b.length)return-1;f=2;h/=2;l/=2;d/=2}if(e)for(c=-1;d<h;d++)if(g(a,d)===g(b,-1===c?0:d-c)){if(-1===c&&(c=d),d-c+1===l)return c*f}else-1!==c&&(d-=d-c),c=-1;else for(d+l>h&&(d=h-l);0<=d;d--){h=!0;for(c=0;c<l;c++)if(g(a,d+c)!==g(b,c)){h=!1;break}if(h)return d}return-1}function t(a,b,d){d=Math.min(a.length,d);for(var c=[];b<d;){var e=a[b],g=null,f=239<e?4:223<e?3:191<e?2:1;if(b+f<=d){var h,l,n;switch(f){case 1:128>
e&&(g=e);break;case 2:h=a[b+1];128===(h&192)&&(e=(e&31)<<6|h&63,127<e&&(g=e));break;case 3:h=a[b+1];l=a[b+2];128===(h&192)&&128===(l&192)&&(e=(e&15)<<12|(h&63)<<6|l&63,2047<e&&(55296>e||57343<e)&&(g=e));break;case 4:h=a[b+1],l=a[b+2],n=a[b+3],128===(h&192)&&128===(l&192)&&128===(n&192)&&(e=(e&15)<<18|(h&63)<<12|(l&63)<<6|n&63,65535<e&&1114112>e&&(g=e))}}null===g?(g=65533,f=1):65535<g&&(g-=65536,c.push(g>>>10&1023|55296),g=56320|g&1023);c.push(g);b+=f}a=c.length;if(a<=F)c=String.fromCharCode.apply(String,
c);else{d="";for(b=0;b<a;)d+=String.fromCharCode.apply(String,c.slice(b,b+=F));c=d}return c}function y(a){a=(a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")).replace(D,"");if(2>a.length)return"";for(;0!==a.length%4;)a+="=";return a}function A(a,b){b=b||Infinity;for(var d,c=a.length,e=null,g=[],f=0;f<c;++f){d=a.charCodeAt(f);if(55295<d&&57344>d){if(!e){if(56319<d){-1<(b-=3)&&g.push(239,191,189);continue}else if(f+1===c){-1<(b-=3)&&g.push(239,191,189);continue}e=d;continue}if(56320>d){-1<(b-=3)&&g.push(239,
191,189);e=d;continue}d=(e-55296<<10|d-56320)+65536}else e&&-1<(b-=3)&&g.push(239,191,189);e=null;if(128>d){if(0>--b)break;g.push(d)}else if(2048>d){if(0>(b-=2))break;g.push(d>>6|192,d&63|128)}else if(65536>d){if(0>(b-=3))break;g.push(d>>12|224,d>>6&63|128,d&63|128)}else if(1114112>d){if(0>(b-=4))break;g.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw Error("Invalid code point");}return g}function z(a){for(var b=[],d=0;d<a.length;++d)b.push(a.charCodeAt(d)&255);return b}function C(a,
b,d,c){for(var e=0;e<c&&!(e+d>=b.length||e>=a.length);++e)b[e+d]=a[e];return e}var B=a(215);a(216);var E=a(217);c.Le=l;c.$J=function(a){+a!=a&&(a=0);return l.qr(+a)};c.vJ=50;l.Nb=void 0!==m.Nb?m.Nb:h();c.dP=l.Nb?2147483647:1073741823;l.Og=8192;l.nK=function(a){a.__proto__=l.prototype;return a};l.from=function(a,b,d){return n(null,a,b,d)};l.Nb&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.$u&&l[Symbol.$u]===l&&Object.defineProperty(l,Symbol.$u,
{value:null,configurable:!0}));l.qr=function(a){g(a);return f(null,a)};l.Cz=function(a){return b(null,a)};l.GK=function(a){return b(null,a)};l.isBuffer=function(a){return!(null==a||!a.Wx)};l.compare=function(a,b){if(!l.isBuffer(a)||!l.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var d=a.length,c=b.length,e=0,g=Math.min(d,c);e<g;++e)if(a[e]!==b[e]){d=a[e];c=b[e];break}return d<c?-1:c<d?1:0};l.Xn=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};l.concat=function(a,b){if(!E(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return l.qr(0);var d;if(void 0===b)for(d=b=0;d<a.length;++d)b+=a[d].length;b=l.Cz(b);var c=0;for(d=0;d<a.length;++d){var e=a[d];if(!l.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(b,c);c+=e.length}return b};l.byteLength=u;l.prototype.Wx=!0;l.prototype.toString=function(){var a=this.length|0;return 0===a?"":0===arguments.length?
t(this,0,a):r.apply(this,arguments)};l.prototype.compare=function(a,b,d,c,e){if(!l.isBuffer(a))throw new TypeError("Argument must be a Buffer");void 0===b&&(b=0);void 0===d&&(d=a?a.length:0);void 0===c&&(c=0);void 0===e&&(e=this.length);if(0>b||d>a.length||0>c||e>this.length)throw new RangeError("out of range index");if(c>=e&&b>=d)return 0;if(c>=e)return-1;if(b>=d)return 1;b>>>=0;d>>>=0;c>>>=0;e>>>=0;if(this===a)return 0;var g=e-c,f=d-b,h=Math.min(g,f);c=this.slice(c,e);a=a.slice(b,d);for(b=0;b<h;++b)if(c[b]!==
a[b]){g=c[b];f=a[b];break}return g<f?-1:f<g?1:0};l.prototype.includes=function(a,b,d){return-1!==this.indexOf(a,b,d)};l.prototype.indexOf=function(a,b,d){return v(this,a,b,d,!0)};l.prototype.lastIndexOf=function(a,b,d){return v(this,a,b,d,!1)};l.prototype.write=function(a,b,d,c){if(void 0===b)c="utf8",d=this.length,b=0;else if(void 0===d&&"string"===typeof b)c=b,d=this.length,b=0;else if(isFinite(b))b|=0,isFinite(d)?(d|=0,void 0===c&&(c="utf8")):(c=d,d=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
var e=this.length-b;if(void 0===d||d>e)d=e;if(0<a.length&&(0>d||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||(c="utf8");for(e=!1;;)switch(c){case "hex":b=Number(b)||0;c=this.length-b;d?(d=Number(d),d>c&&(d=c)):d=c;c=a.length;if(0!==c%2)throw new TypeError("Invalid hex string");d>c/2&&(d=c/2);for(c=0;c<d;++c){e=parseInt(a.substr(2*c,2),16);if(isNaN(e))break;this[b+c]=e}return c;case "utf8":case "utf-8":return C(A(a,this.length-b),this,b,d);case "ascii":return C(z(a),
this,b,d);case "latin1":case "binary":return C(z(a),this,b,d);case "base64":return C(B.iv(y(a)),this,b,d);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":c=this.length-b;for(var g,f=[],h=0;h<a.length&&!(0>(c-=2));++h)g=a.charCodeAt(h),e=g>>8,g%=256,f.push(g),f.push(e);return C(f,this,b,d);default:if(e)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase();e=!0}};l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.mK||this,0)}};var F=4096;l.prototype.slice=
function(a,b){var d=this.length;a=~~a;b=void 0===b?d:~~b;0>a?(a+=d,0>a&&(a=0)):a>d&&(a=d);0>b?(b+=d,0>b&&(b=0)):b>d&&(b=d);b<a&&(b=a);if(l.Nb)b=this.subarray(a,b),b.__proto__=l.prototype;else{d=b-a;b=new l(d,void 0);for(var c=0;c<d;++c)b[c]=this[c+a]}return b};l.prototype.QF=function(a){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+2>this.length)throw new RangeError("Trying to access beyond buffer length");return this[a]<<8|this[a+1]};l.prototype.copy=function(a,b,d,c){d||(d=0);
c||0===c||(c=this.length);b>=a.length&&(b=a.length);b||(b=0);0<c&&c<d&&(c=d);if(c===d||0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>d||d>=this.length)throw new RangeError("sourceStart out of bounds");if(0>c)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length);a.length-b<c-d&&(c=a.length-b+d);var e=c-d;if(this===a&&d<b&&b<c)for(c=e-1;0<=c;--c)a[c+b]=this[c+d];else if(1E3>e||!l.Nb)for(c=0;c<e;++c)a[c+b]=this[c+d];else Uint8Array.prototype.set.call(a,
this.subarray(d,d+e),b);return e};l.prototype.fill=function(a,b,d,c){if("string"===typeof a){"string"===typeof b?(c=b,b=0,d=this.length):"string"===typeof d&&(c=d,d=this.length);if(1===a.length){var e=a.charCodeAt(0);256>e&&(a=e)}if(void 0!==c&&"string"!==typeof c)throw new TypeError("encoding must be a string");if("string"===typeof c&&!l.Xn(c))throw new TypeError("Unknown encoding: "+c);}else"number"===typeof a&&(a&=255);if(0>b||this.length<b||this.length<d)throw new RangeError("Out of range index");
if(d<=b)return this;b>>>=0;d=void 0===d?this.length:d>>>0;a||(a=0);if("number"===typeof a)for(c=b;c<d;++c)this[c]=a;else for(a=l.isBuffer(a)?a:A((new l(a,c)).toString()),e=a.length,c=0;c<d-b;++c)this[c+b]=a[c%e];return this};var D=/[^+\/0-9A-Za-z-_]/g}).call(c,function(){return this}())},function(k,c){function a(a){var c=a.length;if(0<c%4)throw Error("Invalid string. Length must be a multiple of 4");return"="===a[c-2]?2:"="===a[c-1]?1:0}function m(a,c,b){for(var d=[],e=c;e<b;e+=3)c=(a[e]<<16)+(a[e+
1]<<8)+a[e+2],d.push(h[c>>18&63]+h[c>>12&63]+h[c>>6&63]+h[c&63]);return d.join("")}c.byteLength=function(c){return 3*c.length/4-a(c)};c.iv=function(c){var g,b,d,e,h;g=c.length;e=a(c);h=new l(3*g/4-e);b=0<e?g-4:g;var n=0;for(g=0;g<b;g+=4)d=f[c.charCodeAt(g)]<<18|f[c.charCodeAt(g+1)]<<12|f[c.charCodeAt(g+2)]<<6|f[c.charCodeAt(g+3)],h[n++]=d>>16&255,h[n++]=d>>8&255,h[n++]=d&255;2===e?(d=f[c.charCodeAt(g)]<<2|f[c.charCodeAt(g+1)]>>4,h[n++]=d&255):1===e&&(d=f[c.charCodeAt(g)]<<10|f[c.charCodeAt(g+1)]<<
4|f[c.charCodeAt(g+2)]>>2,h[n++]=d>>8&255,h[n++]=d&255);return h};c.As=function(a){for(var c=a.length,b=c%3,d="",e=[],f=0,l=c-b;f<l;f+=16383)e.push(m(a,f,f+16383>l?l:f+16383));1===b?(a=a[c-1],d+=h[a>>2],d+=h[a<<4&63],d+="=="):2===b&&(a=(a[c-2]<<8)+a[c-1],d+=h[a>>10],d+=h[a>>4&63],d+=h[a<<2&63],d+="=");e.push(d);return e.join("")};var h=[],f=[],l="undefined"!==typeof Uint8Array?Uint8Array:Array;for(k=0;64>k;++k)h[k]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[k],f["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(k)]=
k;f[45]=62;f[95]=63},function(k,c){c.read=function(a,c,h,f,l){var n;n=8*l-f-1;var g=(1<<n)-1,b=g>>1,d=-7;l=h?l-1:0;var e=h?-1:1,m=a[c+l];l+=e;h=m&(1<<-d)-1;m>>=-d;for(d+=n;0<d;h=256*h+a[c+l],l+=e,d-=8);n=h&(1<<-d)-1;h>>=-d;for(d+=f;0<d;n=256*n+a[c+l],l+=e,d-=8);if(0===h)h=1-b;else{if(h===g)return n?NaN:Infinity*(m?-1:1);n+=Math.pow(2,f);h-=b}return(m?-1:1)*n*Math.pow(2,h-f)};c.write=function(a,c,h,f,l,n){var g,b=8*n-l-1,d=(1<<b)-1,e=d>>1,m=23===l?Math.pow(2,-24)-Math.pow(2,-77):0;n=f?0:n-1;var k=
f?1:-1,r=0>c||0===c&&0>1/c?1:0;c=Math.abs(c);isNaN(c)||Infinity===c?(c=isNaN(c)?1:0,f=d):(f=Math.floor(Math.log(c)/Math.LN2),1>c*(g=Math.pow(2,-f))&&(f--,g*=2),c=1<=f+e?c+m/g:c+m*Math.pow(2,1-e),2<=c*g&&(f++,g/=2),f+e>=d?(c=0,f=d):1<=f+e?(c=(c*g-1)*Math.pow(2,l),f+=e):(c=c*Math.pow(2,e-1)*Math.pow(2,l),f=0));for(;8<=l;a[h+n]=c&255,n+=k,c/=256,l-=8);f=f<<l|c;for(b+=l;0<b;a[h+n]=f&255,n+=k,f/=256,b-=8);a[h+n-k]|=128*r}},function(k){var c={}.toString;k.f=Array.isArray||function(a){return"[object Array]"==
c.call(a)}},function(k,c,a){(function(a){c.isArray=function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)};c.isBoolean=function(a){return"boolean"===typeof a};c.isNull=function(a){return null===a};c.GO=function(a){return null==a};c.isNumber=function(a){return"number"===typeof a};c.isString=function(a){return"string"===typeof a};c.KO=function(a){return"symbol"===typeof a};c.isUndefined=function(a){return void 0===a};c.isRegExp=function(a){return"[object RegExp]"===
Object.prototype.toString.call(a)};c.isObject=function(a){return"object"===typeof a&&null!==a};c.isDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)};c.isError=function(a){return"[object Error]"===Object.prototype.toString.call(a)||a instanceof Error};c.isFunction=function(a){return"function"===typeof a};c.IO=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};c.isBuffer=a.isBuffer}).call(c,
a(214).Le)},function(){},function(k,c,a){function m(a){if(!(this instanceof m))return new m(a);n.call(this,a);g.call(this,a);a&&!1===a.readable&&(this.readable=!1);a&&!1===a.writable&&(this.writable=!1);this.Sm=!0;a&&!1===a.Sm&&(this.Sm=!1);this.once("end",h)}function h(){this.Sm||this.Id.ended||l(f,this)}function f(a){a.end()}c=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b};k.f=m;var l=a(212);k=a(218);k.Md=a(200);var n=a(211),g=a(221);k.Md(m,n);a=c(g.prototype);for(k=0;k<a.length;k++)c=
a[k],m.prototype[c]||(m.prototype[c]=g.prototype[c])},function(k,c,a){function m(){}function h(a,b,d){this.chunk=a;this.encoding=b;this.callback=d;this.next=null}function f(c,e){x=x||a(220);c=c||{};this.Ia=!!c.Ia;e instanceof x&&(this.Ia=this.Ia||!!c.DU);var f=c.highWaterMark,h=this.Ia?16:16384;this.highWaterMark=f||0===f?f:h;this.highWaterMark=~~this.highWaterMark;this.Vh=this.ended=this.tn=this.vk=!1;this.jn=!1!==c.jn;this.Qh=c.Qh||"utf8";this.length=0;this.$g=!1;this.$e=0;this.Zd=!0;this.Nj=!1;
this.onwrite=function(a){var c=e.Id,f=c.Zd,h=c.Ke;c.$g=!1;c.Ke=null;c.length-=c.tp;c.tp=0;a?(--c.Mg,f?p(h,a):h(a),e.Id.rB=!0,e.emit("error",a)):((a=d(c))||c.$e||c.Nj||!c.Xe||b(e,c),f?p(g,e,c,a,h):g(e,c,a,h))};this.Ke=null;this.tp=0;this.Eg=this.Xe=null;this.Mg=0;this.rB=this.Mk=!1}function l(b){x=x||a(220);if(!(this instanceof l||this instanceof x))return new l(b);this.Id=new f(b,this);this.writable=!0;b&&("function"===typeof b.write&&(this.Fj=b.write),"function"===typeof b.vI&&(this.Km=b.vI));v.call(this)}
function n(a,b,d,c,e,g,f){b.tp=c;b.Ke=f;b.$g=!0;b.Zd=!0;d?a.Km(e,b.onwrite):a.Fj(e,g,b.onwrite);b.Zd=!1}function g(a,b,d,c){!d&&0===b.length&&b.vk&&(b.vk=!1,a.emit("drain"));b.Mg--;c();e(a,b)}function b(a,b){b.Nj=!0;var d=b.Xe;if(a.Km&&d&&d.next){for(var c=[],e=[];d;)e.push(d.callback),c.push(d),d=d.next;b.Mg++;b.Eg=null;n(a,b,!0,b.length,c,"",function(a){for(var d=0;d<e.length;d++)b.Mg--,e[d](a)})}else{for(;d&&(c=d.chunk,n(a,b,!1,b.Ia?1:c.length,c,d.encoding,d.callback),d=d.next,!b.$g););null===
d&&(b.Eg=null)}b.Xe=d;b.Nj=!1}function d(a){return a.tn&&0===a.length&&null===a.Xe&&!a.Vh&&!a.$g}function e(a,b){d(b)&&(0===b.Mg?(b.Mk||(b.Mk=!0,a.emit("prefinish")),b.Vh=!0,a.emit("finish")):b.Mk||(b.Mk=!0,a.emit("prefinish")))}k.f=l;var p=a(212),u=a(214).Le;l.hK=f;k=a(218);k.Md=a(200);var r={fB:a(222)},v;try{v=a(209)}catch(t){}finally{v||(v=a(201).Hf)}u=a(214).Le;k.Md(l,v);var x;f.prototype.TB=function(){for(var a=this.Xe,b=[];a;)b.push(a),a=a.next;return b};(function(){try{Object.defineProperty(f.prototype,
"buffer",{get:r.fB(function(){return this.TB()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}})();l.prototype.pipe=function(){this.emit("error",Error("Cannot pipe. Not readable."))};l.prototype.write=function(a,b,d){var c=this.Id,e=!1;"function"===typeof b&&(d=b,b=null);u.isBuffer(a)?b="buffer":b||(b=c.Qh);"function"!==typeof d&&(d=m);if(c.ended)c=d,a=Error("write after end"),this.emit("error",a),p(c,a);else{var g=d,f=!0;u.isBuffer(a)||"string"===typeof a||
null===a||void 0===a||c.Ia||(f=new TypeError("Invalid non-string/buffer chunk"),this.emit("error",f),p(g,f),f=!1);f&&(c.Mg++,e=b,c.Ia||!1===c.jn||"string"!==typeof a||(a=new u(a,e)),u.isBuffer(a)&&(e="buffer"),g=c.Ia?1:a.length,c.length+=g,b=c.length<c.highWaterMark,b||(c.vk=!0),c.$g||c.$e?(g=c.Eg,c.Eg=new h(a,e,d),g?g.next=c.Eg:c.Xe=c.Eg):n(this,c,!1,g,a,e,d),e=b)}return e};l.prototype.dI=function(){var a=this.Id;a.$e&&(a.$e--,a.$g||a.$e||a.Vh||a.Nj||!a.Xe||b(this,a))};l.prototype.Fj=function(a,
b,d){d(Error("not implemented"))};l.prototype.Km=null;l.prototype.end=function(a,b,d){var c=this.Id;"function"===typeof a?(d=a,b=a=null):"function"===typeof b&&(d=b,b=null);null!==a&&void 0!==a&&this.write(a,b);c.$e&&(c.$e=1,this.dI());if(!c.tn&&!c.Vh){a=d;c.tn=!0;e(this,c);if(a)if(c.Vh)p(a);else this.once("finish",a);c.ended=!0}}},function(k,c){(function(a){function c(c){try{if(!a.localStorage)return!1}catch(f){return!1}c=a.localStorage[c];return null==c?!1:"true"===String(c).toLowerCase()}k.f=function(a,
f){if(c("noDeprecation"))return a;var h=!1;return function(){if(!h){if(c("throwDeprecation"))throw Error(f);c("traceDeprecation")?console.trace(f):console.warn(f);h=!0}return a.apply(this,arguments)}}}).call(c,function(){return this}())},function(k,c,a){function m(a){return a.toString(this.encoding)}function h(a){this.vb=(this.ab=a.length%2)?2:0}function f(a){this.vb=(this.ab=a.length%3)?3:0}var l=a(214).Le,n=l.Xn||function(a){switch(a&&a.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;
default:return!1}};k=c.Iq=function(a){this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,"");if(a&&!n(a))throw Error("Unknown encoding: "+a);switch(this.encoding){case "utf8":this.jl=3;break;case "ucs2":case "utf16le":this.jl=2;this.mn=h;break;case "base64":this.jl=3;this.mn=f;break;default:this.write=m;return}this.Ze=new l(6);this.vb=this.ab=0};k.prototype.write=function(a){for(var b="";this.vb;){b=a.length>=this.vb-this.ab?this.vb-this.ab:a.length;a.copy(this.Ze,this.ab,0,b);this.ab+=b;if(this.ab<
this.vb)return"";a=a.slice(b,a.length);var b=this.Ze.slice(0,this.vb).toString(this.encoding),d=b.charCodeAt(b.length-1);if(55296<=d&&56319>=d)this.vb+=this.jl,b="";else{this.ab=this.vb=0;if(0===a.length)return b;break}}this.mn(a);var c=a.length;this.vb&&(a.copy(this.Ze,0,a.length-this.ab,c),c-=this.ab);b+=a.toString(this.encoding,0,c);c=b.length-1;d=b.charCodeAt(c);return 55296<=d&&56319>=d?(d=this.jl,this.vb+=d,this.ab+=d,this.Ze.copy(this.Ze,d,0,d),a.copy(this.Ze,0,0,d),b.substring(0,c)):b};k.prototype.mn=
function(a){for(var b=3<=a.length?3:a.length;0<b;b--){var d=a[a.length-b];if(1==b&&6==d>>5){this.vb=2;break}if(2>=b&&14==d>>4){this.vb=3;break}if(3>=b&&30==d>>3){this.vb=4;break}}this.ab=b};k.prototype.end=function(a){var b="";a&&a.length&&(b=this.write(a));this.ab&&(a=this.encoding,b+=this.Ze.slice(0,this.ab).toString(a));return b}},function(k,c,a){function m(a){this.Az=function(c,b){var d=a.Bh;d.$i=!1;var e=d.Ke;e?(d.yl=null,d.Ke=null,null!==b&&void 0!==b&&a.push(b),e&&e(c),c=a.Ea,c.Vc=!1,(c.lc||
c.length<c.highWaterMark)&&a.Vf(c.highWaterMark),c=void 0):c=a.emit("error",Error("no writecb in Transform class"));return c};this.$i=this.no=!1;this.yl=this.Ke=null}function h(a){if(!(this instanceof h))return new h(a);l.call(this,a);this.Bh=new m(this);var c=this;this.Ea.lc=!0;this.Ea.Zd=!1;a&&("function"===typeof a.transform&&(this.Jm=a.transform),"function"===typeof a.flush&&(this.Uq=a.flush));this.once("prefinish",function(){"function"===typeof this.Uq?this.Uq(function(a){f(c,a)}):f(c)})}function f(a,
c){if(c)a.emit("error",c);else{c=a.Bh;if(a.Id.length)throw Error("calling transform done when ws.length != 0");if(c.$i)throw Error("calling transform done when still transforming");a.push(null)}}k.f=h;var l=a(220);k=a(218);k.Md=a(200);k.Md(h,l);h.prototype.push=function(a,c){this.Bh.no=!1;return l.prototype.push.call(this,a,c)};h.prototype.Jm=function(){throw Error("not implemented");};h.prototype.Fj=function(a,c,b){var d=this.Bh;d.Ke=b;d.yl=a;d.uI=c;d.$i||(a=this.Ea,(d.no||a.lc||a.length<a.highWaterMark)&&
this.Vf(a.highWaterMark))};h.prototype.Vf=function(){var a=this.Bh;null!==a.yl&&a.Ke&&!a.$i?(a.$i=!0,this.Jm(a.yl,a.uI,a.Az)):a.no=!0}},function(k,c,a){function m(a){if(!(this instanceof m))return new m(a);h.call(this,a)}k.f=m;var h=a(224);k=a(218);k.Md=a(200);k.Md(m,h);m.prototype.Jm=function(a,c,h){h(null,a)}},function(k,c,a){k.f=a(221)},function(k,c,a){k.f=a(220)},function(k,c,a){k.f=a(224)},function(k,c,a){k.f=a(225)},function(){},function(k,c,a){function m(a){this.A=a||{}}k.f=m;var h=a(192).Il;
Object.keys(h).forEach(function(a){if(0===h[a])a="on"+a,m.prototype[a]=function(){if(this.A[a])this.A[a]()};else if(1===h[a])a="on"+a,m.prototype[a]=function(c){if(this.A[a])this.A[a](c)};else if(2===h[a])a="on"+a,m.prototype[a]=function(c,f){if(this.A[a])this.A[a](c,f)};else throw Error("wrong number of arguments");})},function(k,c,a){var m=k.f;[a(233),a(239),a(240),a(241),a(242),a(243)].forEach(function(a){Object.keys(a).forEach(function(c){m[c]=a[c].bind(m)})})},function(k,c,a){function m(a){return Array.isArray(a)?
a.map(m).join(""):l(a)||a.type===h.hj?m(a.children):a.type===h.Text?a.data:""}var h=a(203),f=a(234),l=h.Cg;k.f={DN:function(a,c){return a.children?a.children.map(function(a){return f(a,c)}).join(""):""},GN:f,getText:m}},function(k,c,a){var m=a(235),h=a(236),f={__proto__:null,JK:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,PO:!0,loop:!0,multiple:!0,muted:!0,open:!0,tR:!0,required:!0,lG:!0,BG:!0,FG:!0,selected:!0,bU:!0},l={__proto__:null,style:!0,
script:!0,KU:!0,iframe:!0,dQ:!0,eQ:!0,VQ:!0,noscript:!0},n={__proto__:null,area:!0,base:!0,$z:!0,br:!0,col:!0,nA:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,wD:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},g=k.f=function(a,d){Array.isArray(a)||a.BL||(a=[a]);d=d||{};for(var b="",c=0;c<a.length;c++){var k=a[c];if("root"===k.type)b+=g(k.children,d);else if(m.Cg(k)){var r=d;"svg"===k.name&&(r={hg:r.hg,Zb:!0});var v="<"+k.name,x;x=k.Fa;var t=r;if(x){var y="",A,z=void 0;for(z in x)A=x[z],
y&&(y+=" "),y=!A&&f[z]?y+z:y+(z+'="'+(t.hg?h.ms(A):A)+'"');x=y}else x=void 0;x&&(v+=" "+x);if(!r.Zb||k.children&&0!==k.children.length){if(v+=">",k.children&&(v+=g(k.children,r)),!n[k.name]||r.Zb)v+="</"+k.name+">"}else v+="/>";b+=v}else k.type===m.Hl?b+="<"+k.data+">":k.type===m.Comment?b+="\x3c!--"+k.data+"--\x3e":k.type===m.hj?b+="<![CDATA["+k.children[0].data+"]]\x3e":(r=k.data||"",!d.hg||k.parent&&k.parent.name in l||(r=h.ms(r)),b+=r)}return b}},function(k){k.f={Text:"text",Hl:"directive",Comment:"comment",
Eq:"script",Style:"style",Kq:"tag",hj:"cdata",Cg:function(c){return"tag"===c.type||"script"===c.type||"style"===c.type}}},function(k,c,a){var m=a(237),h=a(238);c.decode=function(a,c){return(!c||0>=c?h.Pf:h.fh)(a)};c.eM=function(a,c){return(!c||0>=c?h.Pf:h.Wp)(a)};c.encode=function(a,c){return(!c||0>=c?m.Pf:m.fh)(a)};c.ms=m.Pf;c.MM=c.NM=c.LM=m.fh;c.fM=c.gM=h.Pf;c.$L=c.bM=c.ZL=h.fh;c.aM=c.cM=c.dM=h.Wp;c.escape=m.escape},function(k,c,a){function m(a){return Object.keys(a).sort().reduce(function(b,d){b[a[d]]=
"&"+d+";";return b},{})}function h(a){var b=[],d=[];Object.keys(a).forEach(function(a){1===a.length?b.push("\\"+a):d.push(a)});d.unshift("["+b.join("")+"]");return new RegExp(d.join("|"),"g")}function f(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"}function l(a){return"&#x"+(1024*(a.charCodeAt(0)-55296)+a.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function n(a,c){function e(b){return a[b]}return function(a){return a.replace(c,e).replace(d,l).replace(b,f)}}k=m(a(199));
var g=h(k);c.Pf=n(k,g);a=m(a(197));g=h(a);c.fh=n(a,g);var b=/[^\0-\x7F]/g,d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,e=h(k);c.escape=function(a){return a.replace(e,f).replace(d,l).replace(b,f)}},function(k,c,a){function m(a){var b=Object.keys(a).join("|"),d=f(a),c=new RegExp("&(?:"+(b+"|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(a){return String(a).replace(c,d)}}function h(a,b){return a<b?1:-1}function f(a){return function(b){return"#"===b.charAt(1)?"X"===b.charAt(2)||"x"===b.charAt(2)?g(parseInt(b.substr(3),
16)):g(parseInt(b.substr(2),10)):a[b.slice(1,-1)]}}var l=a(197),n=a(198);c=a(199);var g=a(195);a=m(c);c=m(l);var b=function(){function a(a){";"!==a.substr(-1)&&(a+=";");return x(a)}for(var b=Object.keys(n).sort(h),c=Object.keys(l).sort(h),g=0,k=0;g<c.length;g++)b[k]===c[g]?(c[g]+=";?",k++):c[g]+=";";var m=new RegExp("&(?:"+c.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),x=f(l);return function(b){return String(b).replace(m,a)}}();k.f={Pf:a,fh:b,Wp:c}},function(k,c){var a=c.wN=function(a){return a.children},
m=c.getParent=function(a){return a.parent};c.MN=function(c){var f=m(c);return f?a(f):[c]};c.uN=function(a,c){return a.Fa&&a.Fa[c]};c.bO=function(a,c){return!!a.Fa&&hasOwnProperty.call(a.Fa,c)};c.getName=function(a){return a.name}},function(k,c){c.ER=function(a){a.prev&&(a.prev.next=a.next);a.next&&(a.next.prev=a.prev);if(a.parent){var c=a.parent.children;c.splice(c.lastIndexOf(a),1)}};c.JR=function(a,c){var h=c.prev=a.prev;h&&(h.next=c);if(h=c.next=a.next)h.prev=c;if(h=c.parent=a.parent)h=h.children,
h[h.lastIndexOf(a)]=c};c.appendChild=function(a,c){c.parent=a;1!==a.children.push(c)&&(a=a.children[a.children.length-2],a.next=c,c.prev=a,c.next=null)};c.append=function(a,c){var h=a.parent,f=a.next;c.next=f;c.prev=a;a.next=c;c.parent=h;f?(f.prev=c,h&&(a=h.children,a.splice(a.lastIndexOf(f),0,c))):h&&h.children.push(c)};c.prepend=function(a,c){var h=a.parent;if(h){var f=h.children;f.splice(f.lastIndexOf(a),0,c)}a.prev&&(a.prev.next=c);c.parent=h;c.prev=a.prev;c.next=a;a.prev=c}},function(k,c,a){function m(a,
b,d,c){for(var e=[],g,f=0,h=b.length;f<h&&!(a(b[f])&&(e.push(b[f]),0>=--c))&&!(g=b[f].children,d&&g&&0<g.length&&(g=m(a,g,d,c),e=e.concat(g),c-=g.length,0>=c));f++);return e}function h(a,b){for(var d=null,c=0,g=b.length;c<g&&!d;c++)n(b[c])&&(a(b[c])?d=b[c]:0<b[c].children.length&&(d=h(a,b[c].children)));return d}function f(a,b){for(var d=0,c=b.length;d<c;d++)if(n(b[d])&&(a(b[d])||0<b[d].children.length&&f(a,b[d].children)))return!0;return!1}function l(a,b){for(var d=[],c=0,g=b.length;c<g;c++)n(b[c])&&
(a(b[c])&&d.push(b[c]),0<b[c].children.length&&(d=d.concat(l(a,b[c].children))));return d}var n=a(203).Cg;k.f={filter:function(a,b,d,c){Array.isArray(b)||(b=[b]);"number"===typeof c&&isFinite(c)||(c=Infinity);return m(a,b,!1!==d,c)},find:m,$M:function(a,b){for(var d=0,c=b.length;d<c;d++)if(a(b[d]))return b[d];return null},EB:h,SM:f,ZM:l}},function(k,c,a){function m(a,c){return"function"===typeof c?function(b){return b.Fa&&c(b.Fa[a])}:function(b){return b.Fa&&b.Fa[a]===c}}function h(a,c){return function(b){return a(b)||
c(b)}}k=a(203);var f=c.Cg=k.Cg;c.dT=function(a,c){for(var b in a)if(a.hasOwnProperty(b))if("tag_name"===b){if(!f(c)||!a.ev(c.name))return!1}else if("tag_type"===b){if(!a.fv(c.type))return!1}else if("tag_contains"===b){if(f(c)||!a.xH(c.data))return!1}else if(!c.Fa||!a[b](c.Fa[b]))return!1;return!0};var l={ev:function(a){return"function"===typeof a?function(c){return f(c)&&a(c.name)}:"*"===a?f:function(c){return f(c)&&c.name===a}},fv:function(a){return"function"===typeof a?function(c){return a(c.type)}:
function(c){return c.type===a}},xH:function(a){return"function"===typeof a?function(c){return!f(c)&&a(c.data)}:function(c){return!f(c)&&c.data===a}}};c.BN=function(a,c,b,d){var e=Object.keys(a).map(function(b){var d=a[b];return b in l?l[b](d):m(b,d)});return 0===e.length?[]:this.filter(e.reduce(h),c,b,d)};c.getElementById=function(a,c,b){Array.isArray(c)||(c=[c]);return this.EB(m("id",a),c,!1!==b)};c.getElementsByTagName=function(a,c,b,d){return this.filter(l.ev(a),c,b,d)};c.CN=function(a,c,b,d){return this.filter(l.fv(a),
c,b,d)}},function(k,c){c.FR=function(a){for(var c=a.length,f,l,k;-1<--c;){f=l=a[c];a[c]=null;for(k=!0;l;){if(-1<a.indexOf(l)){k=!1;a.splice(c,1);break}l=l.parent}k&&(a[c]=f)}return a};var a=c.compareDocumentPosition=function(a,c){var f=[],h=[],k,g,b;if(a===c)return 0;for(k=a;k;)f.unshift(k),k=k.parent;for(k=c;k;)h.unshift(k),k=k.parent;for(b=0;f[b]===h[b];)b++;if(0===b)return 1;k=f[b-1];g=k.children;f=f[b];h=h[b];return g.indexOf(f)>g.indexOf(h)?k===c?20:4:k===a?10:2};c.iU=function(c){var h=c.length,
f;for(c=c.slice();-1<--h;)f=c[h],f=c.indexOf(f),-1<f&&f<h&&c.splice(h,1);c.sort(function(c,f){c=a(c,f);return c&2?-1:c&4?1:0});return c}},function(k,c,a){function m(a){this.A=a||{};this.events=[]}k.f=m;var h=a(192).Il;Object.keys(h).forEach(function(a){if(0===h[a])a="on"+a,m.prototype[a]=function(){this.events.push([a]);if(this.A[a])this.A[a]()};else if(1===h[a])a="on"+a,m.prototype[a]=function(c){this.events.push([a,c]);if(this.A[a])this.A[a](c)};else if(2===h[a])a="on"+a,m.prototype[a]=function(c,
f){this.events.push([a,c,f]);if(this.A[a])this.A[a](c,f)};else throw Error("wrong number of arguments");});m.prototype.onreset=function(){this.events=[];if(this.A.onreset)this.A.onreset()};m.prototype.iG=function(){if(this.A.onreset)this.A.onreset();for(var a=0,c=this.events.length;a<c;a++)if(this.A[this.events[a][0]]){var h=this.events[a].length;if(1===h)this.A[this.events[a][0]]();else if(2===h)this.A[this.events[a][0]](this.events[a][1]);else this.A[this.events[a][0]](this.events[a][1],this.events[a][2])}}},
function(k){k.f=function(){for(var a={},k=0;k<arguments.length;k++){var h=arguments[k],f;for(f in h)c.call(h,f)&&(a[f]=h[f])}return a};var c=Object.prototype.hasOwnProperty},function(k){k.f=function(c){return c.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}},function(k,c,a){var m=a(19),h=a(7),f=a(248),l=a(3),n=a(4),g=a(14),b=a(9);c.DP=function(a){return m.createElement(structure_together.qj,a)};c.J=function(a,c,k){k=k?"object"===typeof k?k.nodetype:k:c.nodetype;a=l.STApp.the.jk(a).O.Y.dC(k,c);if(!a)return h.dwarn(k+
" has no inlining component class"),f.l({},"error...");var d;try{d=m.createElement(a,c)}catch(r){console.error("Error while rendering inlining of "+k+" node."),d=f.l({},"error...")}g.stwidgets.showMutidForms.getValue()&&c[b.SystPropNames.ya]&&(a=f.l({className:"mutidbox",key:"mutidbox",style:{color:"red"}},c[b.SystPropNames.ya]),d=f.l({key:c.nodeid+"inlining"},a,f.l({key:"separator",className:"st-mutid-contenteditable-sep"},""),d));return d};c.TP=function(a,b,c,g,h,l){n.Ui(b)||(l&&h.push(f.l({key:"prefix"},
l)),h.push(f.l({key:c+"."+a},b.value)))}},function(k,c,a){function m(a,c){return function(b,d){var e=a(b);d&&f.sf(e,d);return c(e,b)}}function h(a,c){c&&a&&(a.className&&c.className&&(a.className+=" "+c.className,delete c.className),f.sf(a,c))}k=a(19);var f=a(4),l=a(249);c.OF=k.DOM.a;c.rR=k.DOM.b;c.Wa=k.DOM.div;c.mG=k.DOM.h1;c.RR=k.DOM.h2;c.SR=k.DOM.h3;c.TR=k.DOM.h4;c.l=k.DOM.span;c.Hu=k.DOM.i;c.UR=k.DOM.img;c.Xk=k.DOM.sup;c.rG=k.DOM.sub;c.Rk=k.DOM.br;c.DR=k.DOM.em;c.Gu=k.DOM.hr;c.Lu=k.DOM.ul;c.Iu=
k.DOM.li;c.ga=k.DOM.td;c.Xb=k.DOM.tr;c.xd=k.DOM.table;c.yd=k.DOM.tbody;c.sG=k.DOM.textarea;c.Mo=k.DOM.input;c.VR=k.DOM.label;c.pG=k.DOM.option;c.qG=k.DOM.select;c.Ud=k.DOM.button;c.Ib=m(function(a,c){return c?f.sf(c,{style:{zH:"red"},key:a}):{style:{zH:"red"},key:a}},c.l);c.ib=m(function(a){return{className:l.Ja.Ps,key:a}},c.l);c.Ar=function(a,g,b,d){void 0===d&&(d=c.l);a={key:g||a,dangerouslySetInnerHTML:{__html:a}};b&&h(a,b);return d(a)};c.PF=h},function(k,c){c.Pe="structure-together-docview-id";
c.hh="???";c.lq=!0;c.hx=["full","foundChangedOnly","hangingSubtree"];c.bJ={dO:"structure-together-before-docview",zM:"structure-together-docview-id",lN:"structure-together-after-docview"};c.Ja={tw:"FlatPropEditView",bx:"PropLabel",oq:"NodeStubOption",nq:"NodeStubCancelOption",mq:"New_ToplevelNode_Button",Ps:"hardcoded_text",xk:"snode-focused",Yt:"snode-selected",Bq:"STNodeView-inner-container",vM:"discrete_note_ref",pS:"simple-inline-ref",Gn:"force_shown"};c.kJ={all:"all",hQ:"none",LR:"replace_br_with_linebreaks"};
c.STPLUGIN_IDS={OnRefInTextHover:"OnRefInTextHover",DragulaDnD:"DragulaDnD",ContextMenu:"ContextMenu",QTips:"QTips",MarkNodeOnHover:"MarkNodeOnHover",MousetrapKeyBindings:"MousetrapKeyBindings"};c.DEFAULT_PLUGINS=new Set;c.DEFAULT_PLUGINS.add(c.STPLUGIN_IDS.OnRefInTextHover);c.DEFAULT_PLUGINS.add(c.STPLUGIN_IDS.DragulaDnD);c.DEFAULT_PLUGINS.add(c.STPLUGIN_IDS.ContextMenu);c.DEFAULT_PLUGINS.add(c.STPLUGIN_IDS.QTips);c.DEFAULT_PLUGINS.add(c.STPLUGIN_IDS.MarkNodeOnHover);c.DEFAULT_PLUGINS.add(c.STPLUGIN_IDS.MousetrapKeyBindings)},
function(k,c,a){var m=a(9),h=a(7);c.Jo=function(){window.structure_together.debug.Po=0;window.structure_together.debug.Xt=0;window.structure_together.debug.lu=0;window.structure_together.debug.Ot=0;window.structure_together.debug.Mr=0;window.structure_together.debug.Ws=0;window.structure_together.debug.lv=0};c.SC=function(){window.structure_together.debug.Po++};c.QC=function(){window.structure_together.debug.Xt++};c.RC=function(){window.structure_together.debug.lu++};c.PC=function(){window.structure_together.debug.Ot++};
c.NC=function(){window.structure_together.debug.Mr++};c.OC=function(){window.structure_together.debug.Ws++};c.TC=function(){window.structure_together.debug.lv++};c.dH=function(){if(window.structure_together.logging.logTypeActive(m.LogTypes.xv)){var a=window.structure_together.debug.Po,c=window.structure_together.debug.Xt,k=window.structure_together.debug.lu,g=window.structure_together.debug.Mr,b=window.structure_together.debug.Ot,d=window.structure_together.debug.Ws,e=c+k+g+b+d;e>a&&h.dwarn("total_render_count > scu_count, which might mean many new react components were mounted, instead of existing components modified.");
console.log("    SCU true count: "+a+"\nTotal render count: "+e+"    \n    Node render count: "+c+"\n    Panel render count: "+k+"\n    Ch render count: "+g+"\n    Nch render count: "+b+"\n    Inlining render count (wrong for first render): "+d+"\nUncached node inlining vm count: "+window.structure_together.debug.lv)}}},function(k,c,a){function m(a){return"object"===typeof a&&g.fa(a,"ifhas")}function h(a){a=a.split(d.tb.Cx);for(var b=1;b<a.length-1;b+=2)a[b]=Number(a[b]);return a}function f(a){var b=
[];a.forEach(function(a){"string"===typeof a?0<a.length&&b.push({self:a}):b.push(a)});return b}var l=a(7),n=a(248),g=a(4),b=a(247),d=a(6),e=a(9),p=a(3),u=a(11),r=a(188),v=new Map,x=!0,t=new Set;c.hD=function(a,d,c,k,B){function y(a,b){var d;d=a.rdom[2]instanceof Array?A(a.rdom[2]):C(a.rdom[2]);var c;!a.rdom[1].key&&b?(c.key=b,g.sf(c,a.rdom[1])):c=a.rdom[1];switch(a.rdom[0]){case "span":return n.l(c,d);case "div":return n.Wa(c,d);case "sup":return n.Xk(c,d);case "sub":return n.rG(c,d);case "td":return n.ga(c,
d);case "tr":return n.Xb(c,d);case "table":return n.xd(c,d);case "tbody":return n.yd(c,d);default:return n.Ib("unhandled case in inliningFromTemplate")}}function A(a){var b=[];a.forEach(function(a,d){(a=C(a,"elem"+d))&&b.push(a)});return b}function z(a,b){J=J||H.G(k);l.nd("Probably should cache these calls to insertRefsIntoHTMLString");var d=r.Zs(a,I,H,k,!1);return d.has_ref?n.Ar(d.html_with_resolved_refs,b):b?n.l({key:b},a):n.l({key:a},a)}function C(a,e){if("string"===typeof a)return z(a,e);if("number"===
typeof a){if(a<=d.length-1){var f=void 0;!d[a].key&&e?(f.key=e,g.sf(f,d[a])):f=d[a];return b.J(B,f)}return null}if("object"===typeof a&&g.fa(a,"rdom"))return y(a,e);if(a instanceof Array)return a=A(a),n.l({key:"rendered_template"+(e?e:"")},a);if(m(a))return l.dassert(m(a)),a.ifhas<d.length?C(a.template,e):null;if("object"===typeof a&&g.fa(a,"self"))return J=J||H.G(k),l.nd("Probably should cache these calls to insertRefsIntoHTMLString"),f=r.Zs(a.self,I,H,k,!1),f.has_ref?r.Sg(f.html_with_resolved_refs,
c,e):r.cG(c,a.self,e);if("object"===typeof a&&g.fa(a,"ref"))return(f=H.Ma.uf(k,a.ref))?(a=u.pF(f,1),e=r.Sg(a,f.c,e)):e=z(a.ref,e),e;throw Error();}var H=p.STApp.the.Be,I=H.Ma.Fg,J,K=v.get(a);if(!K)try{K=JSON.parse(a),v.set(a,K)}catch(M){console.error("Error parsing json display template: ",a);if(x&&0<=a.indexOf("@@")&&!t.has(c))try{var L=h(a),Q=JSON.stringify(f(L)),N=confirm(e.SystPropNames.Oc+" of node "+c+" appears to be an old-style "+("display template string:\n"+a+"\nDo you want to convert it to the following?\n")+
Q);N?(p.STApp.the.Z.G(c).So(e.SystPropNames.Oc,Q),t.add(c)):(N=confirm("Click ok to not ask to convert again for this session"))&&(x=!1)}catch(P){}return null}return C(K)}},function(k,c,a){var m=a(7),h=a(4);c.nG=function(a){if(h.F(a))return 0;if("string"===typeof a)return a.length;if(h.R(a.value)){if("string"===typeof a.value)return a.value.length;if("number"===typeof a.value)return m.dwarn("\nI didn't think this should be happening.\n"),a.value.toString().length}m.dlog(typeof a,a);m.weakassert(!1,
"Unhandled: ",a);return 0};c.DO=function(a){if(!a.ch)return!1;for(var c=0;c<a.ch.length;c++)if(a.ch[c]&&a.ch[c].ch)return!1;return!0}},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}();k=a(18);var h=a(248),f=
a(17),l=a(9);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){return h.mG({key:this.props.nodeid+".inlining"},f.va(this.props._title,this.props.nodeid,l.SystPropNames.title,this.Gm))};return c}(k.L);c.Dx=a},function(k,c,a){var m=a(7),h=a(9),f=a(4),l=h.SystPropNames.Qa,n=h.SystPropNames.Lc;k=function(){function a(a,d,c){this.root=d;this.appdata=c;m.assert_nt(a,this.appdata,this.root);this.ae=this.root.get("_unnamed_nodestubs");this.Rd=this.root.get("_named_nodestubs");
this.Ve=this.root.get(n);this.Qa=this.root.get(l);this.re=this.root.get("_expanded");this.ae||(this.ae=this.appdata.getModel().createMap(),this.root.set("_unnamed_nodestubs",this.ae));this.Rd||(this.Rd=this.appdata.getModel().createMap(),this.root.set("_named_nodestubs",this.Rd));this.Ve||(m.dlog("UnsharedDataKeys.assigned_val not present. Creating."),this.Ve=this.appdata.getModel().createMap(),this.root.set(n,this.Ve));this.Qa||(m.dlog("UnsharedDataKeys.local_html_name not present. Creating."),this.Qa=
this.appdata.getModel().createMap(),this.root.set(l,this.Qa));this.re||(m.dlog("UnsharedDataKeys.expanded_nodes not present. Creating."),this.re=this.appdata.getModel().createMap(),this.root.set("_expanded",this.re))}a.prototype.keys=function(a){var b=[];this.Ve.has(a)?b.push(h.SystPropNames.Lc):this.Qa.has(a)&&b.push(h.SystPropNames.Qa);return b};a.prototype.YB=function(a,d){switch(d){case h.SystPropNames.Lc:return this.Cs(a.c);case h.SystPropNames.Qa:return a.Ms();default:m.derr("Accessor "+d+" not handled in STDocPirvatePersistentStateViaAppData.getDispatch")}return null};
a.prototype.KG=function(a,d,c){switch(d){case h.SystPropNames.Lc:m.dassert("number"===typeof c);this.Su(a.c,c);break;case h.SystPropNames.Qa:a.VG(c);break;default:m.derr("Accessor "+d+" not handled in STDocPirvatePersistentStateViaAppData.setDispatch")}};a.prototype.bB=function(a,d){switch(d){case h.SystPropNames.Lc:this.Ve.delete(a.c);break;case h.SystPropNames.Qa:this.Qa.delete(a.c);break;default:m.derr("Accessor "+d+" not handled in STDocPirvatePersistentStateViaAppData.deleteDispatch")}};a.prototype.lf=
function(){throw new f.oc;};a.prototype.Cs=function(a){return this.Ve.get(a)};a.prototype.Su=function(a,d){this.Ve.set(a,d)};a.prototype.Kz=function(a,d,c){m.assert_nt(d,a);var b=this.ae.get(d.c),e=b?b.slice():[],g=0;if(b&&1<=b.length)for(g=b.length;0<g&&!(b[g-1][1]<=c);)--g;f.$f(e,[a,c],g);this.ae.set(d.c,e)};a.prototype.OG=function(a,d,c){m.assert_nt(a,c,d);var b=this.Rd.get(c.c),b=b?f.UD(b):new Map;b.set(a,d);this.Rd.set(c.c,b)};a.prototype.VE=function(a){var b=a.c;a=this.Rd.get(b);b=this.ae.get(b);
return(null!=a?a.size:0)+(null!=b?b.length:0)};a.prototype.vC=function(a){return this.ae.get(a.c)};a.prototype.gC=function(a){return this.Rd.get(a.c)};a.prototype.$F=function(a,d){if("number"===typeof d){var b=this.ae.get(a);b?this.ae.set(a,f.Oz(b,d)):m.derr("INVESTIGATE")}else(b=this.Rd.get(a))?(b=_.clone(b),b.delete(d),this.Rd.set(a,b)):m.derr("INVESTIGATE")};return a}();c.qx=k},function(k,c,a){var m=a(5),h=a(7),f=a(4),l=a(256),n=a(9),g=a(6);c.Uw=/\{([^{}]+)\}|(param)(\d+)/g;k=function(){function a(a){this.doc=
a;this.kr=new Map;this.Gj=new Map;this.Ae=new Map;this.Kk=l.pq();this.Vi=new Map;this.pk=new Map;this.Io=new Map;this.Je=new Map;new Map;window.zR=this}a.prototype.Xm=function(){this.doc.O.Tk||(h.timerStart("RefManager.buildall"),this.vA(),this.Xr(),this.cn(),this.wA(),this.xA(),this.yA(),h.timerEnd("RefManager.buildall"))};Object.defineProperty(a.prototype,"mutidDelimsRequired",{get:function(){return!this.doc.top.ea.mb(n.SystPropNames.Tg)||!0===this.doc.top.ea.v(n.SystPropNames.Tg)},enumerable:!0,
configurable:!0});a.prototype.Wr=function(a,b){var d=this;(a=a.match(this.Fg))&&a.forEach(function(a){f.ho(d.pk,d.mo?a.substring(1,a.length-1):a,b.c)})};a.prototype.wA=function(){var a=this;this.pk.clear();this.doc.X.hc(function(b){b.Vb.Ai().forEach(function(d){d=b.ha.v(d);a.Wr(d,b)});b.Vb.Ak().forEach(function(d){d=b.P.v(d);a.Wr(d,b)})})};a.prototype.cn=function(){if(this.mo)this.Fg=c.Uw;else{var a=void 0;this.pk.has("")?(console.error("There is an empty mutid. This would cause problem with no mutid delimiter. EXCLUDING from regex."),
a=f.Ht.Cv(this.Ae,function(a){return""!==a},_.escapeRegExp)):a=f.Ht.Dv(this.Ae,_.escapeRegExp);this.Fg=new RegExp("("+a.join("|")+")","g")}};a.prototype.Xr=function(){var a=this;this.Vi.clear();this.Ae.clear();this.doc.X.ys(function(b){var d=b.yC();d&&(a.Vi.set(b.c,d),f.ho(a.Ae,d,b.c))});this.cn()};a.prototype.xA=function(){var a=this;this.Io.clear();this.Vi.forEach(function(b,d){(b=a.pk.get(b))&&a.Io.set(d,b)})};a.prototype.yA=function(){var a=this;this.Je.clear();this.Gj.forEach(function(b,d){a.Je.set(d,
_.clone(b))});this.Io.forEach(function(b,d){a.Je.has(d)?(f.RG(a.Je.get(d),b),2):a.Je.set(d,_.clone(b))})};a.prototype.vA=function(){var a=this;this.kr.clear();this.Gj.clear();this.doc.X.NB(function(b){var d=b.hb();d&&(a.kr.set(b.c,d.c),f.ho(a.Gj,d.c,b.c))})};a.prototype.eu=function(a,b){if(a.H.no_refs&&f.jb(a.H.no_refs,b))return!1;a=a.H.allowed_flatprops[b];return 7===a||4===a};a.prototype.FB=function(a,b,c){var d=this;this.doc.G(a);if(!this.Ae.has(b))h.derr("mutid "+b+" not in RefManager.m2tset. will do the find/replace anyway, but won't do check for multiple targets. also, this is an error since "+
a+" should be in RefManager.m2tset("+b+")");else if(1<this.Ae.get(b).size){var e=confirm(this.Ae.get(b).size+" nodes have mutid '"+b+"'. \nClick Ok to change only the occurrences of '"+b+"' that get resolved to point to node with id '"+a+"'.\nClick Cancel to change no occurrences.");if(!e)return}var g=new Set,f;f=this.mo?new RegExp("\\{"+_.escapeRegExp(b)+"\\}","g"):new RegExp(_.escapeRegExp(b));this.doc.X.hc(function(e){var l=void 0;e.Vb.Ai().forEach(function(c){if(d.eu(e,c)){var k=e.ha.v(c);if(-1!==
k.search(f)){if(!l){var m=d.uf(e,b);if(!m)return h.dlog("Found mutid "+b+" in "+k+", but it doesn't resolve to a node."),!1;l=a===m.c;if(!l)return h.dlog("Found mutid "+b+" in "+k+", but resolves to "+m.c+" rather than sought "+a+", so not changing."),!1}h.dlog("found old mutid in editable string: ",k);g.add([e,c])}}return null});if(!1===l)return null;e.Vb.Ak().forEach(function(k){if(d.eu(e,k)){var m=e.P.v(k);if(-1!==m.search(f)){if(!l){var n=d.uf(e,b);if(!n){h.dwarn("Trying to replace old mutid "+
b+" with new mutid "+c+" but no RefableInText node found with the old mutid.");return}n=n.c;l=a===n;if(!l){h.dlog("Found mutid "+b+" in "+m+", but resolves to "+n+" rather than sought "+a+", so not changing.");return}}h.dlog("found old mutid in immutable string: ",m);g.add([e,k])}}return null});return null});0<g.size&&(e=confirm("Replace "+g.size+" occurrences of "+b+" with "+c+"?"))&&(this.mo?g.forEach(function(a){var b=a[0];a=a[1];var d=b.Is(a);b.So(a,d.replace(f,"{"+c+"}"))}):g.forEach(function(a){var b=
a[0];a=a[1];var d=b.Is(a);b.So(a,d.replace(f,c))}))};a.prototype.UA=function(a,b){return(a=this.doc.X.xs(a,b))?a:this.doc.X.zs(b,this.doc.top)};a.prototype.uf=function(a,b){h.assert_nt(a,b);var d=this.Ae.get(b);if(d){if(1===d.size){var c;d.forEach(function(a){c=a});return this.doc.G(c)}if(0===d.size)return f.Kb("Todo: no possible target for mutid "+b),null;f.Kb("todo: multiple possible targets for mutid "+b)}else return null;f.Kb("note haven't used arg pnode_or_pid yet, since only unambiguous case handled in this new code so far.");
d=m.cm.MC(a);if(this.Kk.IC(d,b))return d=this.Kk.rg(d,b),f.F(d)?null:this.doc.G(d);var e=this.doc.Rc(a);if((e=this.UA(e,function(d){if(!d)h.dwarn("triv node node detected during ogetRefableInTextNodeByMutid("+a+", "+b+")");else if(d.lb(n.SystPropNames.ya)&&d.P.v(n.SystPropNames.ya)===b)return{val:d,wb:!1};return null}))&&e.val)return e=e.val,h.dassert(g.tb.jt(e)),this.Kk.Ro(d,b,e.c),e;this.Kk.$A(d,b);return null};return a}();c.lx=k},function(k,c,a){function m(a,b){for(var d=[],c=2;c<arguments.length;c++)d[c-
2]=arguments[c];a||(d&&console.error(d),b?console.error("Failed assertion %test%\n"+b+"\n"):console.error("Failed assertion %test%\n"))}function h(){var a=new Map;a.ci=function(b,d){return(b=a.get(b))?b.has(d):!1};a.je=function(b,d,c){void 0===c&&(c=!0);var e=a.get(b);!e&&c&&(e=new Set,a.set(b,e));e.add(d)};a.ps=function(b){a.has(b)||a.set(b,new Set)};a.ef=function(b){a.forEach(function(a,c){a.forEach(function(a){b(c,a)})})};a.toString=function(){var b="";a.ef(function(a,c){b+=a.toString()+", "+c.toString()+
"\n"});return b};return a}function f(a){var b=new Map,d=b.get.bind(b);b.get=function(c){var e=d(c);if(null===e||void 0===e)e=a(),b.set(c,e);return e};return b}var l=a(4),n=a(7);k=function(){function a(){this.array=[]}a.prototype.get=function(a){null==this.array[a]&&(this.array[a]=new Set);return this.array[a]};a.prototype.size=function(){return this.array.length};a.prototype.clear=function(a){this.array[a].clear()};return a}();c.ZI=k;c.lJ=h;k=function(){function a(){this.jd=h();this.Ym=h()}a.prototype.rz=
function(a){var b=this;n.dassert(this.jd.has(a));var c=[],g=this.jd.get(a);for(function(a){b.jd.get(a).forEach(function(a){c.push(a)})}(a);0<c.length;){var f=c.pop();this.parents(f).forEach(function(d){g.has(d)||(b.je(a,d),c.push(d))})}};a.prototype.cI=function(){var a=this;this.jd.forEach(function(b,c){a.rz(c)})};a.prototype.parents=function(a){return this.jd.get(a)};a.prototype.children=function(a){return this.Ym.get(a)};a.prototype.has=function(a){return this.jd.has(a)};a.prototype.mB=function(a){var b=
this;a.forEach(function(a){b.jd.ps(a);b.Ym.ps(a);b.je(a,a)})};a.prototype.je=function(a,d){m(a===d||this.ci(a,a)&&this.ci(d,d),"expected "+a+","+a+" or "+d+","+d+" to be in partial order.");this.jd.je(a,d,!1);this.Ym.je(d,a,!1)};a.prototype.ci=function(a,d){return this.jd.ci(a,d)};a.prototype.ef=function(a){this.jd.ef(a)};a.prototype.toString=function(a){void 0===a&&(a=!1);var b="";this.ef(function(d,c){a&&d===c||(b+=d+" -> "+c+"\n")});return b};return a}();c.Zw=k;k=function(){function a(){this.zb=
new Map}a.prototype.get=function(a){if("string"===typeof a)return this.zb.get(a);for(var b=this.zb,c=0;c<a.length;c++){if(!b)return;b=b.get(a[c])}return b};a.prototype.set=function(a,d){if("string"===typeof a)this.zb.set(a,d);else{var b=this.zb;a.forEach(function(c,e){e<a.length-1?(b.has(c)||b.set(c,new Map),b=b.get(c)):b.set(c,d)})}};return a}();c.zx=k;c.pq=function(){var a=new Map;a.jS=function(b){var d=new Map;a.set(b,d);return d};a.rg=function(b,d){return(b=a.get(b))?b.get(d):null};a.IC=function(b,
d){return(b=a.get(b))?b.has(d):!1};a.Ro=function(b,d,c){var e=a.get(b);e||(e=new Map,a.set(b,e));e.set(d,c)};a.$A=function(b,d){(b=a.get(b))&&b.delete(d)};a.mN=function(b){a.forEach(function(a,c){a.forEach(function(a,d){b(a,c,d)})})};return a};c.Ow=f;c.Ww=function(a){function b(){return f(function(){return a()})}var d=f(b);d.rg=function(a,c){(a=d.get(a))||(a=b());return a.get(c)};return d};c.BJ=function(){var a=f(function(){return[]});a.rM=function(b,d){b=a.get(b);if(!b)return!1;d=b.indexOf(d);if(-1===
d)return!1;l.Jj(b,d);return!0};a.BK=function(b,d){return l.Ft(a,b,d)};return a}},function(k,c,a){function m(a,b,c){void 0===c&&(c=!1);n.assert_nt(a);var d;if(!c){if(a.we()&&!a.oa)return n.dwarn("this isn't quite right. doesn't consider visibility."),d=a.Yh(),n.assert_nt(d),b&&!d.jc()?(c=d.tf())?c:m(a,b,!0):d;if(!d)return m(a,b,!0)}if(a instanceof g.Xa)return n.dlog("can this happen?"),null;c=a;do c=c.tf();while(b&&c&&!c.jc());return c?c:m(a.parentNode,b,!0)}function h(a){n.assert_nt(a);return a.we()&&
!a.oa?(a=a.Kn(),h(a)):a}function f(a,c,g){n.assert_nt(a);b.dassert(a.depth()===c);if(c===g)return a;if(a.we()&&!a.oa){var d=void 0;for(a=a.Kn();a&&!(d=f(a,c+1,g));)a=a.Jg();return d}return null}function l(a,c,g){n.assert_nt(a);b.dassert(a.depth()===c);if(c===g)return a;if(a.we()&&!a.oa){var d=void 0;for(a=a.Yh();a&&!(d=l(a,c+1,g));)a=a.tf();return d}return null}var n=a(7),g=a(6),b=a(4);c.vv=m;c.AP=h;c.wv=function(a){n.assert_nt(a);if(a instanceof g.Xa)return null;var b=a;do b=b.Jg();while(b&&!b.jc());
return b?(a=b,b.we()?h(a):a):a.parentNode};c.IE=function(a){var b=a;do b=b.tf();while(b&&!b.jc()&&b!==a);b||(a=a.parentNode)&&(b=a.Yh());return b};c.AF=function(a){var b=a;do b=b.Jg();while(b&&!b.jc()&&b!==a);b||(a=a.parentNode)&&(b=a.Kn());return b};c.BP=f;c.nI=function(a){for(var b=a.depth(),d,c,g=b;a&&!d;){a=a.parentNode;g--;if(!a)break;c=a;do if((c=c.Jg())&&c.jc()&&(d=f(c,g,b-1)))break;while(c)}return d};c.fO=l;c.mI=function(a){for(var b=a.depth(),d,c,g=b;a&&!c;){a=a.parentNode;g--;if(!a)break;
d=a;do if((d=d.tf())&&d.jc()&&(c=l(d,g,b-1)))break;while(d)}return c}},function(k,c,a){var m=a(249),h=a(4),f=a(6),l=a(7),n=a(8),g=a(13),b=a(259),d=a(9),e=a(190),p=a(3),u=a(271),r=a(256),v=a(257),x=a(189),t=a(15);c.ZJ=function(){return function(){}}();k=function(){function a(a,b,d,c){this.m=a;this.No=b;this.app_plugin_instances=d;this.Fi=c;this.Av=!1;this.$d=new Set;this.Ph=new Map;this.Oh=new Map;this.Pm=[];this.Qm=[];this.D={$n:new r.zx,tt:0};c||(this.Fi=m.DEFAULT_PLUGINS)}Object.defineProperty(a.prototype,
"docid",{get:function(){return this.m.stdocid},enumerable:!0,configurable:!0});a.prototype.Lm=function(a){this.Pm.push(a)};a.prototype.tG=function(){this.Pm.forEach(function(a){return a()});this.Pm=[]};a.prototype.Mm=function(a){this.Qm.push(a)};a.prototype.uG=function(){this.Qm.forEach(function(a){return a()});this.Qm=[]};Object.defineProperty(a.prototype,"userMode",{get:function(){return p.STApp.the.Ef},enumerable:!0,configurable:!0});a.prototype.Kt=function(a){if(a!==m.STPLUGIN_IDS.ContextMenu||
t.inEditMode()){var c=b.CONTROLLER_LEVEL_PLUGIN_CLASSES.get(a);if(c){var e=b.plugin_switches.get(a+"Checkbox");l.assert_nt(e);e.enabled()&&(l.assert_nt(c),this.Ph.has(a)||(l.dlogcat(d.LogTypes.sd,"Creating controller-level Plugin object for "+a+" from DocController."),this.Ph.set(a,new c(e,this))))}}};a.prototype.YC=function(){var a=this;l.dlogcat(d.LogTypes.sd,"DocController needs to create Plugin objects for these:",this.Fi);this.Fi&&this.Fi.forEach(function(b){a.Kt(b)})};a.prototype.ds=function(a,
d){(d=d||this.Ph.get(a))&&d.destroy();this.Ph.delete(a);a=b.CONTROLLER_LEVEL_PLUGIN_CLASSES.get(a);this.Oh.delete(a)};a.prototype.destroy=function(){var a=this;this.Av=!0;this.Ph.forEach(function(b,d){a.ds(d,b)});h.xD(this.Oh.keys(),function(b){a.Oh.delete(b)})};a.prototype.$k=function(a,b){l.weakassert(!this.Oh.has(a),"duplicate of some SingletonAtDocControllerLevel");this.Oh.set(a,b)};a.prototype.gs=function(a){var b=a.target;l.assert_nt(b);if(b)if(this.m.jf(b)||this.m.Mi(b),n.Nd(b))l.dlogcat(d.LogTypes.gb,
"Heard "+(a.isLocal?"LOCAL ":"NON-LOCAL ")+"EditableString event: ",b,a),this.lp.ha(b,a);else if(n.isMap(b))l.dlogcat(d.LogTypes.gb,"batchDocEventListener sees map change:",a),this.lp.zb(b,a);else if(n.Yn(b))l.dlogcat(d.LogTypes.gb,"batchDocEventListener sees list change",a),this.lp.yc(b,a);else throw console.error(b,a),Error("shouldn't happen!");};a.prototype.bA=function(a){var b=this;l.dlogcat(d.LogTypes.wa,"Entering batchDocEventListener for controller with DocView "+this.view.kl);l.dlogcat(d.LogTypes.oG,
"Rootmap event:",a);this.Av?console.warn("The unstable_object_change_listeners registered by this SimpleReactDocController should be destroyed, but they're not.\nWill return and do nothing."):1===a.events.length?this.gs(a.events[0]):(l.dlog("heard compound event:",a),a.events.forEach(function(a){b.gs(a)}))};a.prototype.wB=function(a){if(a){var b=this.m.G(a);b?this.m.X.og(function(a){a.oa=!1},b):l.derr("expandAllNodes can't find node with id "+a)}else this.m.X.hc(function(a){a.oa=!1});l.Vj("SHOULD NOT BE DOING A FULL BUILD HERE.");
this.Ba(!0,1)};a.prototype.xB=function(a){if(a){var b=this.m.G(a);b?this.m.X.og(function(a){!0!==a.H.ignore_on_expand_most&&(a.oa=!1)},b):l.derr("expandMostNodes can't find node with id "+a)}else this.m.X.hc(function(a){!0!==a.H.ignore_on_expand_most&&(a.oa=!1)});l.Vj("SHOULD NOT BE DOING A FULL BUILD HERE.");this.Ba(!0,1)};a.prototype.mA=function(a){if(a){var b=this.m.G(a);b?this.m.X.og(function(a){return a.oa=!0},b):l.derr("collapseMostNodes can't find node with id "+a)}else this.m.X.hc(function(a){a instanceof
f.Xa||(a.oa=!0)});this.Ba(!0,1)};a.prototype.lA=function(){$(".HideablePropertyPanel").hide();this.m.X.hc(function(a){a.D.panel_hidden=!0})};a.prototype.Pu=function(a){l.assert_nt(a);this.m.D.filtering_nodes&&(this.m.bb.Rr(),this.Pk());a.kf()?(l.Ga("scrollToNode, node already visible"),e.vr(x.Ee(a.c))):(l.Ga("scrollToNode, node not visible"),this.Mm(function(){l.Ga("scrollToNode's addAfterNextRenderCallback");a.kf()?e.vr(x.Ee(a.c)):l.Ga("scrollToNode's addAfterNextRenderCallback, NOT moving because STILL not visible")}),
a.xa(g.o.Xa)||(a.parentNode.od(),l.Ga("returned from expandChildrenUpToRoot"),this.rb(a.c,0,0,!0,!0)))};a.prototype.Ta=function(a){var b=this;switch(a.name){case "ChangeSeqDisplayMode":l.dlog("ChangeSeqDisplayMode with .showing_all === "+a.Vo);var d=this.m.G(a.nodeid);d&&(d.Ti=a.Vo,this.Yb(d));break;case "MoveNodeFocus":var d=p.STApp.the.T.node,c=void 0,e;if(h.F(d))l.dwarn("No currently focused node. Focusing hidden Top node."),c=this.m.top;else switch(a.Rh){case "down":e=v.vv(d,!0);h.qp(function(){return e&&
!e.kf()},function(){e=v.vv(e,!0)});c=e;break;case "up":e=v.wv(d);h.qp(function(){return e&&!e.kf()},function(){e=v.wv(e)});c=e;break;case "down-siblings":c=v.IE(d);break;case "up-siblings":c=v.AF(d);break;case "left":e=d.parentNode;h.qp(function(){return e&&!e.jc()},function(){return e=e.parentNode});if(e)c=e;else{p.STApp.the.T.node=null;u.Zm(d.c,null);return}break;case "right":d.sD()&&d.we()&&(c=(a=this.D.$n.get(d.c))?this.m.G(a):d.Yh())&&(a=p.STApp.the.C,d.oa&&(d.oa=!1,a.Yb(d,1,1)),c.jc()||a.Mm(function(){b.Ta({name:"MoveNodeFocus",
Rh:"down"})}))}a=d?d.c:null;c&&(p.STApp.the.T.node=c,c.parentNode&&this.D.$n.set(c.parentNode.c,c.c),u.Zm(a,c.c,!0));break;case "SetFocusedNode":l.derrif(a.Ck!=p.STApp.the.T.id,"a.old_nodeid !== STApp.the.focused_nodeid; this could potentially fail i suppose, but would like to know",a.Ck,p.STApp.the.T.id);if(p.STApp.the.T.id=a.Hg)(d=p.STApp.the.T.node.parentNode)?this.D.$n.set(d.c,a.Hg):l.derrif(a.Hg!==this.m.top.c,"Newly focused node has no parent, so it SHOULD be the Top node, but it isn't.");u.Zm(a.Ck,
a.Hg);break;case "TogglePanelHidden":a=this.m.G(a.nodeid);a.D.panel_hidden=!a.D.panel_hidden;a.D.panel_hidden?p.STApp.the.C.pv(a):p.STApp.the.C.Yb(a,0,0);break;case "ToggleChildrenShown":a=this.m.G(a.nodeid);a.oa=!a.oa;p.STApp.the.C.Yb(a,1,1);break;case "ToggleNodeSelected":(a=this.m.G(a.nodeid))?a.D.selected=!a.D.selected:console.error("Couldn't find node that I was supposed to (de)select.")}};a.prototype.Qk=function(){l.timerStart("quickFilterNodesInGUI");this.D.tt=$(document).scrollTop();var a=
p.STApp.the.Z;a.X.hc(function(a){switch(a.D.filter_status){case 3:$(x.Sb(a.c)+">.STNodeView-inner-container>.nodeview-without-children-and-panel").addClass("ancestor_of_filtered_in");break;case 2:$(x.Sb(a.c)).addClass("filtered-out");break;case 1:$(x.Sb(a.c)+">.STNodeView-inner-container>.nodeview-without-children-and-panel").removeClass("ancestor_of_filtered_in"),$(x.Sb(a.c)).removeClass("filtered-out")}});null!=a.D.ah&&e.EG(x.Ee(a.D.ah));l.timerEnd("quickFilterNodesInGUI")};a.prototype.Pk=function(){l.dlog("calling quickClearFilteringInGUI");
$(".filtered-out").removeClass("filtered-out");$(".ancestor_of_filtered_in").removeClass("ancestor_of_filtered_in");$(document).scrollTop(this.D.tt)};return a}();c.Hv=k;c.pB=function(a){e.os($(x.Sb(a.c)))}},function(k,c,a){k=a(260);var m=a(263),h=a(266),f=a(267),l=a(268),n=a(270),g=a(261);a=a(249);c.TAB_LEVEL_PLUGIN_CLASSES=new Map;c.CONTROLLER_LEVEL_PLUGIN_CLASSES=new Map;c.CONTROLLER_LEVEL_PLUGIN_CLASSES.set(a.STPLUGIN_IDS.OnRefInTextHover,h.Vw);c.CONTROLLER_LEVEL_PLUGIN_CLASSES.set(a.STPLUGIN_IDS.DragulaDnD,
k.ew);c.CONTROLLER_LEVEL_PLUGIN_CLASSES.set(a.STPLUGIN_IDS.ContextMenu,m.Wv);c.CONTROLLER_LEVEL_PLUGIN_CLASSES.set(a.STPLUGIN_IDS.QTips,l.cx);c.TAB_LEVEL_PLUGIN_CLASSES.set(a.STPLUGIN_IDS.MarkNodeOnHover,f.Pw);c.TAB_LEVEL_PLUGIN_CLASSES.set(a.STPLUGIN_IDS.MousetrapKeyBindings,n.Qw);c.plugin_switches=new Map;c.TAB_LEVEL_PLUGIN_CLASSES.forEach(function(a,d){c.plugin_switches.set(d+"Checkbox",new g.Cq(d+"Checkbox"))});c.CONTROLLER_LEVEL_PLUGIN_CLASSES.forEach(function(a,d){c.plugin_switches.set(d+"Checkbox",
new g.Cq(d+"Checkbox"))})},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=a(4),f=a(6),l=a(7),n=a(8);k=a(261);var g=a(9);a=function(a){function b(d,c){var e=a.call(this,d)||this;e.$N=function(a,b,d){l.dassert(d===
b);e.Os(a,b,d)};e.Os=function(a,b,d){var c=e.view();if(c)if(l.assert_nt(a,b,d),a&&b&&d){var k=$(d),m=$(b),p=c.Mc(k),u=c.Mc(m);l.dassert(p instanceof f.ua&&u instanceof f.ua,"ERROR",k,m,p,u);var k=p.yc.v(g.SystPropNames.ch),r=u.yc.v(g.SystPropNames.ch),m=m.children();a=c.Mc(a);l.assert_nt(a);a=a.c;l.dlog("permid of the element we're moving: ",a);for(var x=-1,v=-1,D,G=0;G<k.length;G++)D=n.ff(k.get(G)),D===a&&(x=G);l.dassert(!h.F(x),"Didn't find node-to-move with permid "+a+" among the children of the source parent node "+
p.c);for(G=0;G<m.length;G++)D=c.Mc(m[G]),l.assert_nt(D),D=D.c,D===a&&(v=G);l.dassert(!h.F(v),"Didn't find shadow element for node-to-move with permid "+a+" among the children of the target parent node "+u.c);d===b&&x<v&&(v+=1);e.control.$d.add(p.c);e.control.$d.add(u.c);e.Uj.cancel(!0);v>=r.length+1?(console.warn("Can't do move because target index "+v+" is more than the length of the target list "+r.length+". Harmless if caused by trying to drop beneath a 'drop...' faux-node."),e.Uj.cancel(!0)):
(l.dassert(x<k.length),l.dlogif(d===b,"Doing move: "+x+" --\x3e "+v),l.dlogif(d!==b,"Doing move: src["+x+"] --\x3e trg["+v+"]"),k.moveToList(x,r,v),d!==b&&(b=e.control.m.G(a),l.assert_nt(b),e.control.m.Ri(b,u)))}else l.derr("undefined args to handle_move_easy");else l.derr("handle_move_easy called when plugin has no doc view")};e.DJ=function(a){var d=e.view(),c=$(a);a=d.Mc(c);l.dassert(a instanceof f.ua);var k=c.children(),c=a.yc.v(g.SystPropNames.ch);l.dassert(k.length===c.length,"lengths "+c.length+
" "+k.length);for(var m=Array(c.length),n=Array(k.length),p=0;p<m.length;p++)m[p]=c.get(p).id;for(p=0;p<n.length;p++){var u=k[p],r=d.Mc(u);if(r)n[p]=r.c;else throw console.error(u),Error("No node found for element: "+u.toString());}_.isEqual(m,n)||(d=h.dA(m,n),l.dlogif(!d,"moves is null"),e.control.$d.add(a.c),d&&b.RF(c,d))};e.control=c;c.$k(b,e);return e}m(b,a);b.prototype.Bf=function(){var a=this;this.Uj=reactDragula({revertOnSpill:!0,isContainer:function(a){return a.classList.contains("dragula-container")},
moves:function(a,b,d){return d?0<=d.className.indexOf("st-draghandle"):!1},accepts:function(b,d,c,e){return a.accepts(b,d,c,e)}});this.Uj.on("drop",function(b,d,c){if(d){l.assert_nt(b,c);var e=$(d);e.is("li")&&(l.dwarn("Trying to change target container..."),e=e.find(".dragula-container"),b&&(e.prepend(b),d=e[0]));a.Os(b,d,c)}})};b.prototype.destroy=function(){this.control.view.bh.off("sortupdate",".ReorderableChildList");this.Uj.destroy()};b.RF=function(a,b){l.dlogif(1<b.length,"Doing "+b.length+
" moves: ",b);l.dlogif(1===b.length,"Doing move: "+b[0][0]+" --\x3e "+b[0][1]);l.dassert(b.length<=a.length);b.forEach(function(b){a.move(b[0],b[1])})};b.prototype.view=function(){return this.control.view};b.prototype.accepts=function(a,b,d){l.assert_nt(a,b,d);var c=this.view().Mc(a);if(!c)return console.error("Couldn't find the node you're trying to move."),!1;var e=this.view().Mc(b);if(e){if(e instanceof f.ua){var g=e===c;e.KB(function(a){return a===c?(g=!0,l.dlog("moved node "+c.c+" appears to be in ancestor path of target node "+
e.c),!1):!0});if(g)return!1;if(e instanceof f.Xa)return!0;(a=e.Kh(c.H))||l.dlog("target node "+e.c+" cannot have (another) unnamed child node of type "+c.H+". returning false.");return a}console.log("Target is not a parental node.");return!1}console.error("Couldn't find the new parent node.");return!1};return b}(k.Lf);c.ew=a},function(k,c,a){function m(a){h.dassert(l.jH(a));return a.substr(0,a.length-8)}var h=a(7),f=a(9),l=a(4),n=a(249),g=a(262);k=function(){function a(b){this.Ep=b;this.Oj=new g.bc(b,
n.DEFAULT_PLUGINS.has(this.XQ));a.plugin_switches.set(b,this)}Object.defineProperty(a.prototype,"pluginid",{get:function(){return m(this.Ep)},enumerable:!0,configurable:!0});a.prototype.enabled=function(){return this.Oj.getValue()};return a}();k.plugin_switches=new Map;c.Cq=k;k=function(){function a(a,b){void 0===b&&(b=!0);var d=this;this.wf=a;var c=this;this.wf.Oj.za=function(a){a?c.Bf():(h.dlogcat(f.LogTypes.sd,"Destroying plugin "+d.xw),c.destroy())};this.wf.enabled&&b&&(h.dlogcat(f.LogTypes.sd,
this.xw+".enabled returned true"),this.wf.Oj.za(!0))}Object.defineProperty(a.prototype,"ID",{get:function(){return m(this.wf.Ep)},enumerable:!0,configurable:!0});a.prototype.enabled=function(){return this.wf.enabled()};return a}();c.Lf=k},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return function(c,b){function d(){this.constructor=c}
a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),h=a(4),f=a(7),l=a(7);k=function(){function a(a,b,d){void 0===d&&(d={});var c=this;this.id=a;this.la=d;this.Ca=document.getElementById(a);f.assert_nt(this.Ca);null==store.get(this.id)&&(f.dwarn("Nothing stored for "+a),this.setValue(b));this.syncInput();this.la.za&&(this.za=this.la.za);this.Ca.onchange=function(a){c.onchange(a);c.za&&c.za(c.getValue())}}a.prototype.syncInput=function(){var a=store.get(this.id);this.Ca.value=
a;this.la&&this.la.Fe&&this.la.Fe(a)};a.prototype.getValue=function(){return store.get(this.id)};a.prototype.setValue=function(a){f.dwarn("Setting "+this.id+" to "+a);store.set(this.id,a);this.syncInput()};a.prototype.hide=function(){$(this.Ca).hide();$("label[for="+this.Ca.id+"]").hide()};a.prototype.show=function(){$(this.Ca).show();$("label[for="+this.Ca.id+"]").show()};a.prototype.disable=function(){this.Ca.disabled=!0};return a}();c.gK=k;a=function(a){function c(){return null!==a&&a.apply(this,
arguments)||this}m(c,a);c.prototype.onchange=function(a){this.setValue(a.target.value)};return c}(k);c.Oq=a;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.onchange=function(a){this.setValue(Number(a.target.value))};c.prototype.syncInput=function(){var a=store.get(this.id);this.Ca.value=a;this.la&&this.la.Fe&&this.la.Fe(a)};return c}(k);c.Kx=a;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.onchange=function(a){f.dwarn("onchange...",
a);this.setValue(a.target.checked)};c.prototype.toggle=function(){this.setValue(!this.getValue())};c.prototype.syncInput=function(){var a=store.get(this.id);l.dassert(!0===a||!1===a,a);this.Ca?(this.Ca.checked=a,this.la&&this.la.Fe&&this.la.Fe(a)):console.error("...")};return c}(k);c.bc=a;k=function(a){function c(b,d,c,g){var e=a.call(this,b,d,g)||this;e.Ca.onclick=function(a){var b=c.indexOf(e.getValue()),b=b+1;b>=c.length&&(b=0);e.setValue(c[b]);if(e.la&&e.la.onclick)e.la.onclick(a)};return e}m(c,
a);c.prototype.onchange=function(){throw Error("Button onchange event. Thought this couldn't happen.");};return c}(k);c.km=k;k=function(){function a(a,b,d){var c=this;this.Zk=a;this.la=d;this.Ca=document.getElementById(a);null==store.get(this.Zk)&&(this.value=b);this.la.Nc?this.la.Nc.forEach(function(a){var b=document.createElement("option");b.value=a;b.text=a;c.Ca.appendChild(b)}):this.vH();this.syncInput();this.Ca.onchange=function(a){c.value=a.target.value};this.Ca.onchange=void 0!=d.za?function(a){console.log("called onchange (on dom change, and then onmodelchange)");
c.value=a.target.value;d.za(c.value)}:function(a){console.log("called onchange (on dom change)");c.value=a.target.value}}a.prototype.syncInput=function(){this.Ca.value=store.get(this.Zk)};a.prototype.vH=function(){var a=this;if(this.la.Nc)throw Error("Doesn't make sense when using fixed_options");var b=_.map(this.Ca.children,function(a){return a.text}),d=this.possible_values;h.Mz(b,d)||(b.forEach(function(b,d){a.Ca.remove(d)}),d.forEach(function(b){var d=document.createElement("option");d.value=b;
d.text=b;a.Ca.appendChild(d)}))};Object.defineProperty(a.prototype,"value",{get:function(){return store.get(this.Zk)},set:function(a){f.weakassert(h.jb(this.possible_values,a),"Value "+a+" not in this.possible_values "+this.possible_values);store.set(this.Zk,a);this.syncInput();this.la.za&&this.value!==a&&this.la.za(a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"possible_values",{get:function(){if(this.la.Nc)return this.la.Nc;f.assert_nt(this.la.fo);return store.get(this.la.fo)},
set:function(a){if(this.la.Nc)throw Error("Doesn't make sense when using fixed_options");f.assert_nt(this.la.fo);store.set(this.la.fo,a);this.syncInput()},enumerable:!0,configurable:!0});a.prototype.hide=function(){$(this.Ca).hide()};a.prototype.show=function(){$(this.Ca).show()};return a}();c.Of=k},function(k,c,a){function m(a,d,c){d.name?a[d.name]=d:(b.assert_nt(c),a[c]=d)}var h=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return function(b,d){function c(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}(),f=a(264),l=a(249),n=a(6),g=a(265),b=a(7),d=a(9);k=a(261);var e=a(4),p=a(189);a=function(a){function c(e,g){e=a.call(this,e)||this;e.controller=g;e.active=!1;b.dlogcat(d.LogTypes.wa,"Entering ContextMenuFeature constructor with controller with DocView "+g.view.kl);e.m=g.m;e.view=g.view;g.$k(c,e);return e}
h(c,a);c.prototype.destroy=function(){this.active=!1;$.contextMenu&&$.hasOwnProperty("contextMenu")&&$.contextMenu("destroy");this.view.bh.contextMenu&&delete this.view.bh.contextMenu};c.prototype.KD=function(){var a=this;b.dlogcat(d.LogTypes.sd,"In ContextMenuFeature.loadExternalJSLibaries_then_setupCall with jqueryui_already_loaded == false");c.JD(function(){b.dlogcat(d.LogTypes.sd,"should be calling `ContextMenuFeature.setupCall()'");return a.Bf()})};c.prototype.Jz=function(a,b,d){var e=this,g=
{};c.Pv?(g={},m(a,{name:"debug...",items:g})):g=a;m(g,{name:"Recompute VM under this node, then update state",callback:function(){e.controller.Yb(b)}});m(g,{name:"Show node VM",callback:function(){e.controller.rA(b)}});m(g,{name:"Show cached node VM",callback:function(){e.controller.Xu(b)}});m(g,{name:"Show <li> element in console",callback:function(){console.log(d[0])}});m(g,{name:"Show node in console",callback:function(){console.log(b);console.log(b.toString())}});m(g,{name:"Show node's short-json (pretty-printed)",
callback:function(){b.CF()}});m(g,{name:"Show node's google-json (pretty-printed)",callback:function(){b.BF()}});g===a&&m(g,"-","devopts-sep")};c.prototype.mr=function(a,d){var c=this.m.O.oD,g=d.nodetype;c&&g?c[g]?(c=c[g],a[c]?(a[c].items||(a[c]={name:c,items:e.ja(g,a[c])}),m(a[c].items,d)):m(a,{name:c,items:e.ja(d.name,d)})):(d.name=g,m(a,d)):(b.Ga("about to call addItemSimple",a,d),m(a,d))};c.prototype.uk=function(a,b,d){var c=this,e,g;if(0<d.length&&(m(a,"-",b+"sep"),1<d.length?(g={name:b,items:{}},
m(a,g),e=g.items):e=a,d.forEach(function(a){c.mr(e,a)}),1<d.length)){_.sortBy(d,function(a){return a.name});var f={};a=Object.getOwnPropertyNames(e);a.sort();a.forEach(function(a){f[a]=e[a]});g.items=f}};c.prototype.Eb=function(a,d,c){var g=this,f={name:d,callback:function(){b.Ga('callback for name "'+d+'" with action:',a," and options: ",c);g.m.ub(a)}};if(!c)return f;e.sf(f,c);return f};c.prototype.Bf=function(){c.ts?this.XG():this.KD()};c.prototype.XG=function(){var a=this;this.active=!0;b.dlogcat(d.LogTypes.sd,
"In ContextMenuFeature.setupCall");(this.view?this.view.bh:$("#"+f.Gf.Pe)).contextMenu({zIndex:2E4,selector:".STNodeView",build:function(d){function c(a,b){m(f,a,b)}function g(){c("-","sep"+h.toString());h+=1}b.dlog("contextmenu build callback called");b.timerStart("build_contextmenu");if(!a.wf.enabled())return b.derr("Shouldn't be able to get here..."),!1;var f={},h=0,l=a.view.Mc(d);b.assert_nt(l);a.Jz(f,l,d);var k=a.m.O.qf(l.nodetype);d=l.Dz();var p=[],u=[],r=[],x=[],v=new Map,I=[];c(a.Eb({name:"CopyNode",
nodeid:l.c,co:!1},"Copy node"));var J=a.controller.m.D.node_clipboard;c(a.Eb({name:"DeleteNode",parent:l.parentNode,ot:l.tg()},"Delete node"));d.forEach(function(b){switch(b.name){case "NewFlatProp":var d=b.label,c=a.YD(d);if(c){p.push(a.Eb(b,c));break}switch(k.allowed_flatprops[d]){case 6:case 7:p.push(a.Eb(b,"Add editable string "+d));break;case 5:case 4:case 3:p.push(a.Eb(b,"Add immutable string "+d));break;case 1:p.push(a.Eb(b,"Add boolean "+d));break;case 2:p.push(a.Eb(b,"Add number "+d));break;
default:console.error("Unsupported FlatPropType")}break;case "NewNamedNode":e.Ft(v,b.label,a.Eb(b,"Add "+b.nodetype+" child "+b.label,{nodetype:b.nodetype}));break;case "NewUnnamedNode":b.parent instanceof n.ua&&b.parent===l?r.push(a.Eb(b,"Add "+b.nodetype+" child",{nodetype:b.nodetype})):u.push(a.Eb(b,"Insert "+b.nodetype+" sibling",{nodetype:b.nodetype}));break;case "NewParentNode":x.push(a.Eb(b,"New "+b.nodetype+" parent",{nodetype:b.nodetype}));break;case "ConvertNodetype":I.push(a.Eb(b,"Convert to "+
b.Tt));break;default:console.error("Unsupported LocalUser_SharedPersistent_ActionRequest:",b)}});J&&(l instanceof n.ua&&(d=null,l.Kh(J.H)||(d={className:"contextmenu-item-warn"}),c(a.Eb({name:"PasteNode",Hk:l.c},"Paste copied "+J.nodetype+" node as child",d))),l.parentNode&&(d=null,l.parentNode.Kh(J.H)||(d={className:"contextmenu-item-warn"}),c(a.Eb({name:"PasteNodeAsNextUnnamedSiblingOf",Zu:l.c},"Paste copied "+J.nodetype+" node as sibling",d))));0<p.length&&(p=_.sortBy(p,function(a){return a.name}),
g(),p.forEach(function(a){c(a)}));0<v.size&&(g(),v.forEach(function(b,d){var e={name:'Add "'+d+'" child',items:{}};c(e);var g=e.items,f=!1;b.forEach(function(b){a.mr(g,b);J&&J.O.yb(J.nodetype,b.nodetype)&&(f=!0)});f&&c(a.Eb({name:"PasteNodeAsNamedChild",Hk:l.c,label:d},"Paste copied "+J.nodetype+' as "'+d+'"'))}));b.Ga("append child items:",r);r=_.sortBy(r,function(a){return a.name});u=_.sortBy(u,function(a){return a.name});x=_.sortBy(x,function(a){return a.name});a.uk(f,"Append child...",r);a.uk(f,
"Insert sibling...",u);a.uk(f,"New parent...",x);a.uk(f,"Convert...",I);window.nP=f;b.dlog(f);b.dlog(f.toString());b.timerEnd("build_contextmenu");return{items:f,autoHide:!1}}})};c.prototype.YD=function(a){return this.m.O.tu[a]};c.uQ=function(a){a=a.c;var d=$(p.Sb(a));b.dlog(d);a=d.find(p.Sb(a)+"_ch_container>.ReorderableChildList");b.dlog("$ul:",a);if(0===a.children().length){a.show();a.parent().show();b.dlog("Adding li child to empty ul.");b.dlog("The ul:",a[0]);var c=$("<li class='temp-drag-spacer'>drop above...</li>"),
d=$("<button class="+l.Ja.nq+">Cancel</button>");d.click(function(){c.remove()});a.append(c);c.append(d)}else b.dlog("ul already has children:",a.children())};c.JD=function(a){var e="",e="../../lib-independent-of-src/not-owned/js_lib/jQuery-contextMenu-2.0.0/dist/jquery.ui.position.min.js";b.dlogcat(d.LogTypes.sd,"In ContextMenuFeatureEnabledComponent.loadExternalJSLibaries with jqueryui_already_loaded == false");g.mt(e,function(a,c){b.dlogcat(d.LogTypes.bo,"jquery.ui.position.js loaded (but maybe not executed)",
c)}).done(function(){g.mt("../../lib-independent-of-src/not-owned-modified/jquery.contextMenu-2.0.0.js",function(a,c){b.dlogcat(d.LogTypes.bo,"jquery.ContextMenu-2.0.0.js loaded (but maybe not executed)",c)}).done(function(e,g){b.dlogcat(d.LogTypes.bo,["jquery.ContextMenu.js executed.",g],0);a&&a();c.ts=!0})})};return c}(k.Lf);a.Pv=!0;a.ts=!1;c.Wv=a},function(k,c,a){var m=a(189);k=function(){function a(c,h){void 0===h&&(h=a.Pe);this.kl=a.JE++;this.m=c;this.No=h;this.bh=$("#"+this.No).addClass("DocView")}
a.prototype.Mc=function(a){return(a=m.jB(a))?this.m.G(a):null};return a}();k.Pe="structure-together-docview-id";k.JE=0;c.Gf=k},function(k,c){c.mt=function(a,c){var h;void 0===h&&(h=!0);return $.ajax({url:a,dataType:"script",success:c,async:!0,cache:h})};c.oi=function(a){a=$("<link rel='stylesheet' type='text/css' href='"+a+"'>");$("head").append(a)};c.GI=function(a,c){"string"!==typeof a||jQuery(a,c).length||console.error("No element found by jquery selector!",a);return jQuery.apply(this,arguments)};
c.wt=function(a,c){$.getJSON(a,null,c)}},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var g in c)c.hasOwnProperty(g)&&(a[g]=c[g])};return function(c,f){function g(){this.constructor=c}a(c,f);c.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();k=a(261);var h=a(189);a=function(a){function c(f,g){f=a.call(this,f)||this;f.control=g;g.$k(c,f);return f}m(c,a);c.prototype.view=
function(){return this.control.view};c.Ls=function(a){return $(h.Sb(a)+"_NodeAlwaysShownPart")};c.prototype.destroy=function(){$("body").off("mouseenter.forOnRefInTextHover").off("mouseleave.forOnRefInTextHover")};c.prototype.Bf=function(){$("body").on("mouseenter.forOnRefInTextHover",".simple-inline-ref",function(a){(a=a.target.getAttribute("data-permid_ref"))&&c.Ls(a).addClass("highlighted-due-to-ref-in-text")}).on("mouseleave.forOnRefInTextHover",".simple-inline-ref",function(a){(a=a.target.getAttribute("data-permid_ref"))&&
c.Ls(a).removeClass("highlighted-due-to-ref-in-text")})};return c}(k.Lf);c.Vw=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=a(7),f=a(9);k=a(261);var l=a(4),n=a(189);a=function(a){function b(c){c=a.call(this,
c)||this;l.cl(b,c);return c}m(b,a);b.iO=function(a){return a.parentElement.getAttribute("id")};b.prototype.Bf=function(){var a=[],c=null,g=null;$("body").on("mouseenter.forMarkNodeOnHover",".STNodeView",function(d){if((d=d.currentTarget)&&-1===d.className.lastIndexOf("STopNodeView")){var e=d.getAttribute("id");e&&(e=n.iB(e))&&(d=$(d),b.EF(a,e,Number(d.attr("data-depth"))),g=a[a.length-1][0],g!==c&&(c&&$(n.Sb(c)).removeClass("marked-hovered-node"),$(n.Sb(g)).addClass("marked-hovered-node"),c=g))}}).on("mouseleave.forMarkNodeOnHover",
".STNodeView",function(d){var e=d.currentTarget.getAttribute("id");e&&(d.target.getAttribute("id"),$("#"+e).removeClass("marked-hovered-node"),c===e?(h.dwarncat(f.LogTypes.It,"Popping element from hover stack after mouseleave"),a.pop()):(d=b.UC(a,e))&&0<=d&&(h.dwarncat(f.LogTypes.It,"Removing element from hover stack after mouseleave (not necessarily from top)"),l.Jj(a,d)),c=null,0<a.length&&(c=a[a.length-1][0],$("#"+c).addClass("marked-hovered-node")))})};b.prototype.destroy=function(){$("body").off("mouseenter.forMarkNodeOnHover").off("mouseleave.forMarkNodeOnHover")};
b.EF=function(a,b,c){if(0===a.length)a.push([b,c]);else{for(var d=a.length-1;0<=d;d--)if(c>a[d][1]){l.$f(a,[b,c],d+1);return}l.$f(a,[b,c],0)}};b.UC=function(a,b){for(var c=0;c<a.length;c++)if(a[c][0]===b)return c;return null};return b}(k.Lf);c.Pw=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=
b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=a(7),f=a(9);k=a(261);var l=a(46),n=a(247),g=a(4),b=a(269),d=a(189);a=function(a){function c(b,d){var e=a.call(this,b,!1)||this;e.control=d;d.$k(c,e);d.Lm(function(){b.enabled&&b.Oj.za(!0)});return e}m(c,a);c.prototype.view=function(){return this.control.view};c.prototype.destroy=function(){$(document).off("mouseenter.qtip");$(".simple-inline-ref").qtip("api")?$(".simple-inline-ref").qtip("api").destroy():h.dlog("Went to destroy qtips, but none found");
this.control=null};c.prototype.Bf=function(){var a=this;h.dwarncat(f.LogTypes.sd,"QTipTooltips setupCall");var c=$(window);$(document).on("mouseenter.qtip",".simple-inline-ref",function(e){$(e.currentTarget).qtip({style:{classes:"qtip-default qtip qtip-dark qtip-rounded"},content:{text:function(c){var e=$(c.currentTarget).attr("data-permid_ref");return g.F(e)?(h.dwarn("the problem event: ",c),function(){return $("<span>error - qtip event currentTarget missing 'data-permid_ref'</span>")}):function(){var c=
a.control.m,f=c.G(e);if(f){var k=a.control.Na.wi(f);k.stdocid=c.stdocid;var m=$("<a target='_self' href='"+d.Sb(e)+'\' style="margin-right:.5em;" class="st-go-link">go</a>');m.click(function(){f.kf()?(h.Ga("node "+f.c+" to go to is VISIBLE"),a.control.Pu(f),a.control.Ta(b.Ad(f.c))):(h.Ga("node "+f.c+" to go to is hidden"),f.parentNode.od(),g.Kb("Disabled code to find right place in Seq when hit go link"),a.control.Ta(b.Ad(f.c)),a.control.Mm(function(){a.control.Pu(f)}),a.control.rb(f,0,0,!1))});var p=
$("<span></span>"),m=$("<span></span>").append(m,p),c=n.J(c.stdocid,k);l.render(c,p[0]);return m}return $("<span>error - couldn't find node "+e+"</span>")}}},position:{viewport:c},show:{ready:!0,delay:500},hide:{event:"unfocus",fixed:!0}},e)})};return c}(k.Lf);c.cx=a},function(k,c,a){var m=a(3);c.Ad=function(a){return{name:"SetFocusedNode",Ck:m.STApp.the.T.id,Hg:a}};c.FJ=function(){return function(){}}()},function(k,c,a){function m(){b.nd("KILL THIS FUNCTION. Should be in STDoc");var a=e.STApp.the.Z;
return a.D.filtering_nodes?(a.Lo(),a.bb.np(),e.STApp.the.C.Pk(),!1):!0}function h(a){return function(){var b=n.R(e.STApp.the.T.id);if(r.dn()||!b&&"right"!==a)return!0;e.STApp.the.C.Ta({name:"MoveNodeFocus",Rh:a});return!1}}function f(a){return function(){var b=e.STApp.the.T.node;return n.F(b)&&b.isUnnamedChild()?!0:(e.STApp.the.Z.ub({name:"MoveFocusedNode",Rh:a}),!1)}}var l=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||
function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),n=a(4);k=a(261);var g=a(249),b=a(7),d=a(269),e=a(3),p=a(13),u=a(9),r=a(189),v=a(14),x=a(15),t="up down left right space shift".split(" ");a=function(a){function c(b){var d=a.call(this,b)||this;d.wf=b;n.cl(c,d);return d}l(c,a);c.prototype.ba=function(a,c,d){function e(){n.jb(t,a)||b.dlog("Mousetrap "+a+" heard.");
return d.xb?x.inEditMode()?c():!0:c()}this.Hr.set(a,e);d.global?Mousetrap.bindGlobal(a,e,d.un):Mousetrap.bind(a,e,d.un)};c.prototype.destroy=function(){Mousetrap.reset();this.Hr.clear()};c.prototype.Bf=function(){function a(){if(r.dn())return!0;var a=e.STApp.the.T.id;if(a){var c=e.STApp.the.Z,a=e.STApp.the.Z.G(a);b.assert_nt(a);if(a&&a.parentNode){var d={type:"Map",value:n.h([u.SystPropNames.nodetype,{json:p.o.aa}],[u.SystPropNames.qe,{json:!0}],[u.SystPropNames.S,{json:"name"}],[u.SystPropNames.ya,
{json:""}],[u.SystPropNames.text,{type:"EditableString",value:"definition"}])},d=structure_together.googleJsonToSTData(e.STApp.the.Be.Jb,d),c=c.ke(d,a.parentNode);a.parentNode.jD(c,a);return!1}}return!0}function c(){if(r.Zt()||r.dn())return!0;var a=e.STApp.the.T.id;return a&&(a=e.STApp.the.Z.G(a),b.assert_nt(a),a)?(e.STApp.the.Z.ub({name:"NewUnnamedNode",nodetype:a.O.qo,parent:a.parentNode||e.STApp.the.Z.top,hf:a,Wh:!0}),!1):!0}function l(){var a=e.STApp.the.T.id;if(n.R(a))if($(document.activeElement).is("body")){if(x.Nh()&&
(a=r.Ee(a),a=$("#"+a).find("[contenteditable]").first(),0<a.length))return a[0].focus(),!1}else window.setTimeout(function(){var a=$(document.activeElement);if(a=e.STApp.the.C.view.Mc(a))e.STApp.the.C.Ta(d.Ad(a.c)),b.Ga("editing_node: "+a.c)},10);return!0}var k=this;this.Hr=new Map;this.ba("backspace",function(){g.lq?e.STApp.the.Z.ZF():e.STApp.the.Z.aG();return!1},{da:!0,global:!1,xb:!0});n.zr(function(a){k.ba(a,h(a),{da:!0})},"left","right","up","down");n.Lz(function(a){k.ba(a,"shift+up"===a?h("up-siblings"):
h("down-siblings"),{da:!0})});n.zr(function(a){k.ba("mod+shift+"+a,f(a),{da:!0,global:!1,xb:!0})},"up","down","left","right");this.ba("mod+esc",function(){return n.R(e.STApp.the.T.id)?(e.STApp.the.C.Ta(d.Ad(null)),!0):!1},{da:!0,global:!0});this.ba("esc",function(){"none"!==$("#structure-together-keyboard-shortcuts").css("display")&&$("#structure-together-keyboard-shortcuts").css("display","none");var a=$(document.activeElement);if(a.is("document")){var c=e.STApp.the.T.id;if(n.F(c))return b.uc("DOES THIS EVER HAPPEN?"),
m();b.Ga("Here?");e.STApp.the.C.Ta(d.Ad(null));return!0}a.blur();if(!e.STApp.the.C||!e.STApp.the.C.view)return!1;c=e.STApp.the.T.id;a=e.STApp.the.C.view.Mc(a);if(n.R(a)){if(n.R(c)){if(c===a.c)return m();e.STApp.the.C.Ta(d.Ad(a.c));return!0}e.STApp.the.C.Ta(d.Ad(a.c));return!0}b.Ga("calling unzoomThenRebuildOrNothing");return m()},{da:!0,global:!0});this.ba("p",function(){var a=e.STApp.the.T.id;return a?(e.STApp.the.C.Ta({name:"TogglePanelHidden",nodeid:a}),!1):!0},{da:!0,xb:!0});this.ba("shift+p",
function(){$("#close-all-panels-button").click();return!0},{da:!0,xb:!1});this.ba("mod+left",function(){return _.endsWith(window.location.href,"index.html")?(b.dwarn("Preventing back shortcut from exiting app."),!1):!0},{da:!0});this.ba("mod+c",function(){var a=e.STApp.the.T.id;return a?(e.STApp.the.Z.ub({name:"CopyNode",nodeid:a,co:!1}),!1):!0},{da:!0,xb:!0});this.ba("mod+alt+c",function(){var a=e.STApp.the.T.id;return a?(e.STApp.the.Z.ub({name:"CopyNode",nodeid:a,co:!0}),!1):!0},{da:!0,xb:!0});
this.ba("shift+mod+v",function(){var a=e.STApp.the.T.id,b=e.STApp.the.Z.D.node_clipboard;return a&&b?(e.STApp.the.Z.ub({name:"PasteNode",Hk:a}),!1):!0},{da:!0,xb:!0});this.ba("mod+v",function(){var a=e.STApp.the.T.id,b=e.STApp.the.Z.D.node_clipboard;return a&&b?(b.m.G(a),e.STApp.the.Z.ub({name:"PasteNodeAsNextUnnamedSiblingOf",Zu:a}),!1):!0},{da:!0,xb:!0});this.ba("r",function(){var a=e.STApp.the.T.id;a?(b.dlog("updateSubtree from Mousetrap r"),e.STApp.the.C.Yb(a)):(b.dlog("buildVMAndRender from Mousetrap r"),
e.STApp.the.C.Ba(!0,1));return!1},{da:!0,global:!1});this.ba("ctrl+r",function(){e.STApp.the.C.reload();return!1},{da:!0,global:!0});this.ba("space",function(){if(r.Zt())return!0;var a=e.STApp.the.T.id;if(a){var c=e.STApp.the.T.node;if(c.we())return $("#"+r.Qr(a)).click(),!1;if(c.xa(p.o.Jf))return b.derr("TODO: look for existing <select> first"),a=$("#"+a+"_NodeAlwaysShownPart").find(".simple-inline-ref"),c=a.prev(),c.is("select")||(a.click(),c=a.prev()),c.focus(),!1}return!0},{da:!0,global:!1});
this.ba("shift+return",function(){var a=e.STApp.the.T.node;return a?(e.STApp.the.Z.ub({name:"NewUnnamedNode",nodetype:a.O.qo,parent:a,hf:null,Wh:!0}),!1):!0},{da:!0,global:!0,xb:!0});this.ba("return",c,{da:!0,global:!1,xb:!0});this.ba("meta+return",function(){switch(e.STApp.the.Be.O.Fr){case "defn freeform":return a();case "global add sibling":return c()}return!0},{da:!0,global:!0,xb:!0});this.ba("l",function(){$("#load-file-button").click();return!1},{da:!1,global:!1});this.ba("u",function(){$("#structure-together-user-mode").click();
return!1},{da:!1,global:!1});this.ba("mod+z",function(){e.STApp.the.Z.undo();return!1},{da:!0,xb:!0});this.ba("mod+shift+z",function(){e.STApp.the.Z.redo();return!1},{da:!0,xb:!0});this.ba("?",function(){$("#structure-together-keyboard-shortcuts-button").click();return!1},{da:!0,xb:!1});this.ba("z",function(){var a=e.STApp.the.Be;if(a){var b=e.STApp.the.T.id;if(n.F(b)&&n.R(a.D.ah))return a.Lo(),a.bb.np(),e.STApp.the.C.Pk(),!1;if(null!=b)return a.D.ah===b?(a.bb.np(),a.Lo(),e.STApp.the.C.Pk()):(a.bb.zoom(b),
e.STApp.the.C.Qk()),!1}return!0},{da:!0,global:!1});this.ba("s",function(){var a=e.STApp.the.Be;if(a){var b=e.STApp.the.T.id;if(n.R(b)&&a.bb.Qu(b))return e.STApp.the.C.Qk(),!1}return!0},{da:!0,global:!1});this.ba("shift",function(){window.structure_together.Uo=!0;var a=$("#add-node-buttons-bar"),b=$("#add-sibling-node-buttons-bar");a.show();b.is(g.Ja.Gn)||b.hide();return!0},{da:!0,global:!1,un:"keydown"});this.ba("shift",function(){window.structure_together.Uo=!1;var a=$("#add-node-buttons-bar");
$("#add-sibling-node-buttons-bar").show();a.is(g.Ja.Gn)||a.hide();return!0},{da:!0,global:!1,un:"keyup"});this.ba("shift+left",function(){b.timerStart("seqfind");var a=e.STApp.the.Be.X.gk(function(a){return a.xa(p.o.Ic)});b.timerEnd("seqfind");if(1===a.length)return a=a[0],e.STApp.the.Z.ub({name:"SeqIndexChange",nodeid:a.c,value:a.index-1}),!1;console.warn("0 or more than 1 Seq node, so not allowing shortcut.");return!0},{da:!0,global:!1});this.ba("shift+right",function(){b.timerStart("seqfind");
var a=e.STApp.the.Be.X.gk(function(a){return a.xa(p.o.Ic)});b.timerEnd("seqfind");if(1===a.length)return a=a[0],e.STApp.the.Z.ub({name:"SeqIndexChange",nodeid:a.c,value:a.index+1}),!1;console.warn("0 or more than 1 Seq node, so not allowing shortcut.");return!0},{da:!0,global:!1});this.ba("tab",l,{da:!0,global:!0});this.ba("shift+tab",l,{da:!0,global:!0});this.ba("i",function(){v.stwidgets.inlineEditing.toggle();return!1},{da:!0,global:!1,xb:!0});this.ba("m",function(){$(v.stwidgets.showMutidForms.Ca).click();
return!1},{da:!0,xb:!0});this.ba("shift+mod+c",function(){var a=e.STApp.the.T.id;return a?(a=r.Ee(a),$("#"+a).contextMenu(),!1):!0},{da:!0,global:!0})};return c}(k.Lf);c.Qw=a},function(k,c,a){var m=a(249),h=a(4),f=a(190),l=a(3),n=a(189);c.Zm=function(a,b,c){void 0===c&&(c=!1);var d=null;h.R(a)&&$(n.Sb(a)+">."+m.Ja.Bq).removeClass(m.Ja.xk);h.R(b)&&(d=$(n.Sb(b)),d.children("."+m.Ja.Bq).addClass(m.Ja.xk));l.STApp.the.C.Ba(!0,0);c&&f.os(d);d&&!f.qD(d[0])&&c&&h.Zi("focus-autoscroll",function(){return f.Ez(d)},
100)}},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(258);var h=a(273),f=a(256),l=a(5),n=a(286),g=a(4),b=a(264),d=a(13),e=a(289),p=a(8),u=a(14),r=a(7),v=a(9),x=a(46),t=a(287),y=a(250),A=a(3),z=a(10);a=
function(a){function c(b,k,m,y){var t=a.call(this,b,k,m,y)||this;t.Ei=!1;t.ZP=!1;t.He={tc:new Set,bf:new Set,Xg:null};t.NL=new Map;t.fp=f.Ww(function(){return new Set});t.ep=f.Ow(function(){return new Set});t.lp={ha:function(a,b){r.dlogcat(v.LogTypes.gb,"SyncingEditableString model change, event: ",b);if(!b.isLocal){r.dwarn("unstable_object_change_listeners.editableString and evt.isLocal is "+b.isLocal);var c=a.getText();t.rv(a,c)}r.dlog(b);r.Ga(b.oldValue,a.getText());if(b.oldValue===a.getText())r.uc("Skipping flatprop_change_listeners in editableStrings because newval not different from old val");
else{var d=t.m.Bk(a);if(d){var e=d.H;if(e.flatprop_change_listeners){var f=d.ha.mC(a);g.R(f)&&(d.lb(f)||g.fa(e.allowed_flatprops,f))&&e.flatprop_change_listeners[f]&&g.Zi(d.c+f,function(){e.flatprop_change_listeners[f](d)},1E3,!0)}b.isLocal||t.Yb(d,0,0)}else r.dlog("Could not find node containing editable string. This might be due to having just pasted a node. The string: ",a)}},yc:function(a,b){r.dlogcat(v.LogTypes.gb,"SyncingList model change, event: ",b);b.isLocal||b.type!==z.EventType.VALUES_ADDED||
(r.dwarn("NONLOCAL list edit event. This code is highly untested."),b.values.forEach(function(b){"object"===typeof b&&b.type===z.Mb.Map&&(b=t.m.Bk(a),t.m.ke(b.Va))}));r.dlog("Maybe soon calling updateHangingSubtree from unstable_object_change_listeners.lists");var c=t.m.Bk(a);if(!c)return r.dassert(t.m.jf(a),"Didn't find containing node for this SyncingList, AND it's not in the set stdoc.cache.detachedSyncingObjects: ",a),null;c.xa(d.o.Ic)&&(r.derr(" what? when does this happen? "),t.Lm(function(){c.fl()}));
t.rb(c.c,0,1,!0)},zb:function(a,b){var c=e.gj.nC(b);if(c===v.SystPropNames.nodetype)return r.dlogcat(v.LogTypes.gb,"NOTE: cautiously (probably unnecessarily) ignoring change event for system string property "+v.SystPropNames.nodetype+"."),r.dlogcat(v.LogTypes.gb,b),null;r.dlogcat(v.LogTypes.gb,"SyncingMap change event for property "+c+" of umap "+a.id+".",0);var d;if(a.has(v.SystPropNames.nodetype)){a=p.ff(a);d=t.m.G(a);if(g.F(d))return r.dlogcat(v.LogTypes.gb,"umap with permid "+a+" is not registered with the STDoc yet, so stop processing this event. The event that adds this umap to the tree is still-to-come."),
r.dlogcat(v.LogTypes.gb,'previously but no longer: "SIKE: going to try to create the STNode now."'),null;r.dassert(!g.F(d),"umap with permid "+a+" is not registered with the doc. This happened while processing umap edit for property name "+c+".");r.dlogcat(v.LogTypes.gb,"node-map model change, event: ",b);if(c===v.SystPropNames.ch||c===v.SystPropNames.nch)r.dlogcat(v.LogTypes.gb,"probably .ch or .nch was added or removed (not a change _within_ .nch): ",b,"Don't need to do anything extra.");else if(a=
d.H,d.lb(c)||g.fa(a.allowed_flatprops,c)){if(a.flatprop_change_listeners&&a.flatprop_change_listeners[c])a.flatprop_change_listeners[c](d,b);d.P.mb(c)?g.fa(a.allowed_flatprops,c)?g.Zf(a.allowed_flatprops[c],3,4,5)?b.isLocal||(a=d.P.v(c),t.qv(d,c,a)):r.derr("node "+d.c+" of nodetype "+d.nodetype+" has immutable string prop "+c+" but "+d.nodetype+".allowed_flatprops["+c+"] === "+a.allowed_flatprops[c]+" is not a legal value"):console.error("expected "+c+" to be a key of "+a.nodetype_name+".allowed_flatprops"):
d.ha.bi(c)?(r.dlogcat(v.LogTypes.gb,"EditableString "+c+" added",0),r.dlog("Todo: are nonlocal persistent editable string changes handled yet?")):d.ea.mb(c)?(r.dlogcat(v.LogTypes.gb,"boolean "+c+" added",0),r.dlog("Todo: are nonlocal persistent boolean changes handled yet?")):d.nc.mb(c)?(r.dlogcat(v.LogTypes.gb,"number "+c+" added",0),r.dlog("Todo: are nonlocal persistent number changes handled yet?")):r.dwarn("probably a flatprop "+c+" was just deleted.")}else b.isLocal?console.warn("doing nothing on hearing this LOCAL map change event: ",
b):console.warn("This event may be from deleting a property in a nodetype conversion, because "+c+" is not a property of this node",d,b)}else(d=t.m.Bk(a))?d.zb.v(v.SystPropNames.nch)===a?r.dlogcat(v.LogTypes.gb,"nch-map model change, event: ",b):console.error("What is this SharedMap? Doesn't seem to be a node or a named children map",a):a.has(l.cm.Qe)?r.dlogcat(v.LogTypes.gb,"root node umap model change, event: ",b):"root"===a.id&&r.dlog('"root" umap change event'),r.dassert(t.m.jf(a));b.isLocal||
(r.dwarn("NONLOCAL event: ",b),t.Ba(!1,2))}};r.dlogcat(v.LogTypes.wa,"Entering SimpleReactDocController constructor with plugin_options "+y);r.assert_nt(arguments);t.Na=new n.Kv(b);t.view=new h.Lx(b,t,k);A.STApp.the.Ka.al(b.stdocid,function(a){return t.bA(a)});t.YC();structure_together.renderFromTop=function(){t.Ba(!0,1)};t.Lm(function(){r.dlogcat(v.LogTypes.bs,"Handling initial Seq nodes");t.m.X.hc(function(a){a.xa(d.o.Ic)&&a.fl()})});g.cl(c,t);return t}m(c,a);c.prototype.yo=function(){return null!==
this.He.Xg};c.prototype.ou=function(){var a=this.He;0<a.tc.size&&a.tc.clear();0<a.bf.size&&a.bf.clear();a.Xg=null};c.prototype.destroy=function(){a.prototype.destroy.call(this);x.unmountComponentAtNode($("#"+b.Gf.Pe)[0]);c.the=null;r.dlog("Just did SimpleReactDocController.the = null")};c.prototype.reload=function(){r.dlogcat(v.LogTypes.wa,"Entering SimpleReactDocController.reload()");this.destroy();this.m.cache.Au.clear();this.m.Ho();this.m.Ma.Xm();new c(this.m,this.No,this.app_plugin_instances,
this.Fi);c.the.Ba(!0,1)};c.prototype.LF=function(a,b){var c=this;void 0===a&&(a=!1);r.dlogcat(v.LogTypes.wa,"Entering STController.queueBuildVMAndRender(immediate="+a+", vut="+b+") with DocView "+this.view.kl);y.Jo();r.weakassert(null!=this.m.top,"Doc should have its Top node before render is called");null!=this.m.top&&(a?(a=this.Na.vl(this.Na.kc,b),this.Na.kc=a,this.To(a),this.Ei=!1):this.Ei||(this.Ei=!0,window.setTimeout(function(){if(c.Ei){var a=c.Na.vl(c.Na.kc,b);c.Na.kc=a;c.To(a);c.Ei=!1}},v.DELAY_FOR_QUEUE_SETSTATE)))};
c.prototype.Ba=function(a,b){void 0===a&&(a=!1);r.dlogcat(v.LogTypes.wa,"Entering SimpleReactDocController.buildVMAndRender(immediate="+a+", vut="+b+")");this.LF(a,b)};c.prototype.rA=function(a){console.log(this.Na.oo(a,null,1,Infinity,!1))};c.prototype.Xu=function(a){this.Na.Tc&&console.log(this.Na.Tc.get(a.c))};c.prototype.To=function(a){var b=this;this.view.setState(a,function(){b.uG()})};c.prototype.pv=function(a){this.Yb(a,0,0)};c.prototype.rb=function(a,b,c,e,g){void 0===e&&(e=!0);void 0===
g&&(g=!1);r.assert_nt(a);var f=this.m.Rc(a);if(!g&&u.stwidgets.fasterReactive.getValue())r.dlog("doing updateSubtree("+f.c+", "+b+", "+c+") instead of updateHangingSubtree"),this.Yb(f,b,c);else{r.dlogcat(v.LogTypes.wa,"Entering updateHangingSubtree("+a+", "+b+", "+c+")");r.timerStart("updateHangingSubtree("+f.c+","+b+","+c+")");this.ou();var h=this.He;h.Xg=f.c;f.En(function(a){h.tc.add(a.c)});0<b&&f.xa(d.o.Cd)&&f.ng(function(a){h.bf.add(a.c)},b);r.dlog("updateHangingSubtree: "+h.tc.size+" ancestors, "+
h.bf.size+" descendants.");y.Jo();this.Ba(e,3);r.timerEnd("updateHangingSubtree("+f.c+","+b+","+c+")")}};c.prototype.Yb=function(a,b,c){void 0===b&&(b=Infinity);void 0===c&&(c=Infinity);r.assert_nt(a);a=this.m.Rc(a);r.timerStart("updateSubtree("+a.c+","+b+","+c+")");if(this.Na.Tc){var e=this.Na.Tc.get(a.c);if(e){this.ou();var g=this.He;g.Xg=a.c;0<b&&a.xa(d.o.Cd)&&a.ng(function(a){g.bf.add(a.c)},b);a.En(function(a){g.tc.add(a.c)});var f=null;a.parentNode&&(f=a.parentNode.mk(a));t.wj&&this.Na.Si.clear();
f=this.Na.oo(a,f,3,c,!0);r.dassert(f===e);r.timerEnd("updateSubtree("+a.c+","+b+","+c+")");y.Jo();this.Na.kc.refreshtype=2;this.To(this.Na.kc)}else r.derr("Can't do partial rebuild at node "+a.c+" because it has no VM in the cache. Doing full doc rebuild instead."),this.Ba(!0,2)}else r.derr("Can't do partial rebuild at node "+a.c+" because NodeVM cache is disabled. Doing full doc rebuild instead."),this.Ba(!0,2)};c.prototype.qv=function(a,b,c){var d=this.fp.rg(a.c,b);0===d.size?b!==v.SystPropNames.hd&&
r.dwarn("Didn't find <input> element for "+a.c+"."+b+".\nThis probably just means the current event is the initial adding of this string prop.\nOR that React just hasn't rendered that input form yet."):(r.dlogcat(v.LogTypes.gb,"Found "+d.size+" <input> elements for "+a.c+"."+b+"."),d.forEach(function(a){a=$(a);a.val()!==c&&a.val(c)}))};c.prototype.rv=function(a,b){r.dlog("updateNoncontrolledTextareaForms");var c=this.ep.get(a.id);r.dlogcat(v.LogTypes.Vs,"Found "+c.size+" <textarea> element for EditableString "+
a.id+":");c.forEach(function(a){r.dlogcat(v.LogTypes.Vs,"\t",a);a=$(a);a.val()!==b&&a.val(b)})};return c}(k.Hv);c.Kf=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=a(7);k=a(18);var f=a(248),l=a(264),n=
a(272),g=a(249),b=a(9),d=a(269),e=a(19),p=a(46),u=a(250),r=a(3),v=a(274),x=a(15);a=function(a){function c(b,c,d){void 0===d&&(d=l.Gf.Pe);b=a.call(this,b,d)||this;b.Uu=0;c=e.createElement(t,{});b.Ku=p.render(c,b.bh[0]);return b}m(c,a);c.prototype.setState=function(a,c){h.dassert(null!=a,"Null VM given to RGuiPSTDocView.setState");this.Uu++;h.dlogcat(b.LogTypes.Ld,"DocView.setState called, refreshtype === "+g.hx[a.refreshtype]+" ("+this.Uu+" times, DocView id "+this.kl+")");c?this.Ku.setState(a,c):
this.Ku.setState(a)};return c}(l.Gf);c.Lx=a;var t=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);Object.defineProperty(c.prototype,"controller",{get:function(){return n.Kf.the},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"wstdoc",{get:function(){return this.state?r.STApp.the.jk(this.state.stdocid):null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"rstdoc",{get:function(){return this.B},enumerable:!0,configurable:!0});c.prototype.getChildContext=
function(){return{changedset:this.state?this.state.changedset:void 0,refreshtype:this.state?this.state.refreshtype:0,stdocid:this.state?this.state.stdocid:void 0}};c.prototype.cF=function(){this.B.undo();n.Kf.the.Ba(!1,2)};c.prototype.bF=function(){this.B.redo();n.Kf.the.Ba(!1,2)};c.prototype.Et=function(a,b,c,d,e){var h=this;c.forEach(function(c){e.push(f.Ud({key:c,className:g.Ja.mq,onClick:function(d){h.B.ub({name:"NewUnnamedNodeAtIndex",nodetype:c,parent:a,index:b});d.stopPropagation()}},c))});
d.forEach(function(c){e.push(f.Ud({key:c,className:g.Ja.mq,onClick:function(d){h.B.ub({name:"NewUnnamedNodeStub",hd:c,parent:a.c,index:b});d.stopPropagation()}},c))})};c.prototype.render=function(){var a=this;window.structure_together.debug.Po=0;h.timerStart("DocView render");try{if(this.state){var c=void 0,l=e.createElement(v.qj,this.state.topnodevm);if(x.inEditMode()){var k=[],m=[],n=void 0,n=this.state._focused_nodeid?r.STApp.the.T.node:this.Wb.top;if(this.Wb.top.ea.v(b.SystPropNames.Mj,{gf:!0})&&
(n.Od()&&this.Et(n,0,this.state.concrete_nodetypes_for_add_buttons,this.state.abstract_nodetypes_for_add_buttons,k),n.parentNode)){var p=n.tg();"string"===typeof p&&(p=0);this.Et(n.parentNode,p,this.state.concrete_nodetypes_for_add_sibling_buttons,this.state.abstract_nodetypes_for_add_sibling_buttons,m)}var y=f.l({key:"undo-redo-buttons",id:"undo-redo-buttons"},f.Ud({key:"undoButton",onClick:function(){return a.cF()},disabled:!this.state._canundo},"Undo"),f.Ud({key:"redoButton",onClick:function(){return a.bF()},
disabled:!this.state._canredo},"Redo")),t=window.structure_together.Uo?"inline":"none",u=window.structure_together.Uo?"none":"inline",p="";n===this.Wb.top&&(t="inline",p=g.Ja.Gn);c=f.Wa({id:"bottom_fixed_pos_buttons_bar"},y,f.l({id:"add-node-buttons-bar",style:{display:t},className:p},k),f.l({id:"add-sibling-node-buttons-bar",style:{display:u},className:p},m))}k=void 0;this.state.filtering_nodes&&(k=f.Ud({key:"cancel-filtering",id:"cancel-filtering",onClick:function(b){b.stopPropagation();a.B.bb.Sr()},
style:{display:"block"}},"clear search"));return f.Wa({onClick:function(b){h.dwarn("click heard on document div");null!=r.STApp.the.T.id&&(a.controller.Ta(d.Ad(null)),b.stopPropagation(),b.preventDefault())}},c,k,l)}h.dlog("DocStatefulRootComponent is null");return null}catch(K){return h.derr("Exception during DocStatefulRootComponent.render",K),null}};c.prototype.componentDidMount=function(){var a=this;window.setTimeout(function(){h.dlogcat(b.LogTypes.Ld,b.DELAY_FOR_AFTER_FIRST_RENDER_CALLBACKS+
" ms after first setState call. Running callbacks.");a.controller.tG()},b.DELAY_FOR_AFTER_FIRST_RENDER_CALLBACKS)};c.prototype.componentDidUpdate=function(){u.dH();h.timerEnd("DocView render");window.structure_together.logging.logTypeActive(b.LogTypes.xv)&&console.log("\n")};return c}(e.Component);t.childContextTypes=k.av;c.DocStatefulRootComponent=t},function(k,c,a){function m(a,b){var c=null;switch(p.stwidgets.showNodeIdsSelect.value){case "short":c=n.l({key:"id-container",style:{marginLeft:"5px"}},
b);break;case "long":c=n.l({key:"id-container",style:{marginLeft:"5px"}},a);break;case "short on hover":c=n.l({key:"id-container",className:"STNodeView-id-container"},b);break;case "long on hover":c=n.l({key:"id-container",className:"STNodeView-id-container"},a)}return c}var h=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=
b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),f=a(7),l=a(4),n=a(248);k=a(18);var g=a(275),b=a(284),d=a(285),e=a(249),p=a(14),u=a(9),r=a(269),v=a(19),x=a(247),t=a(250),y=a(13),A=a(3),z=a(189),C=a(15);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.gu=function(a){var c=b.props.nodeid;e.lq?b.Wt?b.controller.Ta(r.Ad(null)):b.controller.Ta(r.Ad(c)):(f.dassert(!1,"Shouldn't be using this... NodeSelected is out of date"),b.controller.Ta({name:"ToggleNodeSelected",
nodeid:c}));a.stopPropagation()};return b}h(c,a);Object.defineProperty(c.prototype,"childrenCollapsed",{get:function(){try{return!!this.Wb.G(this.props.nodeid).oa}catch(F){return console.error("Check NodeView.childrenCollapsed"),!1}},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"panelHidden",{get:function(){try{return this.Wb.G(this.props.nodeid).D.panel_hidden}catch(F){return console.error("Check NodeView.panelHidden"),!1}},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"nodeSelected",{get:function(){try{return this.Wb.G(this.props.nodeid).D.selected}catch(F){return console.error("Check NodeView.nodeSelected"),!1}},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"nodeFocused",{get:function(){return A.STApp.the.T.id===this.props.nodeid&&A.STApp.the.Z.stdocid===this.Wb.stdocid},enumerable:!0,configurable:!0});c.prototype.K=function(){var a=this;if(this.props.nodetype===y.o.Cb)return this.GG();l.F(this.context.stdocid)&&f.dwarn("this.context.stdocid is trivial");
f.dassert(6===this.props.coarse_vmtype);f.dlogcat(u.LogTypes.Sk,"render for node  "+this.props.nodeid+" with props and state: ",this.props,this.state);t.QC();var c=this.props.nodeid,h=this.props.nodetype,k=this.props.stdocid!==this.context.stdocid,r="STNodeView";if(!p.stwidgets.showHiddenCheckbox.getValue())try{this.props.hidden?r+=" hidden-node":this.props.panel&&this.props.panel.flatprops&&this.props.panel.flatprops.some(function(a){return!l.F(a)&&a.label===u.SystPropNames.hidden&&a.form.value})&&
(r+=" hidden-node")}catch(T){f.dwarn("Exception while looking for "+u.SystPropNames.hidden+" BoolPropVM: ",T)}2===this.props.filter_status&&(r+=" filtered-out");var A=null;this.props.inlining?A=x.J(this.B.stdocid,this.props.inlining,h):f.dwarn("Node "+c+" has no props.inlining");var B=this.props.panel,E=null;if(B&&!this.panelHidden&&!k)try{E=n.Wa({hidden:this.panelHidden},v.createElement(g.ex,B))}catch(T){console.error("Error while rendering panel of "+h+" node."),E=n.l({key:"panel"},"error...")}var Q=
this.props.nch,B=null;if(Q&&Q.nodevms)try{B=n.Wa({hidden:this.childrenCollapsed,id:this.props.nodeid+"_nch_container"},v.createElement(b.rw,Q))}catch(T){console.error("Error while rendering named children of "+h+" node."),B=n.l({key:".nch"},"error...")}var N=this.props.ch,Q=null;if(N&&N.nodevms)try{Q=n.Wa({hidden:this.childrenCollapsed,id:z.Ee(this.props.nodeid)+"_ch_container"},v.createElement(d.nx,N))}catch(T){console.error("Error while rendering unnamed children of "+h+" node."),Q=n.l({key:".ch"},
"error...")}var h=z.Ee(c),M;if(this.props.has_unhidden_children){M=void 0;M=this.childrenCollapsed?"children-show-hide-trigger fa-li fa fa-caret-right":"children-show-hide-trigger fa-li fa fa-caret-down";var P=z.Qr(c);M=n.l({id:P,key:"expand-collapse-icon",className:M,onClick:function(b){b.target.id===P&&(a.controller.Ta({name:"ToggleChildrenShown",nodeid:c}),b.stopPropagation(),b.preventDefault())}})}this.childrenCollapsed&&(r+=" children-collapsed");var r=this.props.continued?r+" no-li-marker paragraph-continuation":
this.props.has_unhidden_children?r+" with-children":p.stwidgets.showBullets.getValue()?r+" no-children":r+" no-li-marker",O;this.props.refable&&this.props.has_refs&&(O=n.Hu({key:"locbutton",className:"fa fa-search st-locbutton",style:{display:"inline",marginLeft:"5px"},tabIndex:-1,onClick:function(b){a.B.bb.Qu(c);a.controller.Qk();b.stopPropagation();b.preventDefault()}},null));var S;p.stwidgets.showZoomButtons.getValue()&&(S=n.Hu({key:"zoombutton",className:"fa fa-search-plus st-zoombutton",style:{marginLeft:"5px"},
tabIndex:-1,onClick:function(b){a.B.bb.zoom(c);a.controller.Qk();b.stopPropagation();b.preventDefault()}},null));A=n.l({id:c+"_NodeAlwaysShownPart",className:"NodeAlwaysShownPart",key:c+"_NodeNoncollapsible"},A);N=null;if(O||S)N=[],O&&N.push(O),S&&N.push(S),N=n.l({key:"readmode_buttons",className:"edit-icons"},N);O=null;C.inEditMode()&&!k&&(k=[],p.stwidgets.showPanelToggleButtons.getValue()&&k.push(n.l({id:c+"panel-show-hide-trigger",key:this.panelHidden?"startedit":"finishedit",className:this.panelHidden?
"fa fa-pencil st-panelbutton":"fa fa-check st-panelbutton",style:{marginLeft:"5px"},onClick:function(b){b.target.id===c+"panel-show-hide-trigger"&&(f.dlogcat(u.LogTypes.Sk,"Clicked "+a.props.nodenumid+"'s fa-pencil or fa-check icon. Value of this.panelHidden will be switched from: "+a.panelHidden+"."),a.controller.Ta({name:"TogglePanelHidden",nodeid:c}),b.stopPropagation(),b.preventDefault())}},null)),!0===this.props.isUnnamedChild&&p.stwidgets.showDragHandles.getValue()&&k.push(n.l({key:"move",className:"fa fa-bars st-draghandle"},
null)),p.stwidgets.showRefreshButtons.getValue()&&k.push(n.l({key:"refresh",className:"fa fa-refresh st-refresh-button",onClick:function(b){a.controller.Yb(c);b.preventDefault();b.stopPropagation()}},null)),this.Wb.rH(c)&&k.push(n.l({key:"recursive-unlink",className:"fa fa-chain-broken",onClick:function(b){a.pb({name:"Unlink",nodeid:c,Ki:!0,Rg:null});b.preventDefault();b.stopPropagation()}},null)),O=n.l({key:"edit-icons",className:"edit-icons"},k));k=m(this.props.nodeid,this.props.nodenumid);S="STNodeView-inner-container"+
(this.ME?" "+e.Ja.Yt:"")+(this.Wt?" "+e.Ja.xk:"");var R="nodeview-without-children-and-panel";3===this.props.filter_status&&(R+=" ancestor_of_filtered_in");this.props.emphasize&&(S+=" STEmphasizedSubtree");this.props.demphasize&&(R+=" STDemphasizedSubtree");this.props.emphasize_shallow&&(R+=" STEmphasizedNode");var U=n.Iu;this.props.isRoot&&(U=n.Wa,r+="stdoc-title",3===this.props.filter_status&&(r+=" ancestor_of_filtered_in"));return U({id:h,key:c,"data-depth":this.props.depth,className:r,onClick:this.gu},
n.Wa({className:S,key:"STNodeView-inner-container",id:"li-inner-cont-"+c},n.OF({key:"anchor",name:c},null),n.Wa({key:"nodeview-without-children-and-panel",className:R},M,A,N,O,k),E,B,Q))};c.prototype.shouldComponentUpdate=function(b,c,d){return a.prototype.shouldComponentUpdate.call(this,b,c,d)};c.prototype.GG=function(){var a=[];p.stwidgets.showDragHandles.getValue()&&a.push(n.l({key:"draghandle",className:"fa fa-bars st-draghandle"},null));var b="STNodeView-inner-container"+(this.ME?" "+e.Ja.Yt:
"")+(this.Wt?" "+e.Ja.xk:""),c="st-separator";2===this.props.filter_status&&(c+=" filtered-out");return n.Iu({key:this.props.nodeid,"data-depth":this.props.depth,onClick:this.gu,id:z.Ee(this.props.nodeid),className:c},n.l({className:b,style:{display:"flex"}},n.Gu({key:"hr",style:{width:"100%",display:"inline"}}),n.l({key:"edit-icons",className:"edit-icons"},a)))};return c}(k.L);c.qj=a;structure_together.qj=a;c.aQ=m},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(18);var h=a(276),f=a(19),l=a(248),n=a(250);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){n.RC();var a=[];this.props.flatprops&&this.props.flatprops.forEach(function(b){b&&a.push(f.createElement(h.sw,
b))});return l.Wa({key:this.props.nodeid+"-panel",className:"HideablePropertyPanel",hidden:!this.props.visible},a)};return b}(k.L);c.ex=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=a(248);k=a(18);var f=
a(249),l=a(277),n=a(15);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=this,b=[];n.inEditMode()&&b.push(h.l({key:"delete-button",className:"fa fa-times",style:{marginRight:"5px"},onClick:function(b){b.currentTarget===b.target&&(a.pb({name:"DeleteFlatProp",nodeid:a.props.nodeid,label:a.props.label}),b.stopPropagation(),b.preventDefault())}},null));b.push(h.l({className:f.Ja.bx,key:"label"},this.props.display_name||this.props.label));
b.push(l.gB(this.props.form));return h.Wa({className:f.Ja.tw,key:this.props.label+".editview"},b)};return b}(k.L);c.sw=a},function(k,c,a){function m(a){switch(a.formtype){case 4:return u.createElement(h.iw,a);case 2:return u.createElement(g.zw,a);case 3:return u.createElement(n.yw,a);default:throw Error("unsupported value of StringPropFormVM.formtype: "+a.formtype);}}var h=a(278),f=a(279),l=a(274),n=a(280),g=a(281),b=a(7),d=a(4),e=a(282),p=a(283),u=a(19);c.Tr=function(a){b.assert_nt(a);switch(a.coarse_vmtype){case 7:return f.Rw;
case 6:return l.qj}throw new d.oc;};c.gB=function(a){switch(a.formtype){case 0:return u.createElement(e.Lv,a);case 1:return u.createElement(p.Tw,a);default:return m(a)}};c.wM=m},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,
new d)}}();k=a(18);var h=a(248),f=a(7),l=a(46);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){var a=this,c=this.props.value,e=this.props.nodeid,g=this.props.label,k=h.sG({key:this.props.label+"-input",className:"EditableStringPropView",defaultValue:c,style:{width:this.props.initial_width?this.props.initial_width:null},onBlur:function(b){b=b.target.value;b!==c&&(c=b,a.pb({name:"EditableStringPropChange",nodeid:e,label:g,value:b}))},onFocus:function(){f.dlog("textaarea onFocus");
autosize(l.findDOMNode(a))}});return this.props.fromFlatPropLinkOfNode?h.l({key:this.props.label+"-withbreakbutton"},k,h.l({key:"breaklink",className:"fa fa-chain-broken",onClick:function(b){var c=a.Wb.G(a.props.fromFlatPropLinkOfNode);a.pb({name:"Unlink",nodeid:c.c,Ki:!1,Rg:g});b.stopPropagation();b.preventDefault()}})):k};c.prototype.componentDidMount=function(){var a=l.findDOMNode(this);this.controller.ep.get(this.props.uobjid).add(a);(this.props.forInlineEditing||this.props.isLastSelected)&&$(a).focus()};
c.prototype.componentWillUnmount=function(){var a=this.controller.ep;a.has(this.props.uobjid)?a.delete(this.props.uobjid):console.warn("Expected textarea element associated with EditableString object "+this.props.uobjid+" not found.")};return c}(k.L);c.iw=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(c,b){function d(){this.constructor=
c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),h=a(7),f=a(248);k=a(18);var l=a(249);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){var a=this;h.dassert(7===this.props.coarse_vmtype);var c=this.props.node_class_names.map(function(b){return f.Ud({className:l.Ja.oq,key:b,onClick:function(c){a.pb({name:"NodeStubChoice",Rj:b,parentid:a.props.parentid,ji:a.props.stubs_label_or_ind,nodes_ind:a.props.nodes_ind});
c.stopPropagation()}},b)});c.push(f.Ud({className:l.Ja.oq+" "+l.Ja.nq,key:"cancel node stub",onClick:function(b){a.pb({name:"NodeStubChoice",Rj:null,parentid:a.props.parentid,ji:a.props.stubs_label_or_ind,nodes_ind:a.props.nodes_ind});b.stopPropagation()}},"Cancel"));return f.Wa(null,c)};return c}(k.L);c.Rw=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&
(a[b]=c[b])};return function(c,g){function b(){this.constructor=c}a(c,g);c.prototype=null===g?Object.create(g):(b.prototype=g.prototype,new b)}}(),h=a(248);k=a(18);var f=a(46);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){var a=this,b=this.props.label,c=this.props.nodeid,e=this.controller,f=this.props.value,l=h.Mo({key:this.props.label+"-input",type:"text",className:"ImmutableStringPropView","data-autosize-input":{vS:1},defaultValue:this.props.value,
style:{transition:"width 0.3s"},onBlur:function(d){f!==d.target.value&&(f=d.target.value,a.pb({name:"ImmutableStringPropChange",nodeid:c,label:b,value:f}))}});return this.props.fromFlatPropLinkOfNode?h.l({key:"both"+this.props.label},l,h.l({key:"breaklink",className:"fa fa-chain-broken",onClick:function(c){var d=e.m.G(a.props.fromFlatPropLinkOfNode);a.pb({name:"Unlink",nodeid:d.c,Ki:!1,Rg:b});c.stopPropagation();c.preventDefault()}})):l};c.prototype.componentDidUpdate=function(){var a=f.findDOMNode(this);
autosizeInput(a)};c.prototype.componentDidMount=function(){var a=f.findDOMNode(this);autosizeInput(a);this.controller.fp.rg(this.props.nodeid,this.props.label).add(a);(this.props.forInlineEditing||this.props.isLastSelected)&&$(a).focus()};c.prototype.componentWillUnmount=function(){var a=f.findDOMNode(this),b=this.controller.fp.rg(this.props.nodeid,this.props.label);b.has(a)?b.delete(a):console.error("In ImmutableStringPropInputFormComponent.componentWillUnmount, expected input element for one of node "+
this.props.nodeid+"'s props not found.")};return c}(k.L);c.yw=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}();k=a(18);var h=a(248),f=a(46),l=a(7);a=function(a){function c(){return null!==a&&a.apply(this,
arguments)||this}m(c,a);c.Dr=function(a){a=$(a);var b=a.find("option:selected").text();c.Ev.html(b);a.width(c.Fv.width()+c.hw)};c.prototype.K=function(){var a=this,d=this.props.value,e=this.props.label,g=this.props.nodeid,f=this.controller,k=_.map(this.props.options,function(a){return h.pG({value:a.value,key:a.value},a.display)}),d=h.qG({key:this.props.label+"-input",value:d,onChange:function(b){l.dwarn("ImmutableStringPropSelectFormComponent.handleChange on <input>");b=b.target;a.pb({name:"ImmutableStringPropChange",
nodeid:g,label:e,value:b.value});c.Dr(b)}},k);return this.props.fromFlatPropLinkOfNode?h.l({key:this.props.label+"both"},d,h.l({key:"breaklink",className:"fa fa-chain-broken",onClick:function(b){var c=f.m.G(a.props.fromFlatPropLinkOfNode);a.pb({name:"Unlink",nodeid:c.c,Ki:!1,Rg:e});b.stopPropagation();b.preventDefault()}})):d};c.prototype.componentDidUpdate=function(){var a=f.findDOMNode(this);c.Dr(a);this.props.forInlineEditing&&$(a).focus()};c.prototype.componentDidMount=function(){var a=f.findDOMNode(this);
(this.props.forInlineEditing||this.props.isLastSelected)&&$(a).focus()};return c}(k.L);a.HI=$("#width_tmp");a.Fv=$("#width_tmp_select");a.Ev=$("#width_tmp_option");a.hw=0;c.zw=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,
new d)}}();k=a(18);var h=a(7),f=a(8),l=a(248);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){var a=this,c=this.props.value,e=this.props.label,g=this.props.nodeid;return l.Mo({key:e+"-input",type:"checkbox",className:"BoolPropView",value:c,checked:c,style:{transition:"width 0.3s"},onChange:function(b){var c=b.target.checked;h.weakassert(f.isBoolean(c));a.pb({name:"BoolPropChange",nodeid:g,label:e,value:!!c});var d=b.target;window.setTimeout(function(){d.checked=
c},0);b.preventDefault();b.stopPropagation()}})};return c}(k.L);c.Lv=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(18);var h=a(7),f=a(8),l=a(4),n=a(248);a=function(a){function b(){return null!==a&&
a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=this,b=this.props.label,c=this.props.nodeid;return n.Mo({key:this.props.label+"-input",type:"number",className:"NumPropView",defaultValue:this.props.value,style:{transition:"width 0.3s"},onBlur:function(d){d=Number(d.target.value);h.dlog("this.props.value and newval:",a.props.value,d);if(l.F(d)||isNaN(d))d=0;h.weakassert(f.isNumber(d),d.toString());a.pb({name:"NumPropChange",nodeid:c,label:b,value:Number(d)})}})};return b}(k.L);c.Tw=
a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(18);var h=a(277),f=a(19),l=a(248),n=a(250),g=a(4);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){n.PC();
var a=g.XE(this.props.nodevms,function(a){return f.createElement(h.Tr(a),a)});return l.Lu({className:b.Dl+" fa-ul",hidden:!this.props.visible,key:".nch"},a)};return b}(k.L);a.Dl="FixedOrderNamedChildList";c.rw=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===
c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(18);var h=a(277),f=a(7),l=a(19),n=a(248),g=a(250);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=this;g.NC();var c;this.props.nodevms&&0<this.props.nodevms.length&&(c=Array(this.props.nodevms.length),this.props.nodevms.forEach(function(b,d){b.key||f.derr("No key prop for "+d+"-th child VM "+b.toString()+" of node "+a.props.nodeid);b=l.createElement(h.Tr(b),b);c[d]=b}));return n.Lu({key:"ch",
className:b.Dl+(this.props.fixed_order?"":" dragula-container")+" fa-ul",hidden:!this.props.visible},c)};return b}(k.L);a.Dl="ReorderableChildList";c.nx=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}();k=
a(287);var h=a(4),f=a(7),l=a(9);a=function(a){function c(b){return a.call(this,b)||this}m(c,a);c.prototype.vl=function(b,c){void 0===b&&(b=this.kc);b=a.prototype.vl.call(this,b,c);if(1===c)return b;this.ip=this.zi=this.zv=this.yv=this.rf=this.ls=this.$t=0;if(!this.kc)return f.dassert(h.F(b.changedset)),this.kc=b;0===c?(f.assert_nt(b.topnodevm),f.dlogcat(l.LogTypes.Cc,"skipped annotateObjects")):(b.changedset=new Set,f.timerStart("annotateObjects"),this.Tm(b,this.kc,!0,b.changedset),f.timerEnd("annotateObjects"),
window.structure_together.logging.logTypeActive(l.LogTypes.vF)&&console.log(this.zv+" non-empty changed VMs of "+this.yv+" total\n"+("size of docVM.changedset is "+b.changedset.size+"\n")+("Returned changed for "+this.zi+" non-VMs of "+this.rf+" non-VMs\n")+(this.ls+" empty objects and "+this.$t+" non-empty objects\n")+(this.ip+" trivial values")));return this.kc=b};c.prototype.Tm=function(a,c,e,g){f.assert_nt(a);this.$t++;e?(this.yv++,a&&c&&a.key!==c.key&&f.dwarn("newvm and oldvm keys are different: "+
a.key+", "+c.key)):this.rf++;for(var b=!1,d=h.Sd(a),k=c?h.Sd(c):null,m=0;m<d.length;m++){var n=d[m],p=a[n],n=c?c[n]:null;p instanceof Object?b=this.xr(p,n,g)||b:null==p?(this.ip++,null!=n&&(f.dwarncat(l.LogTypes.Cc,"newval trivial and oldval not: ",n),b=!0)):(this.rf++,null==n?(b=!0,f.dwarncat(l.LogTypes.Cc,"oldval trivial and newval not: ",p)):b||p===n||(f.dwarncat(l.LogTypes.Cc,"Unequal non-null non-objects:\n",p,n),b=!0))}if(k)for(m=0;m<k.length;m++)n=k[m],h.fa(a,n)||(f.dwarncat(l.LogTypes.wF,
a," != ",c),f.dwarncat(l.LogTypes.Cc,"oldvm object has key "+n+" but newvm object does not (node "+c.nodeid+")"),b=!0);e?b&&(this.zv++,g.add(a)):b&&(f.dwarncat(l.LogTypes.Cc,a," != ",c),this.zi++);return b};c.prototype.Sz=function(a,c,e){f.uc("USING arrays_opt_helper");var b=c.length,d=a.length,g=Array(d-e),l=new Map,k=new Map,m;for(m=e;m<b;m++)l.set(c[m].key,m);for(m=e;m<d;m++)k.set(a[m].key,m);k.forEach(function(a,b){l.has(b)&&(g[a]=c[l.get(b)],k.delete(b),l.delete(b))});var n=h.WD(l),A=l.size-
1;m=0;k.forEach(function(a){m>A?g[a]=null:(g[a]=c[n[m]],m++)});return g};c.prototype.Iz=function(a,c,e){f.dassert(a instanceof Array&&c instanceof Array);this.rf++;var b=!1;a.length!==c.length&&(f.dlogcat(l.LogTypes.Cc,"vm array length changed\n",[a,c]),b=!0,h.Kb("OPT: two arrays in VM are of different sizes. doing a naive comparison (not optimized for additions and removals) of the two that will add all the VM in some SUFFIX of the new array to changedset"));for(var d=-1,g,k,m=0;m<a.length;m++){var n=
a[m];k=0<=d?g[m]:m<c.length?c[m]:null;n instanceof Object?(-1===d&&k instanceof Object&&n.key!==k.key&&(d=m,g=this.Sz(a,c,d),k=g[m]),b=this.xr(n,k,e)||b):null==n?(this.ip++,null!=k&&(f.dwarncat(l.LogTypes.Cc,"newval trivial and oldval not: ",k),b=!0)):(this.rf++,null==k?(b=!0,f.dwarncat(l.LogTypes.Cc,"oldval trivial and newval not: ",n)):b||n===k||(f.dwarncat(l.LogTypes.Cc,"Unequal non-null non-objects:\n",n,k),b=!0))}b&&this.zi++;return b};c.prototype.xr=function(a,c,e){f.assert_nt(a);if(a instanceof
Array)return c instanceof Array?this.Iz(a,c,e):(c&&f.derr("check on this...",a,c),this.rf++,this.zi++,!0);if(a instanceof Object)return a.coarse_vmtype?this.Tm(a,c,!0,e):0===h.Sd(a).length?(this.ls++,(a=!(c instanceof Object)||0!==h.Sd(c).length)&&f.dwarncat(l.LogTypes.Cc,"newval is empty object but old is non-object or non-empty object:\n",c),a):this.Tm(a,c,!1,e);this.rf++;return a!==c?(this.zi++,f.dwarncat(l.LogTypes.Cc,"Non-VM non-objects are distinct:\n",a,c),!0):!1};return c}(k.Jv);c.Kv=a},function(k,
c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(288);var h=a(6),f=a(7),l=a(13),n=a(9),g=a(4),b=a(7),d=a(4),e=a(8),p=a(250),u=a(3),r=a(189),v=a(15);c.jm=!0;c.wj=!0;a=function(a){function k(){var b=null!==a&&a.apply(this,
arguments)||this;b.Tc=c.jm?new Map:null;b.Si=new Map;return b}m(k,a);k.prototype.yi=function(a,b,d,e,f){if(a instanceof h.Cb)d=this.CE(a);else if(a instanceof h.Ol)d=this.xE(a,b,d,e,f);else if(a instanceof h.Ic)d=this.DE(a,b,e,f);else if(a instanceof h.Xa)d=this.FE(a,e,f);else{if(g.F(a))return null;d=this.nh(a,b,e,f)}c.jm&&this.Tc.set(a.c,d);d.isUnnamedChild=null==b&&!d.isRoot;a.H.flatten_for_only_child&&u.STApp.the.Ef===n.Da.vd&&d.ch&&d.ch.nodevms&&1===d.ch.nodevms.length&&6===d.ch.nodevms[0].coarse_vmtype&&
g.Kb("flatten_for_only_child disabled because not taken into account in isVisibleIgnoreParent");return d};k.prototype.vl=function(a,d){void 0===a&&(a=this.kc);f.timerStart("BasicRecVMBuilder.updateDocVM");var e=[],l=[],k=[],m=[];a=u.STApp.the.T.node;var n=g.F(a)?this.m.top:a;n?(n instanceof h.ua&&n.yk().forEach(function(a){a.abstract?(b.dwarn("Can this happen?? Ok if it can. abstract nodetype:",a.nodetype_name),l.push(a.nodetype_name)):e.push(a.nodetype_name)}),(n=n.parentNode)&&n.yk().forEach(function(a){a.abstract?
(b.dwarn("Can this happen?? Ok if it can. abstract nodetype:",a.nodetype_name),m.push(a.nodetype_name)):k.push(a.nodetype_name)})):f.derr("foc_nodeid is "+a.c+" but this.stdoc.ogetNodeByPermid("+a.c+") returned null");var p;null!=this.m.top&&(this.kc&&0===d?p=this.kc.topnodevm:(c.wj&&this.Si.clear(),p=this.yi(this.m.top,null,d,Infinity,!1)));e.sort();l.sort();k.sort();m.sort();var y;switch(d){case 3:y=2;break;case 2:case 0:y=1;break;case 1:y=0}d={coarse_vmtype:12,stdocid:this.m.stdocid,_language_id:this.m.O.name,
topnodevm:p,concrete_nodetypes_for_add_buttons:e,abstract_nodetypes_for_add_buttons:l,concrete_nodetypes_for_add_sibling_buttons:k,abstract_nodetypes_for_add_sibling_buttons:m,refreshtype:y,_canundo:this.m.canUndo(),_canredo:this.m.canRedo(),_focused_nodeid:a?a.c:null,filtering_nodes:this.m.D.filtering_nodes};f.timerEnd("BasicRecVMBuilder.updateDocVM");return d};k.prototype.DE=function(a,b,c,e){var f=a.index,h=a.Jt;"number"===typeof f&&(f=g.wu(f,h));b=this.nh(a,b,c,e);!a.Ti&&d.Zf(u.STApp.the.Ef,n.Da.vd,
n.Da.ze)?b.ch.nodevms.forEach(function(a,b){a.hidden=b===f?!1:!0}):b.ch.nodevms.forEach(function(a){a.hidden=!1});b._index=f;b._max_index=h;b._showing_all=a.Ti;return b};k.prototype.oo=function(a,b,c,d,e){return this.yi(a,b,c,d,e)};k.prototype.xE=function(a,b,c,d,e){var f=a.Yh();if(g.F(f))return this.nh(a,b,d,e);c=this.yi(f,b,c,d,e);if(u.STApp.the.Ef===n.Da.vd)return c;c={nodeid:a.c,stdocid:a.m.stdocid,key:a.c+".ch",nodevms:[c],visible:!0,coarse_vmtype:11};a=this.nh(a,b,d,e);a.isRoot=!1;a.parental=
!0;a.has_unhidden_children=!0;a.ch=c;return a};k.prototype.nh=function(a,d,e,l){var k;if(this.Tc)if(k=this.Tc.get(a.c)){if(0>e||this.controller.yo()&&!this.controller.He.tc.has(a.c)&&this.controller.He.Xg!==a.c&&!this.controller.He.bf.has(a.c))return k}else g.Kb('Disabled "No VM for ____ in cache" message.'),e=Infinity;else b.dwarn("No node VM cache"),f.dlogif(this.controller.yo(),"No node VM cache"),e=Infinity;f.dassert(!a.lb(n.SystPropNames.hd));l?l=k||{}:(l={},k&&(l.ch=k.ch,l.nch=k.nch));l.stdocid=
a.m.stdocid;l.nodeid=a.c;l.nodenumid=a.bp;l.parental=a.Od();l.key=a.c;l.depth=a.depth();l.nodetype=a.nodetype;l.coarse_vmtype=6;l.refable=h.tb.jt(a);l.has_refs=l.refable&&this.m.Ma.Je.has(a.c);null!=a.D.filter_status?l.filter_status=a.D.filter_status:delete l.filter_status;null==a.parentNode?l.isRoot=!0:delete l.isRoot;a.oa?l.childrenCollapsed=!0:delete l.childrenCollapsed;a.D.panel_hidden?l.panelHidden=!0:delete l.panelHidden;d?l.label=d:delete l.label;a.jc()?delete l.hidden:l.hidden=!0;a.lb(n.SystPropNames.continued)?
l.continued=!!a.ea.v(n.SystPropNames.continued):delete l.continued;a.H.emphasize_view||a.ea.mb(n.SystPropNames.emphasize)?l.emphasize=a.H.emphasize_view||a.ea.v(n.SystPropNames.emphasize):delete l.emphasize;a.ea.mb(n.SystPropNames.demphasize)?l.demphasize=a.ea.v(n.SystPropNames.demphasize):delete l.demphasize;c.jm&&l!==k&&this.Tc.set(a.c,l);a.H.hide_in_user_modes&&g.jb(a.H.hide_in_user_modes,u.STApp.the.Ef)&&(l.hidden=!0);l.inlining=this.wi(a,e);!a.D.panel_hidden&&v.inEditMode()&&(l.panel=this.BE(a));
if(a.Od()){if(v.inEditMode()||a.H.reader_mode_expandable){d=a.upstate.VE(a)||0;f.dassert(0<=d);l.has_children=0<a.UE()+a.Ra()+d;if(l.has_children){var m=(k=a.ue(function(a){return a.jc()?{val:!0,wb:!1}:null}))&&k.val;k=a.vc(function(a){return a.jc()?{val:!0,wb:!1}:null});l.has_unhidden_unnamed_children=k&&k.val;l.has_unhidden_children=m||l.has_unhidden_unnamed_children||0<d}0<e&&(a.oF()&&(l.ch=this.vE(a,e-1)),a.nF()&&(l.nch=this.yE(a,e-1)))}}else delete l.has_children;return l};k.prototype.FE=function(a,
b,c){void 0===b&&(b=Infinity);void 0===c&&(c=!1);b=this.nh(a,null,b,c);f.dassert(null!=a.c);b._title=a.Ns();return b};k.prototype.vE=function(a,b){var c,d=this;void 0===c&&(c=Infinity);f.dassert(0<=c);this.controller.$d.has(a.c)&&(g.Kb("Disabled: This way of accomodating Dragula is a significant source of inefficiency when a node belonging to a long list of nodes is moved."),this.controller.$d.delete(a.c));var e={nodeid:a.c,stdocid:a.m.stdocid,key:a.c+".ch",visible:!a.oa,coarse_vmtype:11,nodevms:[]};
if(e.visible){a.vc(function(h){h=d.yi(h,null,b,c-1,!1);g.F(h)?console.warn("Iteration over children of node "+a.c+" produced a null child vm (possibly because given a null child). Will skip making VM for that child."):(h.isUnnamedChild=!0,f.dassert(null!=h),e.nodevms.push(h))});var h=a.upstate.vC(a);if(h&&0<h.length)for(var l=void 0,k=void 0,l=h.length-1;0<=l;l--)k=Math.min(e.nodevms.length,h[l][1]),g.$f(e.nodevms,this.Pt("nodestub"+l.toString(),h[l][0],a.c,l,k),k)}return e};k.prototype.yE=function(a,
b){var c,d=this;void 0===c&&(c=Infinity);f.dassert(0<=c);var e={nodeid:a.c,stdocid:a.m.stdocid,key:a.c+".nch",nodevms:null,visible:!a.oa,coarse_vmtype:10};if(e.visible){e.nodevms={};a.ue(function(h,l){h=d.yi(h,l,b,c-1,!1);g.F(h)?console.warn("Iteration over children of node "+a.c+" produced a null child vm (possibly because given a null child). Will skip making VM for that child."):(f.dassert(null!=h),h.isUnnamedChild=!1,e.nodevms[l]=h)});var h=a.upstate.gC(a);h&&0<h.size&&h.forEach(function(b,c){e.nodevms[c]=
d.Pt("nodestub"+c,b,a.c,c)})}return e};k.prototype.Tq=function(a,b,c){var d=a.H.allowed_flatprops,h;h=a.eb(b);f.dassert(!e.xc(h),"This assertion is temporary, just to let me know that the code path is used.");switch(d[b]){case 6:c[b]=h.getText();break;case 7:f.dassert(e.Nd(h));d=a.P.v(n.SystPropNames.Wi);h=g.R(d)?r.zf(a.ha.v(b),d):r.zf(a.ha.v(b));a={value:h,key:a.c+".inlining."+b,nodeid:a.c,label:b,stdocid:a.m.stdocid};g.R(d)&&(a._text_format=d);c[b]=a;break;case 5:c[b]=h;break;case 3:f.nd("Changed VM for immutstring to same as stringselect. I'm surprised it wasn't like that before. Had been same as immutstring_with_refs.");
c[b]=h;break;case 4:g.Vk("shouldn't need stdocid prop anymore");h=r.zf(h,"wordlevel_html_etc");c[b]={coarse_vmtype:13,value:h,key:a.c+".inlining."+b,nodeid:a.c,label:b,stdocid:a.m.stdocid};break;case 1:c[b]=a.ea.v(b);break;case 2:c[b]=a.nc.v(b);break;default:f.derr("unhandled flat prop type "+d[b]+" for label "+b+". failing silently.",d),c[b]=n.gw}};k.prototype.wi=function(a,b){var d=this;void 0===b&&(b=Infinity);if(c.wj&&this.Si.has(a.c))return this.Si.get(a.c);p.TC();var e={nodeid:a.c,stdocid:a.m.stdocid,
nodetype:a.nodetype,key:a.c+".inlining",coarse_vmtype:8};a.H.human_readable_name&&(e.hrlabel=a.H.human_readable_name);c.wj&&this.Si.set(a.c,e);var k=a.H,m=k.allowed_flatprops,t=a instanceof h.ua,u;if(this.lang.Y.Yg){var r=g.Sd(m),x=this.lang.Y.ZB(k);x?(u=[],g.Sd(m).forEach(function(a){g.jb(x,a)||u.push(a)}),t&&(g.jb(x,n.SystPropNames.ch)||u.push(n.SystPropNames.ch),g.jb(x,n.SystPropNames.nch)||u.push(n.SystPropNames.nch))):u=t?r.concat(n.SystPropNames.nch,n.SystPropNames.ch):r}else u=this.lang.Y.$B(k);
f.dassert(a.nodetype!==l.o.aa||!g.jb(u,n.SystPropNames.ch));u&&0<u.length&&u.forEach(function(c){if(a.links.bi(c)){var l=a.links.ve(c);if(l){var m=a.m.G(l.linked_nodeid);m?d.Tq(m,c,e):f.derr(a.c+"'s link to node id "+l.linked_nodeid+" for property "+c+" did not resolve.")}else console.error("Shouldn't happen...")}else if(c===n.SystPropNames.ch){if(f.dassert(a instanceof h.ua),c=a.Ra(),0<c)for(e.ch=Array(c),l=0;l<c;l++)m=a.W(l),f.weakassert(null!=m,"There appears to be a null node at index "+l+" in the children of node "+
a.c+": ",m),m&&(e.ch[l]=d.wi(m,b-1),f.weakassert(null!=e.ch[l]))}else c===n.SystPropNames.nch?(f.dassert(a instanceof h.ua,"Node "+a.c+" has .nch in extra_props for VM, but it is not a parental node.",a),e.nch={},a.ue(function(c,g){c=a.W(g);f.weakassert(null!=c,"There appears to be a null node at label "+g+" in the named children of node "+a.c+": ",c);c&&(e.nch[g]=d.wi(c,b-1))})):g.fa(k.allowed_flatprops,c)&&a.lb(c)&&d.Tq(a,c,e)});try{a.xa(l.o.Jf)&&this.jI(a,e);u&&g.jb(u,n.SystPropNames.S)&&(e._resolved_html_name=
{stdocid:a.m.stdocid,value:a.CC(),key:a.c+".inlining.resolved"+n.SystPropNames.S,nodeid:a.c,label:n.SystPropNames.S});if(a.xa(l.o.Ic)){var y=a.Jt,v=a.index;"number"===typeof v&&(e._index=g.wu(v,y));e._showing_all=a.Ti}var A=this.lang.Y.XB(a.nodetype);if(A)return A(a,e)}catch(L){f.derr("Exception during extra adhox InliningVM building steps",L)}return e};return k}(k.Ix);c.Jv=a},function(k,c,a){var m=a(7),h=a(13),f=a(9),l=a(11),n=a(4),g=a(272);k=function(){function a(a){this.m=a;this.lang=a.O}Object.defineProperty(a.prototype,
"controller",{get:function(){return g.Kf.the},enumerable:!0,configurable:!0});a.prototype.po=function(a,b){var c={nodeid:a.c,stdocid:a.m.stdocid,label:b,key:b+".string_prop",form:null,coarse_vmtype:null};if(a=a.m.O.tu[b])c.display_name=a;return c};a.prototype.St=function(a,b){var c=this.po(a,b);c.form=this.Rt(a,b);c.coarse_vmtype=0;return c};a.prototype.uE=function(a,b){var c=this.po(a,b);c.form=this.tE(a,b);c.coarse_vmtype=1;return c};a.prototype.AE=function(a,b){var c=this.po(a,b);c.form=this.zE(a,
b);c.coarse_vmtype=2;return c};a.prototype.tE=function(a,b){var c=a.H,d={nodeid:a.c,stdocid:a.m.stdocid,label:b,value:null,coarse_vmtype:4,key:a.c+"."+b,formtype:0};1!==c.allowed_flatprops[b]&&console.error("node has bool prop "+b+" but "+h.nb(c)+".allowed_flatprops["+b+"] is either null or not equal to 1.");d.value=a.ea.v(b);return d};a.prototype.zE=function(a,b){var c=a.H,d={nodeid:a.c,stdocid:a.m.stdocid,label:b,value:null,coarse_vmtype:5,key:a.c+"."+b,formtype:1};2!==c.allowed_flatprops[b]&&console.error("node has num prop "+
b+" but "+h.nb(c)+".allowed_flatprops["+b+"] is either null or not equal to 2.");d.value=a.nc.v(b);return d};a.prototype.Rt=function(a,b){if(a.links.bi(b)){m.dwarncat(f.LogTypes.links,"Found FlatPropLink");var c=a.links.ve(b),c=a.m.G(c.linked_nodeid);b=this.Rt(c,b);b.fromFlatPropLinkOfNode=a.c;return b}var c=a.H,d={nodeid:a.c,stdocid:a.m.stdocid,label:b,value:"",coarse_vmtype:3,formtype:null,key:a.c+"."+b};a.D.lastAddedStringProp===b&&(d.isLastSelected=!0);var e=c.allowed_flatprops[b];null===e&&console.error("node has string prop "+
b+" but "+h.nb(c)+".allowed_flatprops["+b+"] is null");switch(e){case 6:case 7:d.formtype=4;d.value=a.ha.v(b);d.uobjid=a.ha.ve(b).id;break;case 4:case 3:d.formtype=3;d.value=a.P.v(b);break;case 5:d.formtype=2;d.value=a.P.v(b);var g=!1,e=void 0;(e="function"===typeof c.possible_values[b]?c.possible_values[b](a):c.possible_values[b])?d.options=e.map(function(a){d.value===a[1]&&(g=!0);return{display:a[0],value:a[1],key:a[1]}}):(m.dwarn("Node .possible_values("+b+") on node class "+a.nodetype),d.options=
[]);g||d.options.push({display:f.Cl,value:d.value});break;default:console.error("Node:",a),console.error("label:",b),console.error("Invalid StringPropType "+e),d.formtype=3,d.value="error"}return d};a.prototype.Pt=function(a,b,c,f,g){m.assert_nt(a,b);var d=this.m.O,e=[];d.ik(b).forEach(function(a){d.rd(a)&&e.push(a)});a={stdocid:this.m.stdocid,parentid:c,key:a,coarse_vmtype:7,node_class_names:e,stubs_label_or_ind:f};n.R(g)&&(a.nodes_ind=g);return a};a.prototype.BE=function(a){var b=this,c={nodeid:a.c,
stdocid:a.m.stdocid,key:a.c+".panel",visible:!a.D.panel_hidden,coarse_vmtype:9},d=a.Vb.du(),g=a.Vb.cu(),h=a.Vb.Ak(),l=a.Vb.Ai(),k=g.length+h.length+l.length+d.length-1;if(0===k)c.visible=!1;else{c.flatprops=Array(k);var y=0;g.forEach(function(d){n.fa(a.H.allowed_flatprops,d)?(m.weakassert(1===a.H.allowed_flatprops[d]),d=b.uE(a,d),m.dassert(null!=d),c.flatprops[y]=d):(console.warn("Node has flat prop "+d+" (should be boolean) that's not in allowed_flatprops. This is probably OK and due to converting nodetypes."),
c.flatprops[y]=null);y++});d.forEach(function(d){n.fa(a.H.allowed_flatprops,d)?(m.weakassert(2===a.H.allowed_flatprops[d]),d=b.AE(a,d),m.dassert(null!=d),c.flatprops[y]=d):(console.warn("Node "+a.c+" has flat prop "+d+" (should be number) that's not in allowed_flatprops. This is probably OK and due to converting nodetypes."),c.flatprops[y]=null);y++});h.forEach(function(d){n.fa(a.H.allowed_flatprops,d)?d!==f.SystPropNames.nodetype&&(d=b.St(a,d),m.dassert(null!=d),c.flatprops[y]=d,y++):(console.warn("Node "+
a.c+" has flat prop "+d+" (should be immutable string) that's not in allowed_flatprops. This is probably OK and due to converting nodetypes."),c.flatprops[y]=null,y++)});l.forEach(function(d){n.fa(a.H.allowed_flatprops,d)?(d=b.St(a,d),m.dassert(null!=d),y<c.flatprops.length&&(c.flatprops[y]=d,y++)):(console.warn("Node "+a.c+" has string prop "+d+" (should be editable string) that's not in allowed_flatprops. This is probably OK and due to converting nodetypes."),c.flatprops[y]=null,y++)});m.dassert(y===
k)}return c};a.prototype.CE=function(a){var b={nodeid:a.c,stdocid:a.m.stdocid,key:a.c,nodenumid:a.bp,parental:!1,depth:a.depth(),coarse_vmtype:6,nodetype:h.o.Cb};null!=a.D.filter_status?b.filter_status=a.D.filter_status:delete b.filter_status;return b};a.prototype.jI=function(a,b){var c=a.hb();if(c){if(c.wc?a=l.Ko(this.m.Ma.Fg,c,1):(console.error("get_html_name method seems to be missing on STNode ",c),a=f.Cl),b._id_ref=c.c,c.lb(f.SystPropNames.Xd)&&(b._special_inlining=c.P.v(f.SystPropNames.Xd)),
c=c.xC())b.html_template_of_ref=c}else m.dwarn("Couldn't get RefNode "+a.c+"'s referred-to node "+a.Wc),a=f.Cl;b.display_symb_only_of_ref=a};return a}();c.Ix=k},function(k,c){k=function(){function a(a,c,f,l,k){void 0===c&&(c=[]);void 0===f&&(f=!0);void 0===l&&(l=!1);void 0===k&&(k=!1);this.target=a;this.events=c;this.isLocal=f;this.isRedo=l;this.isUndo=k}a.QG=function(a,c){a.property=c};a.nC=function(a){return a.property};return a}();c.gj=k},function(k,c,a){var m=this&&this.__extends||function(){var a=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(291);var h=a(292),f=a(7),l=a(8),n=a(297),g=a(9),b=a(4);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.AG=!0;b.lf=function(a,c){void 0===c&&(c=!0);f.assert_nt(a);b.AG&&(c?n.Tu(a,b.vg(a).getRoot()):
n.NG(a,b.vg(a).getRoot()))};return b}m(c,a);c.prototype.HD=function(a,b){f.assert_nt(b);var c=n.zn(a),d=localStorage.getItem(c);if(d)return c=JSON.parse(d),this.vt(c,a,b);console.error("Data for file id "+a+" not found at localStorage key "+c+".");return!1};c.prototype.vt=function(a,b,c){try{var d=this.vg(b);f.assert_nt(d);f.assert_nt(c);"shortjson"===c?l.$G(d,a):l.On(d,a);return!0}catch(x){return f.derr("Exception in loadDataFromJsonIntoExistingOpenDoc: ",x),!1}};c.prototype.yt=function(a,b,c){c=
c||"googlejson";var d=new h.gh(!0,!1,!0);this.Go(a,d);this.HD(a,c)&&(b(d,a),f.dlogcat(g.LogTypes.iD,"Initial json loaded in existing open doc. Now enabling undo/redo"),d.getModel().Zc=!0)};c.prototype.MD=function(a,b,c,d){f.assert_nt(c);var e=new h.gh(!0,!1,!0);this.Go(a,e);this.vt(b,a,c)&&(d(e,a),f.dlog("Initial json loaded in existing open doc. Now enabling undo/redo"),e.getModel().Zc=!0)};c.prototype.Qt=function(a,c,d,e){a=new h.gh(!0,!1,!0);b.R(d)&&l.On(a.getModel(),d);c(a,e());f.dlog("Initial stdoc created. Now enabling undo/redo");
a.getModel().Zc=!0};c.prototype.al=function(a,b){var c=this;this.vg(a).Ug=function(d){f.dassert(d.isLocal);b(d);c.lf(a,!0)}};return c}(k.Jp);c.Hw=a},function(k,c,a){var m=a(7),h=a(4);k=function(){function a(a){this.appdata=a;this.Te=new Map;this.lf=void 0}a.prototype.zC=function(){return h.VD(this.Te)};a.prototype.AC=function(){for(var a=this.zC(),c=Array(this.Te.size),f=0;f<c.length;f++)c[f]=[this.appdata.getFileName(a[f])||"doc name not found",a[f]];return c};a.prototype.ug=function(a){m.assert_nt(a);
return this.Te.get(a)};a.prototype.vg=function(a){m.assert_nt(a);if(a=this.ug(a))return a.getModel()};a.prototype.Go=function(a,c){m.assert_nt(a,c);this.Te.set(a,c)};return a}();c.Jp=k},function(k,c,a){var m=a(293),h=a(7);k=function(){function a(a,c,f){this.Hb=new m.Iw(a,c,f)}a.prototype.getModel=function(){return this.Hb};a.prototype.removeAllEventListeners=function(){h.dlog("<LocalSyncingDocument>.removeAllListeners called, but nothing to do since there cannot be collaborators.")};return a}();c.gh=
k},function(k,c,a){function m(a){console.log(f.yF(a.map(function(a){return a?g.rn(a):"??"})))}var h=a(294),f=a(4),l=a(7),n=a(295),g=a(296),b=a(9),d=a(4);k=function(){function a(a,b,c){this.io=0;this.sl=this.Zc=!1;this.Cf=[];this.yf=[];this.Zc=b;this.sl=c;this.Rm=new Map;a&&(this.rootmap=this.createMap())}a.prototype.Nm=function(a){var b=Number(a.id);!isNaN(b)&&b>this.io&&(this.io=b);d.TD(this.Rm,a.id,a)};a.prototype.getObject=function(a){return this.Rm.get(a)};a.prototype.JC=function(a){return this.Rm.has(a)};
a.prototype.PB=function(){return(this.io+1).toString()};a.prototype.getRoot=function(){return this.rootmap};a.prototype.createList=function(a,b){l.dassert(d.F(a));a=this.sl?new n.Kw(this,b):new h.LocalUList(this,b);this.Nm(a);return a};a.prototype.createMap=function(a,b){l.dassert(d.F(a));a=this.sl?new n.Lw(this,b):new h.LocalUMap(this,b);this.Nm(a);return a};a.prototype.createString=function(a,b){a=this.sl?new n.Jw(this,b,a):new h.LocalUEditableString(this,b,a);this.Nm(a);return a};a.prototype.beginCompoundOperation=
function(a){a?this.Dc([10,this.getRoot(),a]):this.Dc([10,this.getRoot()])};a.prototype.endCompoundOperation=function(){this.Dc([11,this.getRoot()])};a.prototype.redo=function(a){void 0===a&&(a=0);var c=this.sF();10===c[0]?(l.dlogcat(b.LogTypes.undo,"Beginning to REDO a compound operation"),this.redo(a+1)):11===c[0]?1<a?this.redo(a-1):l.dlogcat(b.LogTypes.undo,"Finished REDOing a compound operation"):(g.yr(c),0<a&&this.redo(a))};a.prototype.undo=function(a){void 0===a&&(a=0);var c=this.tF();10===c[0]?
(l.dlogcat(b.LogTypes.undo,"Beginning to UNDO a compound operation"),this.undo(a+1)):11===c[0]?1<a?this.undo(a-1):l.dlogcat(b.LogTypes.undo,"Finished UNDOing a compound operation"):(g.yr(c),0<a&&this.undo(a))};a.prototype.removeAllEventListeners=function(){this.Ug=null};a.prototype.toJson=function(){throw new d.oc;};a.prototype.Dc=function(a){this.Zc&&(l.dlogcat(b.LogTypes.undo,"Undoable edit action performed: ",g.rn(a)),this.vu(g.qn(a)))};a.prototype.vu=function(a){this.Zc&&(l.dlogcat(b.LogTypes.undo,
"Pushing to undo stack: ",g.rn(a)),this.Cf.push(a),this.canUndo=!0,l.dlogcat(b.LogTypes.undo,"undoStack size "+this.Cf.length))};a.prototype.IF=function(a){this.Zc&&(this.yf.push(a),this.canRedo=!0,l.dlogcat(b.LogTypes.undo,"redoStack size "+this.yf.length))};a.prototype.tF=function(){l.weakassert(this.Zc,"LocalSyncingModel.popUndoStack called when undoEnabled is false. Not harmful but probably shouldn't happen.");if(this.Zc){var a=this.Cf.pop();0===this.Cf.length&&(this.canUndo=!1);this.IF(g.qn(a));
l.dlogcat(b.LogTypes.undo,"undoStack size "+this.Cf.length);return a}return null};a.prototype.sF=function(){l.weakassert(this.Zc,"LocalSyncingModel.popRedoStack called when undoEnabled is false. Not harmful but probably shouldn't happen.");if(this.Zc){var a=this.yf.pop();0===this.yf.length&&(this.canRedo=!1);this.vu(g.qn(a));l.dlogcat(b.LogTypes.undo,"redoStack size "+this.yf.length);return a}return null};a.prototype.DF=function(){m(this.Cf);console.log("\n");m(this.yf)};a.prototype.gH=function(){return[this.Cf.length,
this.yf.length]};return a}();c.Iw=k},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=a(4),f=a(7),l=a(289),n=a(8),g=a(9);k=function(){function a(a,b){this.Hb=a;if(b)if(a.JC(b))f.derrcat(g.LogTypes.GA,"Proposed id "+
b+" is already assigned to the following LocalSyncingObject. Will assign a fresh id instead. Older then newer object: ",a.getObject(b),this);else{this.id=b;return}this.id=a.PB()}a.prototype.Ce=function(){if(this.Hb.Ug){f.dlogcat(g.LogTypes.zt,"Should be sending event...");var a=new l.gj(this);a.events.push({target:this,isLocal:!0});this.Hb.Ug(a)}};a.prototype.toString=function(){return n.Pg(this)};return a}();c.LocalSyncingObject=k;a=function(a){function b(b,c,d){b=a.call(this,b,c)||this;b.type="EditableString";
b.Zo=d||"";return b}m(b,a);b.prototype.getText=function(){return this.Zo};b.prototype.setText=function(a){this.Zo=a;this.Ce()};return b}(k);c.LocalUEditableString=a;a=function(a){function b(b,c){b=a.call(this,b,c)||this;b.type="List";b.Qd=[];return b}m(b,a);Object.defineProperty(b.prototype,"length",{get:function(){return this.Qd.length},enumerable:!0,configurable:!0});b.prototype.asArray=function(){return this.Qd};b.prototype.get=function(a){return this.Qd[a]};b.prototype.insert=function(a,b){h.$f(this.Qd,
b,a);this.Ce()};b.prototype.insertAll=function(){throw new h.oc;};b.prototype.lastIndexOf=function(){throw new h.oc;};b.prototype.set=function(a,b){this.Qd[a]=b;this.Ce()};b.prototype.push=function(a){this.Qd.push(a);this.Ce()};b.prototype.remove=function(a){h.Jj(this.Qd,a);this.Ce()};b.prototype.move=function(a,b){h.Qz(this.Qd,a,b);this.Ce()};b.prototype.moveToList=function(a,b,c){if(this===b)this.move(a,c);else{var d=this.get(a);h.Jj(this.Qd,a);h.$f(b.asArray(),d,c);this.Ce();b.Ce()}};return b}(k);
c.LocalUList=a;k=function(a){function b(b,c){b=a.call(this,b,c)||this;b.type="Map";b.pe=new Map;b.ym=[];return b}m(b,a);b.prototype.jo=function(a,b){if(this.Hb.Ug){f.dlogcat(g.LogTypes.zt,"Should be sending event...");var c=new l.gj(this),d={target:this,isLocal:!0};b&&h.nf(d,b);l.gj.QG(d,a);c.events.push(d);this.Hb.Ug(c)}};b.prototype.get=function(a){return this.pe.get(a)};b.prototype.has=function(a){return this.pe.has(a)};b.prototype.set=function(a,b){if(this.pe.has(a)){var c=this.pe.get(a);this.pe.set(a,
b);this.jo(a,{oldValue:c})}else this.ym.push(a),this.pe.set(a,b),this.jo(a)};b.prototype.delete=function(a){f.timerStart("deleteKey");var b=this.get(a);this.pe.delete(a)&&(h.Rz(this.ym,a),this.jo(a));f.timerEnd("deleteKey");return b};b.prototype.keys=function(){return this.ym};Object.defineProperty(b.prototype,"size",{get:function(){return this.pe.size},enumerable:!0,configurable:!0});return b}(k);c.LocalUMap=k},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])};return function(c,f){function g(){this.constructor=c}a(c,f);c.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();k=a(294);var h=a(4);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);return c}(k.LocalSyncingObject);c.zJ=a;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.setText=function(c,f){void 0===f&&
(f=!0);f&&this.Hb.Dc([0,this,this.Zo]);a.prototype.setText.call(this,c)};return c}(k.LocalUEditableString);c.Jw=a;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.insert=function(c,f,b){void 0===b&&(b=!0);b&&this.Hb.Dc([1,this,c,f]);a.prototype.insert.call(this,c,f)};c.prototype.insertAll=function(){throw new h.oc;};c.prototype.set=function(c,f,b){void 0===b&&(b=!0);b&&this.Hb.Dc([3,this,c,f]);a.prototype.set.call(this,c,f)};c.prototype.push=function(c,
f){void 0===f&&(f=!0);f&&this.Hb.Dc([4,this,c]);a.prototype.push.call(this,c)};c.prototype.remove=function(c,f){void 0===f&&(f=!0);f&&this.Hb.Dc([5,this,c]);a.prototype.remove.call(this,c)};c.prototype.move=function(c,f,b){void 0===b&&(b=!0);b&&this.Hb.Dc([6,this,c,f]);a.prototype.move.call(this,c,f)};c.prototype.moveToList=function(c,f,b,d){void 0===d&&(d=!0);this===f?this.move(c,b,d):(d&&this.Hb.Dc([7,this,c,f,b]),a.prototype.moveToList.call(this,c,f,b))};return c}(k.LocalUList);c.Kw=a;k=function(a){function c(){return null!==
a&&a.apply(this,arguments)||this}m(c,a);c.prototype.set=function(c,f,b){void 0===b&&(b=!0);b&&this.Hb.Dc([8,this,c,f]);a.prototype.set.call(this,c,f)};c.prototype.delete=function(c,f){void 0===f&&(f=!0);f&&this.Hb.Dc([9,this,c]);return a.prototype.delete.call(this,c)};return c}(k.LocalUMap);c.Lw=k},function(k,c,a){var m=a(4),h=a(7),f=a(9);c.Gq="str_setText list_insert list_insertAll list_set list_push list_remove list_move list_moveToList map_set map_delete begin_compound end_compound".split(" ");
c.rn=function(a){for(var f=c.Gq[a[0]]+", ",f=f+a[1].id,g=2;g<a.length;g++)f="object"===typeof a[g]&&a[g].id?f+(", "+a[g].id):f+(", "+a[g].toString());return f};c.yr=function(a){var f=a.slice(2);h.dlog(c.Gq[a[0]],a[1].type,a);switch(a[1].type){case "EditableString":a=a[1];a.setText.apply(a,f.concat([!1]));return;case "List":var g=a[1];switch(a[0]){case 1:g.insert.apply(g,f.concat([!1]));return;case 2:throw new m.oc;case 3:g.set.apply(g,f.concat([!1]));return;case 4:g.push.apply(g,f.concat([!1]));return;
case 5:g.remove.apply(g,f.concat([!1]));return;case 6:g.move.apply(g,f.concat([!1]));return;case 7:g.moveToList.apply(g,f.concat([!1]));return}throw new m.vj(a,"unhandled list edit: "+a.toString());case "Map":g=a[1];switch(a[0]){case 8:g.set.apply(g,f.concat([!1]));return;case 9:g.delete.apply(g,f.concat([!1]));return}throw new m.vj(a,"unhandled map edit: "+a.toString());}throw new m.vj(a,"unhandled edit: "+a.toString());};c.qn=function(a){var c=a.slice(2);switch(a[1].type){case "EditableString":var g=
a[1];return[0,g,g.getText()];case "List":g=a[1];switch(a[0]){case 1:return[5,g,c[0]];case 2:throw new m.oc;case 3:return h.dlogcat(f.LogTypes.undo,"using list_set, whose inverse is probably wrong"),a=c[0],c=g.get(a),[3,g,a,c];case 4:return h.dlogcat(f.LogTypes.undo,"using list_push, whose inverse might be wrong"),[5,g,g.length];case 5:return a=c[0],c=g.get(a),[1,g,a,c];case 6:return[6,g,c[1],c[0]];case 7:return[7,c[1],c[2],c[0]]}break;case "Map":switch(g=a[1],a[0]){case 8:return g.has(c[0])?[8,g,
c[0],g.get(c[0])]:[9,g,c[0]];case 9:return[8,g,c[0],g.get(c[0])];case 10:return[11,a[1]];case 11:return[10,a[1]]}}throw new m.vj("couldn't invert edit op: "+a.toString());}},function(k,c,a){function m(a,c){f.assert_nt(a,c);window.setTimeout(function(){f.dlogcat(l.LogTypes.zG,"setLocalStorageFromSTDocDataNOW in Timeout, with fileid ",a);f.dlogcat(l.LogTypes.Wn,"Writing to LocalStorage!");var b=h(a),d=n.Qi(c);try{store.set(b,d)}catch(u){if(u instanceof DOMException)alert("The file has gotten too large to automatically save in the browser's storage.\n\nTalk to Dustin. In the meantime, use the save button on the top right of the screen, which will always work."),
console.warn("Exception trying to write to localStorage:\njson length "+JSON.stringify(d).length+"\n"+u.name+": "+u.message);else throw u;}},0)}function h(a){return l.Rl+c.Ql+a}var f=a(7),l=a(9),n=a(8),g=a(4);c.Ql="local.file.";c.NG=function(a,c){g.Zi("setLocalStorageFromSTDocData",function(){return m(a,c)},l.MIN_TIME_BETWEEN_LOCAL_STORAGE_WRITES)};c.Tu=m;c.zn=h;c.xP=function(a){return a.substring((l.Rl+c.Ql).length)}},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(291);var h=a(7),f=a(9),l=a(299),n=a(301),g=a(8);a=function(a){function b(c){c=a.call(this,c)||this;b.zd=b.zd||new l.xq;h.dwarn("added this while trying to get drive api working again");c.zd=b.zd;return c}m(b,a);b.prototype.ug=function(a){return this.Te.get(a)};
b.prototype.vg=function(a){if(a=this.ug(a))return a.getModel()};b.prototype.Qt=function(a,c,d){var e=this;b.zd.wE(a||b.$v,function(a){return b.zd.hB=a},function(a){h.dlog("Realtime's initializeModel callback");d&&(g.On(a,d),h.dlog("Imported json to this stdata:",a.getRoot()))},function(a){h.dlogcat(f.LogTypes.wa,"Entering onFileLoaded in <RealtimeFilesManager>.newPersistentSyncingDocument");b.zd.GL=a;var d=b.zd.hB;e.Te.set(d,a);c(a,d)},n.bm())};b.prototype.yt=function(a,c){var d=this;h.assert_nt(a);
n.bm()&&(h.dwarn("Switching to Realtime-online mode."),syncing_data.widgets.rtInMemCheckbox().disable());b.zd.ID(a,function(b){h.dlogcat("load-file-progress","Entering onFileLoaded in <RealtimeFilesManager>.loadPersistentSyncingDocument");try{d.Te.set(a,b),c(b,a)}catch(v){throw console.error(v),v;}})};b.prototype.al=function(a,b){this.vg(a).getRoot().addEventListener(gapi.drive.realtime.EventType.OBJECT_CHANGED,b)};return b}(k.Jp);a.$v="default realtime filename";c.dm=a},function(k,c,a){var m=a(7),
h=a(9),f=a(300);c.bm=function(){return syncing_data.widgets.rtInMemCheckbox().getValue()};var l={clientId:structure_together.GOOGLE_API_CREDENTIALS.clientId};k=function(){function a(){this.ND=l;this.Wz=!1;this.Yk=new f.kx(this.ND)}a.prototype.Wm=function(a){var b=this;m.dlogcat("load-file-progress","authorize called");this.Yk.ag(function(){b.Wz=!0;a&&a()},!1)};a.prototype.xt=function(c){var b=this;m.dwarn("<RealtimeFilesManager>.rtloader.loadLibsAndAuthorizeIfNeededAndThen called");a.ut?c&&c():gapi.load("auth:client,drive-realtime,drive-share",
function(){m.dlog("auth:client, drive-realtime, drive-share libraries downloaded.");a.ut=!0;b.Wm(c)})};a.prototype.wE=function(a,b,c,e,f){var d=this;console.log("<RTLoaderWrapped2015>.newFileGeneric called");f?gapi.load("drive-realtime",function(){gapi.drive.realtime.newInMemoryDocument(e,c)}):this.Wm(function(){d.Yk.createRealtimeFile(a,function(a){m.dlogcat(h.LogTypes.Ld,"In RTLoaderWrapped2015.newFileGeneric.._afterAuth..createNew. New file's id: "+a.id);m.assert_nt(a.id);b(a.id);syncing_data.widgets.loadFileIdTextInput().setValue(a.id);
d.Yk.load(a.id,e,c)});m.dlogcat(h.LogTypes.Ld,"In RTLoaderWrapped2015.newFileGeneric.._afterAuth. Hopefully authorized now.")}.bind(this))};a.prototype.ID=function(a,b){var c=this;this.Wm(function(){c.Yk.load(a,b);m.dlogcat("load-file-progress",'afterAuth called by Realtime API ("In RTLoaderWrapped2015.loadExistingGeneric")')}.bind(this))};a.FD=function(a,b,c){function d(b){m.dlogcat(h.LogTypes.Ld,"Calling onLoaded parameter passed to RTLoaderWrapped2015.loadAppDataDoc (which calls gapi.drive.realtime.loadAppDataDocument)");
a(b)}console.warn("RTLoaderWrapped2015.loadAppDataDoc called");gapi.client.load("drive","v3").then(function(){gapi.drive.realtime.loadAppDataDocument(d,b,c)})};return a}();k.authButtonElementId="realtime-authorize-button";k.ut=!1;c.xq=k},function(k,c){k=function(){function c(a){this.mimeType="application/vnd.google-apps.drive-sdk";this.UF=18E5;this.CG=["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"];this.init(a)}c.prototype.init=function(c){this.$D(c);
this.Xz=new a(this);this.createRealtimeFile=this.createRealtimeFile.bind(this)};c.prototype.ag=function(a,c){this.Xz.start(a,c)};c.prototype.$D=function(a){for(var c in a)this[c]=a[c]};c.prototype.createRealtimeFile=function(a,c){var f=this;window.gapi.client.load("drive","v2",function(){window.gapi.client.drive.files.insert({resource:{mimeType:f.mimeType,title:a}}).PM(c)})};c.prototype.load=function(a,c,k){window.gapi.drive.realtime.load(a,function(a){c(a)},k,this.dF)};c.prototype.dF=function(a){a.type==
window.gapi.drive.realtime.ErrorType.dK?this.ag(function(){console.log("Error, auth refreshed")},!1):a.type==window.gapi.drive.realtime.ErrorType.LI?console.error("An Error happened: "+a.message):a.type==window.gapi.drive.realtime.ErrorType.EJ?console.error("The file was not found. It does not exist or you do not have read access to the file."):a.type==window.gapi.drive.realtime.ErrorType.gJ&&console.error("You do not have access to this file. Try having the owner shareit with you from Google Drive.")};
return c}();c.kx=k;var a=function(){function a(a){this.op=a}a.prototype.start=function(a,c){var f=this;window.gapi.load("auth:client,drive-realtime,drive-share",{callback:function(){f.ag(a,c)}});this.Cr&&window.clearTimeout(this.Cr);this.TF()};a.prototype.ag=function(a,c){this.fu=a;window.gapi.XK.ag({client_id:this.op.clientId,scope:this.op.CG,qO:!c},this.GC.bind(this))};a.prototype.GC=function(a){this.fu||console.error("wrong 'this'?",this);this.fu(a)};a.prototype.TF=function(){var a=this;this.Cr=
setInterval(function(){a.ag(function(){console.log("Refreshed Auth Token")},!1)},this.op.UF)};return a}();c.QJ=a},function(k,c){c.bm=function(){return syncing_data.widgets.rtInMemCheckbox().getValue()};c.CR=function(a,c){a.addEventListener(gapi.drive.realtime.EventType.TEXT_INSERTED,c);a.addEventListener(gapi.drive.realtime.EventType.TEXT_DELETED,c)};c.xM=function(a){console.log(a);var c=a.events;a=a.events.length;for(var h=0;h<a;h++)console.log(c[h]),console.log("Event type: "+c[h].type),console.log("Local event: "+
c[h].isLocal),console.log("User ID: "+c[h].userId),console.log("Session ID: "+c[h].sessionId)}},function(k,c,a){function m(){$("document").ready(function(){var a=$("#structures-tabs");a.tabs&&a.tabs({collapsible:!0,active:!1})})}function h(){b.dlogcat(u.LogTypes.wa,"entering setupClickHandlers()");$("#create-new-doc").click(function(){A.STApp.the.Td(!0);A.STApp.the.wk({di:!0})});$(".proofsocial-test-button").wrap("<span class='proofsocial-test-button-container'></span>");m();$("#load-app-data-button").click(function(){return A.STApp.the.Td(!0)});
$("#load-file-button").click(function(){return A.STApp.the.ri(void 0,!0)});$("#load-file-only-button").click(function(){return A.STApp.the.ri(void 0,!1)});$("#realtime-authorize-button").click(function(){A.STApp.the.Td(!1,u.Bb.jh);z.dm.zd.xt()});$("#collapse-all-button").click(function(){A.STApp.the.C.mA(A.STApp.the.T.id)});$("#expand-all-button").click(function(){var a=A.STApp.the.T.id,b=A.STApp.the.Be,c=0,d=a?b.G(a):b.top;b.X.ng(function(){c++},d);b=!0;1E3<c&&(b=confirm("This will cause "+c+" nodes to be rendered, which will be slow. Is that what you want?"));
b&&A.STApp.the.C.wB(a)});$("#expand-most-button").click(function(){A.STApp.the.C.xB(A.STApp.the.T.id)});$("#close-all-panels-button").click(function(){return A.STApp.the.C.lA()});$("#react-unmount-all-button").click(function(){return v.unmountComponentAtNode($("#"+d.Gf.Pe)[0])});$("#stjson-to-console-button").click(function(){console.log(JSON.stringify(r.Qi(A.STApp.the.Z.rootmap)))});$("#clear-gui-and-listeners-button").click(function(){return A.STApp.the.C.destroy()});$("#reload-gui-and-listeners-button").click(function(){return A.STApp.the.C.reload()});
$("#store_fileid").click(function(){A.STApp.the.il();A.STApp.the.appdata.Pd()});new x("#copy-json-to-clipboard-button",{text:function(){try{var a=A.STApp.the.T.id,c="nothing";if(a){var d=A.STApp.the.Z.G(a);d&&(c=r.ru(d.Va));p.R(c)&&console.log("Copy node "+a+" subtree JSON to clipboard appears successful.")}else c=r.ru(A.STApp.the.Z.rootmap),p.R(c)&&console.log("Copy doc JSON to clipboard appears successful.");b.dlog("String length is "+c.length+".");return c}catch(G){return console.warn("Couldn't copy json to clipboard. Probably you don't have a document loaded. Here's the exception: ",
G),""}}});$("#paste-json-from-clipboard-button").click(function(){var a=$("#paste-json-from-clipboard-container"),c=$('<textarea placeholder="paste here"></textarea>').appendTo(a),d=$("<button>ok</button>").appendTo(a);d.click(function(){var a=JSON.parse(c.val());b.dlog("the json (why was I previously deleting the id?):",a);if(a.value&&a.value[u.SystDocPropNames.Dg])b.uc("Importing full doc."),A.STApp.the.wk({WC:a,di:!0});else{var e=A.STApp.the.Z,a=structure_together.googleJsonToSTData(e.Jb,a);b.dlog("the resulting STNodeData:",
a);a.get(u.SystPropNames.nodetype);a=e.ke(a,void 0);b.weakassert(e.jf(a.Va)," Node should be recorded at 'detached'.");e.top.Oa(a)}d.remove();c.remove()})});$("#add-missing-mutids").click(function(){b.dlog("Adding missing mutids for nodes that can take it and that have "+u.SystPropNames.S);A.STApp.the.Z.X.hc(function(a){p.fa(a.H.allowed_flatprops,u.SystPropNames.ya)&&!a.P.mb(u.SystPropNames.ya)&&a.P.mb(u.SystPropNames.S)&&a.P.U(u.SystPropNames.ya,a.P.v(u.SystPropNames.S))})});b.dlogcat(u.LogTypes.wa,
"end of setupClickHandlers()");$("#save-json-backup-button").click(function(){var a=A.STApp.the.Z.Nn();C.Ou(a+".g.json",JSON.stringify(r.Qi(A.STApp.the.Z.rootmap),null,1))});$("#backup-all-local-docs-button").click(function(){C.Ou("alldocs.json",A.STApp.the.appdata.yD())});$("#persist-file-delete").click(function(){var a=e.stwidgets.loadFileIdTextInput.getValue();A.STApp.the.appdata.zD(a);A.STApp.the.appdata.Pd()})}function f(){try{A.STApp.the.C.ds(y.STPLUGIN_IDS.ContextMenu)}catch(E){}}function l(){try{A.STApp.the.C.Kt(y.STPLUGIN_IDS.ContextMenu)}catch(E){}}
function n(){var a=document.getElementById("top_fixed_pos_buttons_bar");a.appendChild($("#st-display-buttons")[0]);a.appendChild($("button[name=st-options-widget]")[0]);a.appendChild($(".st-hidable-container[name=st-options-widget]")[0]);a=document.getElementById("top-of-page-row");a.appendChild($("button[name=filesystem_io-widget]")[0]);a.appendChild($("button[name=appdata-filemanager-io-widget]")[0]);a.appendChild($(".st-hidable-container[name=filesystem_io-widget]")[0]);a.appendChild($(".st-hidable-container[name=appdata-filemanager-io-widget]")[0])}
function g(){$(".st-widget-toggler").click(function(a){a=$(a.target);var b=a.attr("name");a.text()===a.attr("data-show-text")?(a.text(a.attr("data-hide-text")),$(".st-hidable-container[name="+b+"]").show()):(a.text(a.attr("data-show-text")),$(".st-hidable-container[name="+b+"]").hide())})}var b=a(7),d=a(264),e=a(14),p=a(4),u=a(9),r=a(8),v=a(46),x=a(303);k=a(192);var t=a(262),y=a(249),A=a(3),z=a(298),C=a(189),B=a(190);window.kO=k;c.afterWidgetsLoaded=[];c.sp=!1;c.kS=h;c.uM=f;c.JM=l;c.populateFileList=
function(a){var c=$("#persist-file-select");c.children().remove();a.keys().forEach(function(d){var e=a.get(d);b.dlogcat(u.LogTypes.appdata,"Adding option with title ",e," and value ",d);d=$('<option value="'+d+'">'+e+"</option>");c.append(d)});c.change(function(a){a=$(a.target).val();console.log("selected "+a);e.stwidgets.loadFileIdTextInput.setValue(a)});var d=e.stwidgets.loadFileIdTextInput.getValue();b.dlogcat(u.LogTypes.appdata,"fileid text input field says ",d);d&&(a.has(d)?c.val(d):e.stwidgets.loadFileIdTextInput.setValue(c.val()))};
c.gS=n;c.YG=function(){n();e.stwidgets.languageSelect=new t.Of("ps-language-select",u.sb.Do,{Nc:p.au(u.sb)});e.stwidgets.newFileNameTextInput=new t.Oq("input-name-of-new-file","stfile");e.stwidgets.loadFileIdTextInput=new t.Oq("id-of-file-to-load",u.Yv);var a=$("#input-name-of-new-file")[0];a&&autosizeInput(a);(a=$("#id-of-file-to-load")[0])&&autosizeInput(a);e.stwidgets.modelImplemSelect=new t.Of("st-model-implem-select",u.Bb.Bd,{Nc:p.au(u.Bb),za:function(a){b.dlog("stwidgets.modelImplemSelect.onmodelchange");
A.STApp.the.Td(!1,a)}});e.stwidgets.rtInMemCheckbox=new t.bc("InMemCheckbox",!1);e.stwidgets.showNodeIdsSelect=new t.Of("show_node_ids_select","none",{Nc:["none","short","long","short on hover","long on hover"],za:function(){try{A.STApp.the.C.Ba(!0,1)}catch(F){}}});e.stwidgets.debugLevel=new t.Kx("DebugLevelTextbox",0);e.stwidgets.nodeStubsEnabled=new t.bc("nodestubs-enabled",!0);e.stwidgets.showHiddenCheckbox=new t.bc("show-hidden-checkbox",!1,{za:function(){A.STApp.the.C.Ba(!0,2)}});e.stwidgets.fileManagerToggle=
new t.km("filemanager-toggle","fm",["fm","nofm"],{Fe:function(a){"fm"===a?($("#file-management-newfile-row").show(),$("#file-management-loadfile-row").show()):($("#file-management-newfile-row").hide(),$("#file-management-loadfile-row").hide())}});e.stwidgets.fasterReactive=new t.bc("fasterReactive",!1);e.stwidgets.reduceConstants=new t.bc("reduceConstants",!0,{za:function(){A.STApp.the.C.reload()}});e.stwidgets.showZoomButtons=new t.bc("showZoomButtons",!0,{za:function(a){a?$(".st-zoombutton").show():
$(".st-zoombutton").hide()}});e.stwidgets.showPanelToggleButtons=new t.bc("showPanelToggleButtons",!0,{za:function(a){a?$(".st-panelbutton").show():$(".st-panelbutton").hide()}});e.stwidgets.showDragHandles=new t.bc("showDragHandles",!0,{za:function(a){a?$(".st-draghandle").show():$(".st-draghandle").hide()}});e.stwidgets.showBullets=new t.bc("showBullets",!0,{za:function(){}});e.stwidgets.showMutidForms=new t.bc("showMutidForms",!1,{za:function(){A.STApp.the.C.Ba(!0,1)}});e.stwidgets.inlineEditing=
new t.bc("inline-editing",!0,{za:function(){}});e.stwidgets.showRefreshButtons=new t.bc("showRefreshButtons",!1,{za:function(a){a?$(".st-refresh-button").show():$(".st-refresh-button").hide()}});e.stwidgets.userModeInput=new t.km("structure-together-user-mode",u.Da.ze,[u.Da.vd,u.Da.ze,u.Da.Tj],{Fe:function(a){if(a===u.Da.Tj||a===u.Da.ze)l(),$("#top_fixed_pos_buttons_bar").show(),$("#top_fixed_pos_buttons_bar_row2").show(),$(".edit-icons").show();if(a===u.Da.vd||a===u.Da.ze)e.stwidgets.nodeStubsEnabled.hide(),
e.stwidgets.fasterReactive.hide(),$("#select-persistence").hide(),$("#structures-tabs").hide(),$("#test-examples-buttons").hide();switch(a){case u.Da.Tj:e.stwidgets.nodeStubsEnabled.show();e.stwidgets.fasterReactive.show();$("#file-management-newfile-row").show();$("#file-management-loadfile-row").show();$("#select-persistence").show();$("paste-json-from-clipboard-button").show();$("copy-json-to-clipboard-button").show();$("#structures-tabs").show();break;case u.Da.ze:structure_together.demo_mode||
structure_together.fg_mode?($("copy-json-to-clipboard-button").hide(),$("paste-json-from-clipboard-button").hide(),$("#file-management-newfile-row").hide(),$("#file-management-loadfile-row").hide(),$("#select-persistence").hide()):($("#select-persistence").show(),$("#file-management-loadfile-row").show(),$("#file-management-newfile-row").show());break;case u.Da.vd:f(),$("#file-management-newfile-row").hide(),structure_together.demo_mode?$("#file-management-loadfile-row").hide():$("#file-management-loadfile-row").show(),
$("#top_fixed_pos_buttons_bar_row2").hide(),$("#add-missing-mutids").hide(),$(".edit-icons").hide()}window.repositionMainPanel();A.STApp.the&&A.STApp.the.C&&A.STApp.the.C.Ba(!1,1)}});e.stwidgets.refStyle=new t.Of("refStyle","vibrant",{Nc:["vibrant","subdued","cloaked"],za:function(){try{A.STApp.the.C.Ba(!0,1)}catch(F){}}});e.stwidgets.subsequentRefStyle=new t.Of("subsequentRefStyle","subdued",{Nc:["vibrant","subdued","cloaked"],za:function(){try{A.STApp.the.C.Ba(!0,1)}catch(F){}}});h();g();c.sp=!0;
b.dlog("about to call fns in afterWidgetsLoaded");c.afterWidgetsLoaded.forEach(function(a){return a()});b.Ga("TEMP");window.oi=B.oi;window.GD=function(){B.oi("../../style/structure-together-dark-color-theme.css")};window.LD=function(){B.oi("../../style/structure-together-light-color-theme.css")};e.stwidgets.colorSchemeToggle=new t.km("structure-together-css-change-button","light",["light","dark"],{Fe:function(a){"dark"===a?window.LD():window.GD()}})}},function(k,c,a){var m,h,f;(function(l,n){!(h=
[k,a(304),a(306),a(307)],m=n,f="function"===typeof m?m.apply(c,h):m,void 0!==f&&(k.f=f))})(this,function(a,c,f,b){function d(a){return a&&a.Mx?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a,b){a="data-clipboard-"+
a;if(b.hasAttribute(a))return b.getAttribute(a)}var h=d(c),k=d(b),l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();c=function(a){function b(a,c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d;d=(b.__proto__||Object.getPrototypeOf(b)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.hG(c);d.tP(a);return d}e(b,a);l(b,[{key:"resolveOptions",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof a.action?a.action:this.oM;this.target="function"===typeof a.target?a.target:this.pM;this.text="function"===typeof a.text?a.text:this.qM}},{key:"listenClick",value:function(a){var b=this;this.listener=(0,k.default)(a,"click",function(a){return b.onClick(a)})}},{key:"onClick",
value:function(a){a=a.delegateTarget||a.currentTarget;this.Mh&&(this.Mh=null);this.Mh=new h.default({action:this.action(a),target:this.target(a),text:this.text(a),trigger:a,sn:this})}},{key:"defaultAction",value:function(a){return g("action",a)}},{key:"defaultTarget",value:function(a){if(a=g("target",a))return document.querySelector(a)}},{key:"defaultText",value:function(a){return g("text",a)}},{key:"destroy",value:function(){this.listener.destroy();this.Mh&&(this.Mh.destroy(),this.Mh=null)}}]);return b}(d(f).default);
a.f=c})},function(k,c,a){var m,h,f;(function(l,n){!(h=[k,a(305)],m=n,f="function"===typeof m?m.apply(c,h):m,void 0!==f&&(k.f=f))})(this,function(a,c){var f=c&&c.Mx?c:{default:c},b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;
"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();c=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.hG(b);this.sO()}d(a,[{key:"resolveOptions",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=a.action;this.sn=a.sn;this.target=a.target;this.text=a.text;this.trigger=a.trigger;this.Qo=""}},{key:"initSelection",value:function(){this.text?
this.dS():this.target&&this.eS()}},{key:"selectFake",value:function(){var a=this,b="rtl"==document.documentElement.getAttribute("dir");this.Du();this.yn=function(){return a.Du()};this.vs=document.body.addEventListener("click",this.yn)||!0;this.Fb=document.createElement("textarea");this.Fb.style.fontSize="12pt";this.Fb.style.border="0";this.Fb.style.padding="0";this.Fb.style.margin="0";this.Fb.style.position="absolute";this.Fb.style[b?"right":"left"]="-9999px";b=window.pageYOffset||document.documentElement.scrollTop;
this.Fb.addEventListener("focus",window.scrollTo(0,b));this.Fb.style.top=b+"px";this.Fb.setAttribute("readonly","");this.Fb.value=this.text;document.body.appendChild(this.Fb);this.Qo=(0,f.default)(this.Fb);this.EA()}},{key:"removeFake",value:function(){this.vs&&(document.body.removeEventListener("click",this.yn),this.yn=this.vs=null);this.Fb&&(document.body.removeChild(this.Fb),this.Fb=null)}},{key:"selectTarget",value:function(){this.Qo=(0,f.default)(this.target);this.EA()}},{key:"copyText",value:function(){var a=
void 0;try{a=document.execCommand(this.action)}catch(u){a=!1}this.ZN(a)}},{key:"handleResult",value:function(a){this.sn.emit(a?"success":"error",{action:this.action,text:this.Qo,trigger:this.trigger,iA:this.iA.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur();window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.Du()}},{key:"action",set:function(){this.nm=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if("copy"!==this.nm&&
"cut"!==this.nm)throw Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this.nm}},{key:"target",set:function(a){if(void 0!==a)if(a&&"object"===("undefined"===typeof a?"undefined":b(a))&&1===a.nodeType){if("copy"===this.action&&a.hasAttribute("disabled"))throw Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(a.hasAttribute("readonly")||a.hasAttribute("disabled")))throw Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');
this.kz=a}else throw Error('Invalid "target" value, use a valid Element');},get:function(){return this.kz}}]);return a}();a.f=c})},function(k){k.f=function(c){if("SELECT"===c.nodeName)c.focus(),c=c.value;else if("INPUT"===c.nodeName||"TEXTAREA"===c.nodeName)c.focus(),c.setSelectionRange(0,c.value.length),c=c.value;else{c.hasAttribute("contenteditable")&&c.focus();var a=window.getSelection(),k=document.createRange();k.selectNodeContents(c);a.removeAllRanges();a.addRange(k);c=a.toString()}return c}},
function(k){function c(){}c.prototype={on:function(a,c,h){var f=this.e||(this.e={});(f[a]||(f[a]=[])).push({fn:c,SA:h});return this},once:function(a,c,h){function f(){k.off(a,f);c.apply(h,arguments)}var k=this;f._=c;return this.on(a,f,h)},emit:function(a){var c=[].slice.call(arguments,1),h=((this.e||(this.e={}))[a]||[]).slice(),f=0,k=h.length;for(f;f<k;f++)h[f].fn.apply(h[f].SA,c);return this},off:function(a,c){var h=this.e||(this.e={}),f=h[a],k=[];if(f&&c)for(var m=0,g=f.length;m<g;m++)f[m].fn!==
c&&f[m].fn._!==c&&k.push(f[m]);k.length?h[a]=k:delete h[a];return this}};k.f=c},function(k,c,a){function m(a,c,b){a.addEventListener(c,b);return{destroy:function(){a.removeEventListener(c,b)}}}function h(a,c,b){Array.prototype.forEach.call(a,function(a){a.addEventListener(c,b)});return{destroy:function(){Array.prototype.forEach.call(a,function(a){a.removeEventListener(c,b)})}}}var f=a(308),l=a(309);k.f=function(a,c,b){if(!a&&!c&&!b)throw Error("Missing required arguments");if(!f.string(c))throw new TypeError("Second argument must be a String");
if(!f.fn(b))throw new TypeError("Third argument must be a Function");if(f.node(a))return m(a,c,b);if(f.LE(a))return h(a,c,b);if(f.string(a))return l(document.body,a,c,b);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");}},function(k,c){c.node=function(a){return void 0!==a&&a instanceof HTMLElement&&1===a.nodeType};c.LE=function(a){var k=Object.prototype.toString.call(a);return void 0!==a&&("[object NodeList]"===k||"[object HTMLCollection]"===k)&&"length"in
a&&(0===a.length||c.node(a[0]))};c.string=function(a){return"string"===typeof a||a instanceof String};c.fn=function(a){return"[object Function]"===Object.prototype.toString.call(a)}},function(k,c,a){function m(a,c,k,g){return function(b){b.delegateTarget=h(b.target,c);b.delegateTarget&&g.call(a,b)}}var h=a(310);k.f=function(a,c,h,g,b){var d=m.apply(this,arguments);a.addEventListener(h,d,b);return{destroy:function(){a.removeEventListener(h,d,b)}}}},function(k){if(Element&&!Element.prototype.matches){var c=
Element.prototype;c.matches=c.matchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||c.webkitMatchesSelector}k.f=function(a,c){for(;a&&9!==a.nodeType;){if(a.matches(c))return a;a=a.parentNode}}},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=
null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=a(312),f=a(298),l=a(7),n=a(8),g=a(302),b=a(299);k=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.Pd=function(a){var c=this;l.uc("RealtimeAppData.loadAppData() called");f.dm.zd.xt(function(){b.xq.FD(function(b){c.appDataDoc=b;c.appDataRootmap.has(h.APPDATA_KEYS.fileid_to_name)?(l.dlog("The file id map: ",n.Pg(c.fileid_to_name_umap)),g.populateFileList(c.fileid_to_name_umap)):(l.dlog("Initializing app data map of fileids to doc titles"),
c.appDataRootmap.set(h.APPDATA_KEYS.fileid_to_name,c.appDataSyncingModel.createMap()));a&&a()},function(){console.warn("This is the opt_initializerFn param given to RTLoaderWrapped.loadAppDataDoc")},function(a){console.error("Error loading AppData doc for realtime:",a)})})};c.prototype.Vg=function(){l.dwarn("Realtime AppData should already be saved automatically.!")};return c}(h.AppData);c.jx=k},function(k,c,a){function m(a){return"StructureTogether.upstate."+a}var h=a(8),f=a(4),l=a(7);c.APPDATA_KEYS=
{fileids:"_structure_together_files",fileid_to_name:"_structure_together_fileid_to_name"};c.cR=m;k=function(){function a(){}Object.defineProperty(a.prototype,"appDataSyncingModel",{get:function(){this.appDataDoc||console.error("You need to call loadAppData first.");return this.appDataDoc.getModel()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"appDataRootmap",{get:function(){return this.appDataSyncingModel.getRoot()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"fileid_to_name_umap",{get:function(){return this.appDataRootmap.get(c.APPDATA_KEYS.fileid_to_name)},enumerable:!0,configurable:!0});a.prototype.et=function(){return f.R(this.appDataDoc)&&f.R(this.appDataDoc.getModel())&&f.R(this.appDataDoc.getModel().getRoot())};a.prototype.lr=function(a,b){this.fileid_to_name_umap.has(a)&&this.fileid_to_name_umap.get(a)===b?l.dlog("FYI: already had mapping file id "+a+" --\x3e filename "+b):this.fileid_to_name_umap.set(a,b);l.dlog("The fileid to name map:",h.Pg(this.fileid_to_name_umap))};
a.prototype.aC=function(){return this.fileid_to_name_umap.keys()};a.prototype.getFileName=function(a){return this.fileid_to_name_umap.get(a)};a.prototype.Vg=function(){throw new f.Sw;};a.prototype.Cn=function(a){var b=null;h.LB(this.fileid_to_name_umap,function(c,e){null===b&&e===a&&(b=c)});return b};a.prototype.lC=function(a){a=m(a);var b=this.appDataRootmap.get(a);f.F(b)&&(l.dlog("No upstate found at key "+a+". Will create. Whole AppData looks like:"),l.dlog(this.appDataSyncingModel),l.dlog(this.appDataRootmap),
b=this.appDataSyncingModel.createMap(),this.appDataRootmap.set(a,b));return b};return a}();c.AppData=k},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=a(312),f=a(8),l=a(9),n=a(7),g=a(292),b=a(297),d=a(4);
k=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.Pd=function(a){var b=this;n.dlog("LocalAppData.loadAppData");n.timerStart("loadAppData");var c=store.get("_structure_together.appdata");c?(this.appDataDoc=new g.gh(!1,!1,!1),n.dlogcat(l.LogTypes.Wn,"This is app_data_json",c),c=f.googleJsonToSTData(this.appDataSyncingModel,c,!1),this.appDataSyncingModel.rootmap=c,a&&a()):(this.appDataDoc=new g.gh(!0,!1,!1),this.appDataRootmap.set(h.APPDATA_KEYS.fileid_to_name,
this.appDataSyncingModel.createMap()));this.al(function(){b.Vg()});n.dlogcat(l.LogTypes.Wn,"The file id map: ",f.Pg(this.fileid_to_name_umap));syncing_data.populateFileList(this.fileid_to_name_umap);n.timerEnd("loadAppData")};c.prototype.al=function(a){this.appDataSyncingModel.Ug=function(b){n.dassert(b.isLocal);a(b)}};c.prototype.Vg=function(){var a=this;d.Zi("setLocalStorageFromSTDocData",function(){return a.xG()},l.MIN_TIME_BETWEEN_LOCAL_STORAGE_WRITES)};c.prototype.xG=function(){n.uc("Saving app data!");
var a=f.Qi(this.appDataRootmap);store.set("_structure_together.appdata",a)};c.prototype.yD=function(){var a="[\n",c=this.fileid_to_name_umap.keys();n.dlog(c.length);c.forEach(function(d,e){n.dlog(e);d=b.zn(d);if(d=localStorage.getItem(d))a+="\t"+d,e<c.length-1?a+=",":n.dlog("no comma"),a+="\n"});return a+="]"};c.prototype.zD=function(a){this.Pd();if(this.fileid_to_name_umap.has(a)){var c=this.getFileName(a);confirm("Delete "+c+" ("+a+")?")&&(c=b.zn(a),d.R(store.get(c))?(store.remove(c),n.dwarn("removed object at browser storage key "+
c)):n.dwarn("browser storage key "+c+" not found"),this.fileid_to_name_umap.delete(a),this.Vg(),n.dwarn("removed "+a+" from fileid_to_name_umap"))}else n.dwarn(a+" not in fileid_to_name_umap. doing nothing.")};c.prototype.AD=function(a){void 0===a&&(a=!0);this.Pd();var c=this.aC(),d=l.Rl+b.Ql,e=d.length,f=0,g;for(g in store.getAll())if(_.startsWith(g,d)){var h=g.substring(e),k=this.getFileName(h);0<=c.indexOf(h)?(console.log("will NOT delete "+k+" ("+h+")"),f++):a?console.log("will delete "+k+" ("+
h+") when not in dry run"):(console.log("will delete "+k+" ("+h+")"),localStorage.removeItem(g))}console.log(f+" files NOT deleted.")};return c}(h.AppData);c.iq=k},function(k,c,a){var m=a(12),h=a(256),f=a(7);k=a(315);a(14);var l=a(316),n=a(16),g=a(317),b=a(318),d=a(315),e=a(13),p=a(6),u=a(9),r=a(4),v=a(320),x=a(321);a=a(319);var t=function(){function a(b,c,d,f,g){var k=this;this.VA=c;this.ql=f;this.ur=new Map;this.Y=new y(this);this.qo=e.o.aa;this.Fr="defn freeform";this.tu=_.clone(u.Ax);this.mc=
new Map;this.so=new Map;this.sk=new Map;this.Yc=new h.Zw;this.name=b;this.as=c.map(function(a){return e.nb(a)});g&&r.Pz(this.as,g.map(function(a){return a.nodetype_name}));this.Ig=[this.ql].concat(a.In).concat(this.VA);this.node_class_names=[this.ql.nodetype_name].concat(a.Bs).concat(this.as).concat(d);this.Ig.forEach(function(a){k.mc.set(e.nb(a),a);a.abstract||k.so.set(e.nb(a),a)})}a.XC=function(){a.In=[m.pc,p.Aa,p.pj,p.ua,p.Xw,p.tb,p.qa,p.aa,p.Ml,p.Xa,p.ij,p.Cb,p.$b,p.Ic,p.Xl,p.Nf,p.Ol,p.Bw,p.Ne];
a.Bs=a.In.map(function(a){return e.nb(a)});a.xn={LeafRefableInText:[p.tb.nodetype_name],ParentalRefableInText:[p.tb.nodetype_name]};Object.seal(a.In);Object.seal(a.Bs);Object.seal(a.xn)};a.prototype.ik=function(a){f.assert_nt(a);return this.Yc.children(a)};a.prototype.Nr=function(a){this.Ig.forEach(function(b){a.forEach(function(a){r.Ge(r.fa(b,a),"Node class "+b.nodetype_name+" is missing static field ."+a+". Every class must define this; it cannot be inherited (because of the shared -ata complication with inheritance of static props).")})})};
a.prototype.gA=function(){function a(a,b){return"Node class "+a.nodetype_name+" must have a default value for its required boolean prop "+b+"."}this.Ig.forEach(function(b){r.zk(b.required_flatprops,function(c){switch(b.required_flatprops[c]){case 1:r.Ge(b.default_bool_prop_vals&&r.fa(b.default_bool_prop_vals,c),a(b,c));break;case 2:r.Ge(b.default_num_prop_vals&&r.fa(b.default_num_prop_vals,c),a(b,c));break;default:r.Zf(c,u.SystPropNames.nodetype,u.SystPropNames.hd)||r.Ge(r.fa(b.default_str_prop_vals_at_init,
c)||r.fa(b.default_str_prop_vals_when_empty,c),"Node class "+b.nodetype_name+" must have a default value for its required string prop "+c+".")}})})};a.prototype.AB=function(){var a=this;this.Ig.forEach(function(b){b.parents&&b.parents.forEach(function(c){a.Om(b,c)})})};a.prototype.BB=function(){this.Ig.forEach(function(a){f.dassert("allowed_ch"in a,"Node class "+a.nodetype_name+" is missing .allowed_ch. Every class must define this; it cannot be inherited.");f.dassert(r.fa(a,"abstract"));if("required_flatprops"in
a)if("allowed_flatprops"in a){a.allowed_flatprops=_.cloneDeep(a.allowed_flatprops);try{r.nf(a.allowed_flatprops,a.required_flatprops)}catch(C){console.error("Exception in mergeSimpleObjectsSecondIntoFirst with nodetype "+a.nodetype_name)}}else a.allowed_flatprops=_.cloneDeep(a.required_flatprops);else a.required_flatprops={};"required_nch"in a?"allowed_nch"in a?(a.allowed_nch=_.cloneDeep(a.allowed_nch),r.nf(a.allowed_nch,a.required_nch)):a.allowed_nch=_.cloneDeep(a.required_nch):a.required_nch={};
"min_ch"in a||(a.min_ch={});"max_ch"in a||(a.max_ch={});a.allowed_ch||f.dwarn(a.nodetype_name);a.allowed_ch.forEach(function(b){b in a.max_ch||(a.max_ch[b]=Infinity);b in a.min_ch||(a.min_ch[b]=0)})})};a.prototype.oA=function(){this.Yr=d.pA(a.RB,this.CA)};a.prototype.VB=function(a,b){return this.Yr.rg(a,b)};a.prototype.WB=function(a){return this.Yr.get(a)};a.prototype.rd=function(a){return this.so.has(a)};a.prototype.yb=function(a,b){f.dassert(r.jb(this.node_class_names,a)&&r.jb(this.node_class_names,
b),a+", "+b);return this.Yc.ci(a,b)};a.prototype.qf=function(a){return this.mc.get(a)};a.prototype.Om=function(a,b){a=e.nb(a);b="string"===typeof b?b:e.nb(b);this.sk.has(a)||this.sk.set(a,[]);this.sk.get(a).push(b)};a.prototype.qg=function(){function a(a){return a}function c(){return{}}var d=this;f.timerStart("genericInitialize for "+this.toString());f.dassert(0<this.mc.size,"Call setClasses first");this.Nr(["abstract","nodetype_name","allowed_ch"]);this.AB();this.BB();this.Nr(["required_nch","required_flatprops",
"min_ch","max_ch"]);this.uA();structure_together.assertions_enabled&&this.node_class_names.forEach(function(a){r.Ge(d.Yc.has(a),a+" is missing from subtype_reln.")});f.dassert(!r.fa(m.pc.required_flatprops,u.SystPropNames.ya));f.dassert(!r.fa(p.qa.required_flatprops,u.SystPropNames.ya));this.gc("required_flatprops",c);f.dassert(!r.fa(m.pc.required_flatprops,u.SystPropNames.ya));f.dassert(!r.fa(p.qa.required_flatprops,u.SystPropNames.ya));this.gc("allowed_flatprops",c);this.gc("default_str_prop_vals_when_empty",
c,a);this.gc("default_str_prop_vals_at_init",c,a);this.gc("default_num_prop_vals",c,a);this.gc("default_bool_prop_vals",c,a);this.gc("allowed_nch",c);this.gc("max_ch",c,function(a,b){return Math.min(a,b)});this.gc("min_ch",c,function(a,b){return Math.max(a,b)});this.gc("upstate",Array,r.nf);this.gc("cache_updaters",Array,r.nf);this.gc("possible_values",c,a);this.Vr("flatprop_change_listeners");this.Vr("emphasize_view");this.gc("inliningvm_props",Array,r.nf);structure_together.assertions_enabled&&
this.mc.forEach(function(a,b){r.Sd(a.min_ch).forEach(function(a){r.Ge(r.jb(d.node_class_names,a),a+" found in class of "+b+".min_ch isn't in <Language "+d.name+">.node_class_names. While checking min_ch of nodetype "+b)})});this.Ig.forEach(function(a){var b=new Set;a.allowed_ch.forEach(function(a){d.rd(a)&&b.add(d.mc.get(a));d.ik(a).forEach(function(a){d.rd(a)&&b.add(d.mc.get(a))})});d.ur.set(a,b);a.inliningvm_props&&d.Y.rc(e.nb(a),a.inliningvm_props)});this.oA();this.Y.Hj(r.h([e.o.Jf,b.ma],[e.o.tb,
l.mx],[e.o.aa,n.Kl],[e.o.NodeStub,v.Fx],[e.o.$b,x.Sv]));f.uc("Following calls to addExtraAllowedInliningVMProps SHOULD now be redundant.");this.Y.rc(e.o.tb,[u.SystPropNames.S,u.SystPropNames.Oc]);this.Y.rc(e.o.aa,[u.SystPropNames.text,u.SystPropNames.S,u.SystPropNames.qe]);this.Y.rc(e.o.$b,[u.SystPropNames.ch]);this.Y.rc(e.o.Jf,[u.SystPropNames.V]);this.Y.df(e.o.aa,[u.SystPropNames.ch,u.SystPropNames.nch]);this.tA(this.Y.rh);this.gA();f.dwarncat(u.LogTypes.SE,"Disabled 'check that for each nodeclass, its name in typescript matches val of static var .name'");
this.Y.sA();this.oD=r.ZE(this.PE);f.timerEnd("genericInitialize for "+this.name)};a.prototype.uA=function(){var b=this;f.dlogcat(u.LogTypes.wa,"Entering computeTransitiveClosureOfSubtypingRelation");this.Yc.mB(this.node_class_names);this.sk.forEach(function(a,c){f.dassert(r.jb(b.node_class_names,c),c+" is missing from node_class_names");a.forEach(function(a){f.dassert(r.jb(b.node_class_names,a),a+" is missing from node_class_names");b.Yc.je(c,a)})});Object.getOwnPropertyNames(a.xn).forEach(function(c){a.xn[c].forEach(function(a){b.Yc.je(c,
a)})});this.node_class_names.forEach(function(a){f.dassert("Object"!=a);if(b.mc.has(a)){var c=b.mc.get(a);"function"===typeof c&&(c=Object.getPrototypeOf(c.prototype).constructor,c.nodetype_name&&(c=e.nb(c),f.dassert(b.mc.has(c),c+" is missing from node_class_dispatch"),b.Yc.je(a,c)))}});this.Yc.cI()};a.prototype.gc=function(a,b,c){var d=this;this.Yc.ef(function(e,g){try{var h=d.mc.get(e),k=d.mc.get(g);null!=h&&null!=k&&(h.hasOwnProperty(a)?k.hasOwnProperty(a)&&(h[a]=_.cloneDeep(h[a]),r.nf(h[a],k[a],
c)):(f.dlogcat(u.LogTypes.pt,"Setting property "+a+" of nodetype "+e+" to default value of "+r.Bo(b())),h[a]=b()))}catch(I){throw f.derr("Error in computeInheritedStaticData while handling "+e+" and "+g),I;}})};a.prototype.tA=function(a){this.Yc.ef(function(b,c){b!==c&&a.has(c)&&(a.has(b)||a.set(b,[]),r.ZD(a.get(b),a.get(c)))})};a.prototype.Ur=function(a,b){this.Yc.ef(function(c,d){c!==d&&(d=a(d),!r.F(d)&&r.F(a(c))&&b(c,d))})};a.prototype.Vr=function(a){var b=this;this.Ur(function(c){return(c=b.mc.get(c))?
c[a]:null},function(c,d){(c=b.mc.get(c))&&(c[a]=d)})};return a}();t.RB=k.Ul;c.Me=t;var y=function(){function a(a){this.lang=a;this.gi={};this.Zg={};this.rh=new Map;this.Em=new Map}a.prototype.qC=function(b){if(b.nch){b=b.nch;var c=void 0;b.fnref?c=b.fnref:b.predref&&(c=b.predref);if(c&&c[u.SystPropNames.Xd]&&a.Wo[c[u.SystPropNames.Xd]])return c[u.SystPropNames.Xd]}return null};a.prototype.Hj=function(a){var b=this;Object.getOwnPropertyNames(a).forEach(function(c){b.gi[c]&&b.gi[c]!==a[c]&&f.dwarn("Inlining component already registered for "+
c,b.gi[c],"Replacing with ",a[c]);b.gi[c]=a[c]})};a.prototype.dC=function(c,d){if(d&&(d=this.qC(d)))return a.Wo[d];d=this.gi[c];if(!d){d=this.lang.qf(c);if(d.inlining_class)return d.inlining_class;if(this.lang.yb(c,e.o.Jf))return b.ma;f.dwarncat(u.LogTypes.pt,"inlining_component_dispatch["+c+"] is undefined and "+c+" is not a subtype of RefNode, so returning DefaultInliningComponent.");return g.bw}return d};a.prototype.rc=function(a,b){"string"!==typeof a&&(a=e.nb(a));r.Ge(r.jb(this.lang.node_class_names,
a),a+" not found in node class names");this.rh.has(a)?(c=this.rh.get(a)).push.apply(c,b):this.rh.set(a,b);var c};a.prototype.$B=function(a){"string"!==typeof a&&(a=e.nb(a));return this.rh.get(a)};a.prototype.df=function(a,b){"string"!==typeof a&&(a=e.nb(a));r.Ge(r.jb(this.lang.node_class_names,a),a+" not found in node class names");f.dassert(!this.Em.has(a));this.Em.set(a,b)};a.prototype.ZB=function(a){"string"!==typeof a&&(a=e.nb(a));return this.Em.get(a)};a.prototype.vz=function(a){var b=this;Object.getOwnPropertyNames(a).forEach(function(c){f.dassert(!b.Zg[c]);
b.Zg[c]=a[c]})};a.prototype.XB=function(a){return this.Zg[a]};a.prototype.sA=function(){var a=this;this.lang.Ur(function(b){return a.Zg[b]},function(b,c){a.Zg[b]=c});var b=r.Sd(this.Zg).length;f.dlogif(0<b,b+" nodetypes have custom inlining vm updater registered")};return a}();y.Wo={Jl:a.Jl,fq:a.fq,gq:a.gq,Np:a.Np,Op:a.Op,Tl:a.Tl,Al:a.Al,gm:a.gm,Hp:a.Hp,sq:a.sq,bq:a.bq};c.Gw=y},function(k,c,a){var m=a(256);c.Ul=[];c.PN=function(a,f){for(var h=0;h<c.Ul.length;h++){var k=c.Ul[h];if(k.from===a&&k.to===
f)return k}return null};c.from=function(a){return a.from};c.to=function(a){return a.to};c.mR=function(a,c){for(var f=0;f<a.ud.length;f++)if(a.ud[f][0]===c)return a.ud[f][1];return null};c.AO=function(a){return a.Gr};c.pA=function(a,c){c||(c=[]);a||(a=[]);a=a.concat(c);var f=m.pq();a.forEach(function(a){var c={};a.ud.forEach(function(a){c[a[0]]=a[1]});f.Ro(a.from,a.to,{from:a.from,to:a.to,ud:c});if(a.Gr){var b={};a.ud.forEach(function(a){b[a[1]]=a[0]});f.Ro(a.to,a.from,{from:a.to,to:a.from,ud:b})}});
return f}},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(18);var h=a(17),f=a(7),l=a(9),n=a(248);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){f.derr(l.LogTypes.wa,
"RefableInTextNodeInliningComponent.render");var a=[];a.push(h.va(this.props._html_name,this.props.nodeid,l.SystPropNames.S,this.props.stdocid));this.props._mutid&&a.push(" ["+this.props._mutid+"]");return n.l(this.ca({}),a)};return b}(k.L);c.mx=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=
b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(18);var h=a(4),f=a(9),l=a(17),n=a(248);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=[];h.fa(this.props,f.SystPropNames.S)?a.push(l.va(this.props[f.SystPropNames.S],this.props.nodeid,f.SystPropNames.S,this.B.stdocid)):(this.Wb.G(this.props.nodeid),this.props.hrlabel?a.push(n.ib(this.props.hrlabel)):a.push(this.props.nodetype));h.fa(this.props,f.SystPropNames.text)&&
a.push(" - ",l.va(this.props[f.SystPropNames.text],this.props.nodeid,f.SystPropNames.text,this.B.stdocid,!0));h.fa(this.props,f.SystPropNames.html)&&a.push(" - ",l.va(this.props[f.SystPropNames.html],this.props.nodeid,f.SystPropNames.html,this.B.stdocid,!1));return n.l({key:this.props.nodeid+".inlining"},a)};return b}(k.L);c.bw=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(18);var h=a(4),f=a(9),l=a(46),n=a(7),g=a(248),b=a(319),d=a(14),e=a(189),p=a(15);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){if(h.Ui(this.props.display_symb_only_of_ref))return console.warn("Trivial value for prop display_symb_only_of_ref:",this.props.display_symb_only_of_ref),g.l(this.ca({}),
"--triv display_symb_only_of_ref--");if(d.stwidgets.reduceConstants.getValue()&&h.R(this.props.curval))return n.nd("Don't do this if we're inside a ._defn node"),b.TA(this.props);n.derrif(!this.props._id_ref,"prop _id_ref is missing or trivial on node "+this.props.nodeid);return g.l(this.ca({className:"simple-inline-ref "+d.stwidgets.refStyle.value,"data-permid_ref":this.props._id_ref,dangerouslySetInnerHTML:{__html:e.zf(this.props.display_symb_only_of_ref)}}),null)};c.prototype.componentDidMount=
function(){var a=this,b=$(l.findDOMNode(this));b.on("click",function(){if(!p.inEditMode()||a.props.stdocid!==a.Wb.stdocid)return!0;var c=b.position(),d=$("<select class='minimal-select'></select>").css("position","absolute").css({left:c.left,top:c.top}).insertBefore(b),c=a.iC();_.map(c,function(a){a=$('<option value="'+a.value+'">'+a.display+"</option>");d.append(a)});d.val(a.props._id_ref);b.css("visibility","hidden");var e=!1,g=!1;d.on("change blur click",function(c){if("click"===c.type&&!p.inEditMode())return!0;
if("click"===c.type&&!g)return n.dlog("first click"),g=!0,!1;if(e)return null;e=!0;d.hide();a.pb({name:"ImmutableStringPropChange",nodeid:a.props.nodeid,label:f.SystPropNames.V,value:d.val()});b.css("visibility","initial");return!1});return!1})};c.prototype.iC=function(){n.Ga("RefNodeInliningComponent.getOptions");var a=this.Wb.G(this.props.nodeid),b=a.H;b.possible_values||n.dwarn("node class "+b.nodetype_name+" has no .possible_values");a="function"===typeof b.possible_values[f.SystPropNames.V]?
b.possible_values[f.SystPropNames.V](a):b.possible_values[f.SystPropNames.V];this.props._id_ref||n.Ga("_id_ref is null");0===a.length&&n.Vj("pos_vals.length === 0. SHOULD include all possible values");return a.map(function(a){return{display:a[0],value:a[1],key:a[1]}})};return c}(k.L);c.ma=a},function(k,c,a){function m(a){return _.round(a.curval,p.wq).toString()}function h(a,c){return e.R(a.curval)?b.l({key:a.nodeid+"curval"},c,m(a)):c}function f(a,c,f){if(!c.ch)return b.l({key:c.nodeid+"inlining"},
a);if(e.R(c.curval)&&u.stwidgets.reduceConstants.getValue())return h(c);for(var g=Array(c.ch.length),k=0;k<g.length;k++){var m;m=0<k?c.nch&&c.nch.fnref&&c.nch.fnref._id_ref?r.Sg(a,c.nch.fnref._id_ref,a+k,b.ga,{className:"dwmath-infix-multiline-op dwmath-td"}):c.nch&&c.nch.predref&&c.nch.predref._id_ref?r.Sg(a,c.nch.predref._id_ref,a+k,b.ga,{className:"dwmath-infix-multiline-op dwmath-td"}):b.ga({key:a+k,className:"dwmath-infix-multiline-op dwmath-td"},0===k?"":a):b.ga({key:a+k,className:"dwmath-infix-multiline-op dwmath-td"},
"");g[k]=b.Xb({key:"row"+k,className:"dwmath-infix-multiline-row"},m,b.ga({key:"formula",className:"dwmath-infix-multiline-formula dwmath-td"},d.J(f,c.ch[k])))}a=b.xd({className:"infix-multiline"},b.yd(null,g));return c.parenthesize?l(a,c.font_height||1.5*c.ch.length):a}function l(a,c,d){void 0===d&&(d="");return b.xd({className:"infix-multiline "+d},b.yd(null,b.Xb(null,b.ga({style:{transform:"scale(1,"+c+")"},className:"dwmath-td"},"("),b.ga({key:"inner",className:"dwmath-td"},a),b.ga({style:{transform:"scale(1,"+
c+")"},className:"dwmath-td"},")"))))}function n(a,c,f){var g=[];if(e.R(c.curval)&&u.stwidgets.reduceConstants.getValue())return h(c);c.ch&&0<c.ch.length?c.ch.forEach(function(e,h){g.push(b.ga({key:e.key},d.J(f,e)));h<c.ch.length-1&&(c.nch&&c.nch.fnref&&c.nch.fnref._id_ref?g.push(r.Sg(a,c.nch.fnref._id_ref,a+h,b.ga,{className:"dwmath op"})):c.nch&&c.nch.predref&&c.nch.predref._id_ref?g.push(r.Sg(a,c.nch.predref._id_ref,a+h,b.ga,{className:"dwmath op"})):g.push(b.ga({className:"dwmath op",key:a+h},
a)))}):g.push(b.ga({key:"symbol"},a));var k;c.parenthesize?(k=b.xd({className:"dwmath-infix-op-singleline"},b.yd(null,b.Xb(null,g))),k=l(k,c.font_height||1,"node_inlining "+c.nodeid+"-inlining")):k=b.xd({className:"dwmath-infix-op-singleline node_inlining "+c.nodeid+"-inlining"},b.yd(null,b.Xb(null,g)));return k}var g=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};
return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),b=a(248);k=a(18);var d=a(247),e=a(4),p=a(9),u=a(14),r=a(188);c.SL=m;c.TA=h;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}g(c,a);c.prototype.K=function(){if(!this.props.ch||2>this.props.ch.length)return b.Ib("Node needs two children to render fraction.");if(e.R(this.props.curval)&&u.stwidgets.reduceConstants.getValue())return h(this.props);
if(this.props.singleline)return n("/",this.props,this.B.stdocid);var a=d.J(this.B.stdocid,this.props.ch[0]),c=d.J(this.B.stdocid,this.props.ch[1]);return b.xd(this.ca({className:"dwmath-frac"}),b.yd(null,b.Xb({key:"numer"},b.ga({className:"dwmath-numerator dwmath-td"},a)),b.Xb({key:"div"},b.ga(null,b.Gu({className:"dwmath-divides-bar dwmath-td"}))),b.Xb({key:"den"},b.ga({className:"dwmath-denominator dwmath-td"},c))))};return c}(k.L);c.Jl=a;a=function(a){function c(){return null!==a&&a.apply(this,
arguments)||this}g(c,a);c.prototype.K=function(){if(!this.props.ch||2>this.props.ch.length)return b.Ib("Node needs at least two children to render cases.");var a=b.ga({key:"lhs",className:"dwmath-cases-lhs"},d.J(this.B.stdocid,this.props.ch[0])),c=[],e=0===this.props.ch.length%2,f;f=e?Math.floor((this.props.ch.length-1)/2):(this.props.ch.length-1)/2;for(var g=0;g<f;g+=1)c.push(b.Xb({key:"rhs"+g,className:"dwmath-cases-row"},b.ga({key:"val",className:"dwmath-cases-val"},d.J(this.B.stdocid,this.props.ch[2*
g+1])),b.ga({key:"cond",className:"dwmath-cases-cond"},b.l({key:"if",className:"dwmath-cases-if"},"if"),d.J(this.B.stdocid,this.props.ch[2*g+2]))));e&&c.push(b.Xb({key:"rhs"+f,className:"dwmath-cases-row"},b.ga({key:"val",className:"dwmath-cases-val"},d.J(this.B.stdocid,this.props.ch[this.props.ch.length-1])),b.ga({key:"cond",className:"dwmath-cases-cond"},b.l({key:"if",className:"dwmath-cases-if"},"otherwise"))));return b.xd({className:"dwmath-cases"},b.yd(null,b.Xb({},a,b.ga({key:"equals",className:"dwmath-cases-equals dwmath-td"},
"="),b.ga({key:"curly",className:"dwmath-cases-curly dwmath-td",style:{transform:this.props.font_height?"scale(1,"+this.props.font_height.toString()+")":"scale(1,"+c.length.toString()+")"}},"{"),b.ga({key:"rhs",className:"dwmath-td"},b.xd(null,b.yd(null,c))))))};return c}(k.L);c.Rv=a;c.rE=f;c.lF=function(a,c){var d;d||(d=a.props.font_height||1);return b.xd(a.ca({className:"infix-multiline"}),b.yd(null,b.Xb(null,b.ga({style:{transform:"scale(1,"+d+")"},className:"dwmath-td"},"("),b.ga({key:"inner",
className:"dwmath-td"},c),b.ga({style:{transform:"scale(1,"+d+")"},className:"dwmath-td"},")"))))};c.LQ=l;c.rS=n;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}g(b,a);b.prototype.K=function(){return this.props.multiline?f(this.symbol,this.props,this.B.stdocid):n(this.symbol,this.props,this.B.stdocid)};return b}(k.L);c.wJ=a;var v=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.symbol="<";return b}g(b,a);return b}(a);c.fq=v;v=function(a){function b(){var b=
null!==a&&a.apply(this,arguments)||this;b.symbol="\u2264";return b}g(b,a);return b}(a);c.gq=v;v=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.symbol=">";return b}g(b,a);return b}(a);c.Np=v;v=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.symbol="\u2265";return b}g(b,a);return b}(a);c.Op=v;v=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.symbol="\u00b7";return b}g(b,a);return b}(a);c.Tl=v;v=function(a){function b(){var b=
null!==a&&a.apply(this,arguments)||this;b.symbol="+";return b}g(b,a);return b}(a);c.Al=v;v=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.symbol="-";return b}g(b,a);return b}(a);c.gm=v;a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.symbol="=";return b}g(b,a);return b}(a);c.kw=a;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}g(c,a);c.prototype.K=function(){return!this.props.ch||2>this.props.ch.length?b.Ib("Need at least two children"):
b.l(this.ca({className:"dwmath-exp"}),d.J(this.B.stdocid,this.props.ch[0]),b.Xk({key:"sup"},d.J(this.B.stdocid,this.props.ch[1])))};return c}(k.L);c.Hp=a;k=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}g(c,a);c.prototype.K=function(){if(!this.props.ch||4>this.props.ch.length)return b.Ib("Needs at least 4 children to render");var a=d.J(this.B.stdocid,this.props.ch[0]),c=d.J(this.B.stdocid,this.props.ch[3]),a=b.l({className:"dwmath-lower-var-binder",key:"lb"},a,5===this.props.ch.length?
" = ":" \u2208 ",c),c=5<=this.props.ch.length?b.l({className:"dwmath-upperbound",key:"ub"},d.J(this.B.stdocid,this.props.ch[4])):null,e=b.l({className:"dwmath-binder-body",key:"dwmath-binder-body"},d.J(this.B.stdocid,this.props.ch[2]));return b.l(this.ca({className:"dwmath-binder-with-bounds-app"}),b.l({className:"dwmath-product-sign-and-bounds",key:"sign-and-bounds"},c,b.l({className:"dwmath-big-pi",key:"bigpi"},this.symbol),a),e)};return c}(k.L);c.KI=k;a=function(a){function b(){var b=null!==a&&
a.apply(this,arguments)||this;b.symbol="\u03a0";return b}g(b,a);return b}(k);c.sq=a;k=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.symbol="\u222b";return b}g(b,a);return b}(k);c.bq=k},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])};return function(c,h){function f(){this.constructor=c}a(c,h);c.prototype=null===h?
Object.create(h):(f.prototype=h.prototype,new f)}}();k=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){return null};return c}(a(18).L);c.Fx=k},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):
(d.prototype=b.prototype,new d)}}(),h=a(248);k=a(18);var f=a(247),l=a(7);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){var a=this,c=Array(2*this.props.ch.length-1);this.props.ch.forEach(function(b,d){b?(c[2*d]=f.J(a.B.stdocid,b),c[2*d+1]=h.Rk({key:"br"+d})):l.dwarn("null inlining")});return h.l(this.ca({}),c)};return c}(k.L);c.Sv=a},function(k,c,a){var m=a(5),h=a(14),f=a(3);a(4);var l=a(323),n=a(7),g=a(324),b=function(){function a(){this.widgets=
h.stwidgets;this.timer=new l.FelixTimer(3)}a.prototype.addLogType=function(a){window.structure_together.logging.addLogType(a)};a.prototype.removeLogType=function(a){window.structure_together.logging.removeLogType(a)};a.prototype.getnode=function(a){return"number"===typeof a?this.doc.aF(a):this.doc.G(a)};a.prototype.nodevm_show_cached=function(a){this.controller.Xu(this.getnode(a))};a.prototype.debugRT=function(){gapi.drive.realtime.debug()};Object.defineProperty(a.prototype,"doc",{get:function(){return f.STApp.the.Z},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"controller",{get:function(){return f.STApp.the.C},enumerable:!0,configurable:!0});a.prototype.saveCurrentDocToLocal=function(a){f.yG(a)};a.prototype.storeDocIdTitlePair=function(){return f.STApp.the.il()};a.prototype.cleanupLocalStorage=function(a){void 0===a&&(a=!0);f.STApp.the.appdata.AD(a);a&&console.warn("This was a DRY RUN")};a.prototype.deepLinkCopyNode=function(a,b,c){return this.doc.deepLinkCopyNode(a,b,c)};a.prototype.undoRedoStackSizes=
function(){console.log(f.STApp.the.Z.Jb.gH())};a.prototype.undoRedoStacks=function(){console.log(f.STApp.the.Z.Jb.DF())};a.prototype.addGoogleDriveSharingHelpersToWindow=function(){g.addGoogleDriveSharingHelpersToWindow()};a.prototype.testDocCopy=function(){var a=this.doc;n.timerStart("doccopy");m.YA(a,a.top.Va);n.timerEnd("doccopy");console.log(a.cache.permid2node.size+" nodes")};return a}();c.nD=function(){window.std=new b;window.st=window.structure_together}},function(k,c){k=function(){function a(a){void 0===
a&&(a=0);this.aE=a;this.mi={};this.count={};this.sum={};this.Er={}}a.prototype.start=function(a){this.mi[a]=window.performance.now()};a.prototype.end=function(a){if(this.mi[a]){var c=window.performance.now()-this.mi[a],f=this.count[a]?this.count[a]+1:1;this.count[a]=f;var k=this.sum[a]?this.sum[a]+c:c;this.sum[a]=k;this.Er[a]=k/f;delete this.mi[a];return c}};a.prototype.reset=function(){this.count={};this.sum={};this.Er={};this.mi={}};return a}();c.FelixTimer=k},function(k,c,a){function m(a,b){a||
(a=l.STApp.the.ki||syncing_data.widgets.loadFileIdTextInput().getValue());gapi.client.load("drive","v2").then(function(){(a?gapi.client.drive.permissions.list({zB:a}):gapi.client.drive.permissions.list()).then(function(a){b&&(b.QO=a);console.log(a);console.log(a.result.permissions)},function(a){console.error("Error: "+a.result.error.message)})})}function h(a){return function(b){b||(b=l.STApp.the.ki||syncing_data.widgets.loadFileIdTextInput().getValue());n.assert_nt(b);n.dwarn("giving permissions for "+
b+" to "+a);gapi.client.load("drive","v3").then(function(){gapi.client.drive.permissions.create({zB:b,type:"user",role:"writer",HM:a}).then(function(a){console.warn("Google request response:",a)},function(a){console.error("Error: "+a.result.error.message)})})}}function f(){window.structure_together.HN=m;window.structure_together.perms2ddawg=c.DC;window.structure_together.SQ=c.EC;window.structure_together.perms2laura=c.FC}var l=a(3),n=a(7);c.WR=function(a){a.then(function(a){console.log(a)},function(a){console.error("Error: "+
a.result.error.message)})};c.permissions=m;c.DC=h("d.dawg.fresh@gmail.com");c.EC=h("dustin.wehr@gmail.com");c.FC=h("laura.eg.simon@gmail.com");c.addGoogleDriveSharingHelpersToWindow=f;f()},function(k,c,a){function m(a,d){var b=f.SD(c.cp,l.stwidgets.exampleSelect.value);l.stwidgets.languageSelect.value=b.lang;n.STApp.the.Td(!1,a);0===d?n.STApp.the.wk({hs:b.Jr,di:!0}):1===d&&n.STApp.the.wk({js:b.Jr,di:!0})}var h=a(9),f=a(4),l=a(14),n=a(3);k=a(326);var g=a(333);a=a(262);c.cp=new Map;c.cp.set("factoring",
k.yB);c.cp.set("basic outline",g.kF);l.stwidgets.exampleSelect=new a.Of("ps-example-select",h.hm.us,{Nc:[h.hm.us,h.hm.aA]});c.yH=function(){$("<button id='localModel-stdoc-build-then-gui'>stdoc build then gui</button>").appendTo("#LocalModel-tests").addClass("proofsocial-test-button").click(function(){m(h.Bb.Bd,1)});$("<button>gui then stdoc build</button>").appendTo("#LocalModel-tests").addClass("proofsocial-test-button").click(function(){m(h.Bb.Bd,0)});$("<button id='RT-stdoc-build-then-gui'>stdoc build then gui</button>").appendTo("#RT-tests").addClass("proofsocial-test-button").click(function(){m(h.Bb.jh,
1)});$("<button>gui then stdoc build</button>").appendTo("#RT-tests").addClass("proofsocial-test-button").click(function(){m(h.Bb.jh,0)})};c.eT=m;window.structure_together=window.structure_together||{};window.structure_together.debug=window.structure_together||{};window.structure_together.debug.tests=!0},function(k,c,a){k=a(7);var m=a(9),h=a(327),f=a(6),l=a(328),n=a(332);k.dlogcat(m.LogTypes.wa,"Entering test_factoring_proof_builder...");c.yB=new h.Dq(m.sb.Rn,function(a){function b(b){a.Hh(b,B);return b}
a.top.WG();var c=l.fE(a),e=l.cE(a),g=l.eE(a),h=l.iE(a),k=l.jE(a),m=f.ko(a),x=f.ko(a),t=l.hE(a),y=l.kE(a),A=l.bE(a),z=l.dE(a),C=m("this is at the highest visible level",a.top);C.Wg("test...");x("This node has arbitrary <i><b>html</b></i>. \n\t\t<ol>\n\t\t\t<li>one</li>\n\t\t\t<li>two</li>\n\t\t</ol>\n\t\t\n\t\tLinebreak markup, or any other markup, is not inserted.\n\t\t\n\t\t{list_of_nat}");var B=new l.Zl(a,null);m("this is a text-only node, referencing 'nat': {nat}",B);B.Nk="Proof that every natural number 2 or greater has a prime factorization";
a.Hh(B,a.top);x=b(h("\u2115<sup>\u22652</sup>"));x.Wg("nat");x.interp="The natural numbers";var E=b(h("List[{nat}]"));E.Wg("list_of_nat");E.interp="Non-empty finite lists containing elements of {nat}.";var F=b(c("n",x));b(c("k",x));var h=b(c("a",x)),m=b(c("b",x)),D=b(c("s",E)),G=b(e());G.Ie("\u03a0");G.interp="The product of the numbers in the given list.";G.Ha.Yf(t(E));G.Ha.Yf(t(x));var H=b(g("AllPrimes"));H.interp="All numbers in the given list are primes";H.Ha.Oa(t(E));c=b(e("singleton"));c.interp=
"The list consisting of just the given number.";c.Ha.Oa(t(x),t(E));c=b(g("hasPrimeFact"));c.Ha.Oa(t(x));c.interp="The number has a prime factorization";var I=b(g("isPrimeFactOf"));I.Ha.Oa(t(E),t(x));(function(){var b=new l.$l(a);b.KF="\u2200";b.Oa(y(D));var c=new l.$l(a);c.KF="\u2200";c.Oa(y(F));var d=new n.Nl(a),e=new n.fj(a),f=new l.rj(a);f.Lk=z(I);f.Oa(y(D),y(F));var g=new l.rj(a);g.Lk=z(H);g.Yf(y(D));var h=new l.kj(a),k=new l.eh(a);k.te=A(G);k.Oa(y(D));h.Oa(k,y(F));e.Oa(g,h);d.Oa(f,e);I.defn=
b;b.body=c;c.body=d})();I.interp="The given list is a prime factorization of the given number.";e=b(e("\u00d7"));e.interp="multiplication";e.Wg("mult");e.Ha.Oa(t(x),t(x),t(x));e.UG();k=b(k("Test of {mult} 'theorem'","a {mult} b equals b {mult} a"));t=new l.kj(a);g=new l.eh(a);g.te=A(e);g.Oa(y(h),y(m));x=new l.eh(a);x.te=A(e);x.Oa(y(m),y(h));t.Oa(g,x);k.defn=t;a.gn(C);a.Di(a.top,0)})},function(k,c){c.Dq=function(){return function(a,c){this.lang=a;this.Jr=c}}()},function(k,c,a){function m(a){var b=
a.parentNode;if(b&&(b.xa("FnApp")||b.xa("PredApp"))){var c=b.yg(a);return t.F(c)?(d.derr("node "+a.c+" not found in unnamed childred of "+b.c),null):b.bu(c)}return null}function h(a){if(a.te){var b=a.te.hb();if(b&&(b=b.P.v(x.SystPropNames.Xd))){var c=[];a.vc(function(a){a=a.cache.curval;t.R(a)&&c.push(a)});if(!(c.length<a.Ra())){var e=null;if(0<c.length){switch(b){case "AddInliningComponent":e=_.sum(c);break;case "FractionInliningComponent":2<=c.length&&(e=c[0]/c[1]);break;case "MultInliningComponent":e=
1;c.forEach(function(a){e*=a});break;case "SubtractInliningComponent":2<=c.length&&(e=c[0]-c[1],d.dwarnif(3<=c.length,"valueTakingNodeInliningUpdater doesn't implement subtract for >= 3 args"))}t.R(e)&&e!==a.cache.curval&&(a.cache.curval=e,a.parentNode.Ec())}}}}}function f(a,b){if(a.c===b.c||!a.Kd("subtype_of"))return!1;var c;c=a;a=new Set;for(a.add(c.c);c;){c=c.W("subtype_of");if(!c)break;c=c.hb();if(a.has(c.c))break;a.add(c.c);if(!c)break;if(c&&c.c===b.c)return!0}return!1}function l(a){return function(b){var c=
new B(a);c.Wc=b.c;a.kb(c);return c}}var n=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),g=a(12);k=a(6);var b=a(329),d=a(7),e=a(314),p=a(249),u=a(331),r=a(318),v=a(13),x=a(9),t=a(4),y=a(332),A=a(319);c.rJ={IFPTop:"IFPTop",IFPNode:"IFPNode",
Proof:"Proof",TheoremEtc:"TheoremEtc",TheoremEtcRef:"TheoremEtcRef",Axiom:"Axiom",Hypothesis:"Hypothesis",IFPTerm:"IFPTerm",Formula:"Formula",SortSymbIntroRef:"SortSymbIntroRef",FnSymbIntroRef:"FnSymbIntroRef",PredSymbIntroRef:"PredSymbIntroRef",PropSymbIntroRef:"PropSymbIntroRef",ConstSymbIntroRef:"ConstSymbIntroRef",ReservedVarIntroRef:"ReservedVarIntroRef",FnApp:"FnApp",Sort:"Sort",SortRef:"SortRef",InterpSymbolIntro:"InterpSymbolIntro",LeafInterpSymbolIntro:"LeafInterpSymbolIntro",ParentalInterpSymbolIntro:"ParentalInterpSymbolIntro",
Iota:"Iota",SortSymbIntro:"SortSymbIntro",PropSymbIntro:"PropSymbIntro",ConstSymbIntro:"ConstSymbIntro",ConstSymbIntroGroup:"ConstSymbIntroGroup",SortOpIntro:"SortOpIntro",SortOpApp:"SortOpApp",SortRefStar:"SortRefStar",SortStar:"SortStar",UnarySortOp:"UnarySortOp",FnSymbIntro:"FnSymbIntro",FnOrPredSymbIntro:"FnOrPredSymbIntro",PredSymbIntro:"PredSymbIntro",ReservedVarIntro:"ReservedVarIntro",ReservedVarIntroGroup:"ReservedVarIntroGroup",EqualsApp:"EqualsApp",Cases:"Cases",FnApp2:"FnApp2",PredApp:"PredApp",
Quantifier:"Quantifier",Forall:"Forall",Exists:"Exists",ConnectiveApp:"ConnectiveApp",And:"And",Or:"Or",Not:"Not",Iff:"Iff",Implies:"Implies",AndImplies:"AndImplies",FnType:"FnType",PredType:"PredType",FiniteFnRef:"FiniteFnRef",FiniteFnIntro:"FiniteFnIntro",FiniteFnApp:"FiniteFnApp"};c.sJ={defn:"defn",interp:"interp",prooftitle:"prooftitle",bndvar:"bndvar",body:"body",fnref:"fnref",predref:"predref",ltype:"ltype",title:"title",quantifier_type:"quantifier_type",proofof:"proofof",proof:"proof",parenthesize:"parenthesize",
multiline:"multiline",singleline:"singleline",font_height:"font_height",subtype_of:"subtype_of","var":"var",parameter:"parameter",math:"math",finite_fn_def_str:"finite_fn_def_str",fnarg:"fnarg"};c.FQ=m;c.xg=function(a,b){return function(c){var d=m(c);return c.B.X.sg(function(c){if(c.xa(a)){var e=b(c);if(!d)return!0;if(!e)return console.error(c,d,e),!0;if(e.c===d.c)return!0}return!1}).map(function(a){var b=a.S;b||(b=a.wc());return[b,a.c]})}};a=function(a){function b(){return null!==a&&a.apply(this,
arguments)||this}n(b,a);return b}(g.pc);a.nodetype_name="IFPTerm";a.abstract=!0;c.tJ=a;var z=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b}(k.Xa);z.nodetype_name="IFPTop";z.abstract=!1;z.reader_mode_expandable=!0;z.init_collapsed=!1;z.allowed_ch=[v.o.aa,"TheoremEtc","Axiom","ReservedVarIntro","SortSymbIntro","FnSymbIntro","PredSymbIntro","ConstSymbIntro","PropSymbIntro","Proof",v.o.Cb];z.default_str_prop_vals_when_empty=t.h([x.SystPropNames.title,"title of this IFP"]);
c.uJ=z;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);Object.defineProperty(b.prototype,"prooftitle",{get:function(){return this.P.v("prooftitle",{gf:p.hh})},set:function(a){this.P.U("prooftitle",a)},enumerable:!0,configurable:!0});return b}(k.Aa);a.nodetype_name="Proof";a.abstract=!1;a.init_collapsed=!1;a.reader_mode_expandable=!0;a.allowed_flatprops=t.h(["prooftitle",4]);a.allowed_ch=[v.o.aa,"TheoremEtc","Axiom","ReservedVarIntro","SortSymbIntro","FnSymbIntro",
"PredSymbIntro","ConstSymbIntro","ConstSymbIntroGroup","PropSymbIntro","Proof"];a.required_nch=t.h(["proofof","TheoremEtcRef"]);c.Zl=a;var C=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.scopetype=v.fm.Dw;return b}n(b,a);return b}(y.ih);C.nodetype_name="SortSymbIntro";C.abstract=!1;C.inlining_class=b.yx;C.allowed_flatprops=t.ja("math",1);C.default_bool_prop_vals=t.h(["math",!0]);C.allowed_nch=t.h(["subtype_of","SortSymbIntroRef"]);c.wx=C;var B=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}n(b,a);b.prototype.ob=function(){return"SortSymbIntro"};return b}(k.qa);B.nodetype_name="SortSymbIntroRef";B.abstract=!1;B.parents=["InterpSymbIntroRef"];B.ignore_on_expand_most=!0;B.possible_values=t.h([x.SystPropNames.V,k.qa.Tb("SortSymbIntro")]);c.xx=B;g=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);b.prototype.ob=function(){return"Sort"};return b}(k.qa);g.nodetype_name="SortRef";g.abstract=!1;g.possible_values=t.h([x.SystPropNames.V,
k.qa.Tb("Sort")]);c.tx=g;var E=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);b.prototype.ob=function(){return"SortSymbIntro"};return b}(B);E.nodetype_name="SortStar";E.abstract=!1;E.inlining_class=b.vx;E.possible_values=t.h([x.SystPropNames.V,k.qa.Tb("SortSymbIntro")]);c.ux=E;var F=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);b.prototype.ob=function(){return"SortSymbIntro"};return b}(B);F.nodetype_name="UnarySortOp";F.abstract=!1;
F.inlining_class=b.Hx;F.required_flatprops=t.ja("sortop",5);F.possible_values=t.h([x.SystPropNames.V,k.qa.Tb("SortSymbIntro")],["sortop",[["*","*"],["+","+"]]]);F.default_str_prop_vals_when_empty=t.h(["sortop","*"]);c.Gx=F;var D=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b}(k.ua);D.nodetype_name="FnType";D.abstract=!1;D.ignore_on_expand_most=!0;D.allowed_ch=["SortSymbIntroRef"];D.allowed_nch={};D.min_ch=t.ja("SortSymbIntroRef",2);c.vw=D;var G=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}n(b,a);return b}(k.ua);G.nodetype_name="PredType";G.abstract=!1;G.ignore_on_expand_most=!0;G.allowed_ch=["SortSymbIntroRef"];G.allowed_nch={};G.min_ch=t.ja("SortSymbIntroRef",1);c.ax=G;var H=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.scopetype=v.fm.Ap;return b}n(b,a);Object.defineProperty(b.prototype,"ltype",{get:function(){return this.W("ltype")},set:function(a){this.Ab("ltype",a)},enumerable:!0,configurable:!0});return b}(k.Aa);H.nodetype_name=
"ReservedVarIntro";H.abstract=!1;H.ignore_on_expand_most=!0;H.allowed_ch=[];H.required_flatprops=t.h([x.SystPropNames.S,4]);H.required_nch=t.h(["ltype","SortSymbIntroRef"]);c.yq=H;var I=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b}(k.Ml);I.nodetype_name="ReservedVarIntroGroup";I.abstract=!1;I.ignore_on_expand_most=!0;I.inlining_class=b.px;I.allowed_ch=["ReservedVarIntro",v.o.aa];I.allowed_nch={};I.min_ch=t.ja("ReservedVarIntro",2);c.ox=I;var J=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}n(b,a);return b}(k.Ml);J.nodetype_name="ConstSymbIntroGroup";J.abstract=!1;J.ignore_on_expand_most=!0;J.reader_mode_expandable=!0;J.inlining_class=b.Vv;J.allowed_ch=["ConstSymbIntro",v.o.aa];J.allowed_nch={};J.min_ch=t.ja("ConstSymbIntro",2);c.Uv=J;var K=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);Object.defineProperty(b.prototype,"ltype",{get:function(){return this.W("ltype")},set:function(a){this.Ab("ltype",a)},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"defn",{get:function(){return this.W("defn")},set:function(a){this.Ab("defn",a)},enumerable:!0,configurable:!0});return b}(y.ih);K.nodetype_name="ConstSymbIntro";K.abstract=!1;K.parents=[v.o.Nf];K.ignore_on_expand_most=!0;K.allowed_ch=[v.o.aa];K.required_nch=t.h(["ltype","SortSymbIntroRef"]);K.allowed_nch=t.h(["defn","IFPTerm"]);K.allowed_flatprops=t.h(["parameter",1],["math",1],[x.SystPropNames.Pc,2]);K.default_bool_prop_vals=t.h(["parameter",!0],["math",!0]);K.default_num_prop_vals=
t.h([x.SystPropNames.Pc,0]);K.flatprop_change_listeners=t.h([x.SystPropNames.Pc,function(a){var b=a.nc.v(x.SystPropNames.Pc);a.cache.curval=b;a.TG(b);d.dlog("flatprop_change_listeners listener running for "+x.SystPropNames.Pc+" to set thisnode.utfstate.curval to "+a.cache.curval+".")}]);K.cache_updaters=[function(a){var b=a.wC();t.R(b)?a.cache.curval=b:a.defn&&(t.R(a.defn.cache.curval)?a.cache.curval=a.defn.cache.curval:a.nc.mb(x.SystPropNames.Pc)&&(a.cache.curval=a.nc.v(x.SystPropNames.Pc)),a.defn.ck(function(a){a.cache.in_defn=
!0}))}];c.El=K;k.Nf.Ij(K);var L=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b}(y.ih);L.nodetype_name="FnOrPredSymbIntro";L.abstract=!0;L.ignore_on_expand_most=!0;L.allowed_ch=[];L.allowed_flatprops=t.h([x.SystPropNames.Xd,5]);L.possible_values=t.h([x.SystPropNames.Xd,t.YE(e.Gw.Wo)]);c.uw=L;var Q=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);Object.defineProperty(b.prototype,"ltype",{get:function(){return this.W("ltype")},set:function(a){this.Ab("ltype",
a)},enumerable:!0,configurable:!0});b.prototype.Gk=function(){var a=this.Ha;if(!a)return null;a=a.W(a.Ra()-1);d.dassert(a instanceof B);return a.hb()};Object.defineProperty(b.prototype,"defn",{get:function(){return this.W("defn")},set:function(a){this.Ab("defn",a)},enumerable:!0,configurable:!0});return b}(L);Q.nodetype_name="FnSymbIntro";Q.abstract=!1;Q.required_nch=t.ja("ltype","FnType");Q.allowed_nch=t.h(["defn","Formula"]);c.mj=Q;var N=function(a){function b(){return null!==a&&a.apply(this,arguments)||
this}n(b,a);Object.defineProperty(b.prototype,"ltype",{get:function(){return this.W("ltype")},set:function(a){this.Ab("ltype",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defn",{get:function(){return this.W("defn")},set:function(a){this.Ab("defn",a)},enumerable:!0,configurable:!0});return b}(L);N.nodetype_name="PredSymbIntro";N.abstract=!1;N.required_nch=t.ja("ltype","PredType");N.allowed_nch=t.h(["defn","Formula"]);c.sj=N;c.Oe={Fn:"forall",rs:"exists",ss:"exists_unique"};
var M=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.scopetype=v.fm.Ap;return b}n(b,a);Object.defineProperty(b.prototype,"body",{set:function(a){this.Ab("body",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"quantifier_type",{set:function(a){this.P.U("quantifier_type",a)},enumerable:!0,configurable:!0});return b}(k.ua);M.nodetype_name="Quantifier";M.abstract=!1;M.parents=["Formula"];M.ignore_on_expand_most=!0;M.inlining_class=b.am;M.required_flatprops=
t.h(["quantifier_type",5]);M.possible_values=t.h(["quantifier_type",function(){return[["\u2200",c.Oe.Fn],["\u2203",c.Oe.rs],["\u2203!",c.Oe.ss]]}]);M.allowed_ch=["ReservedVarIntroRef"];M.min_ch=t.ja("ReservedVarIntroRef",1);M.required_nch=t.h(["body","Formula"]);M.default_str_prop_vals_when_empty=t.h(["quantifier_type",c.Oe.Fn]);c.$l=M;var P=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);b.prototype.ob=function(){return"ConstSymbIntro"};b.xg=function(a){var b=m(a);
return a.B.X.sg(function(a){return a.xa("ConstSymbIntro")&&(!b||(a=a.Ha)&&(a=a.hb())&&(a.c===b.c||f(a,b)))?!0:!1}).map(function(a){return[a.wc(),a.c]})};return b}(k.qa);P.nodetype_name="ConstSymbIntroRef";P.abstract=!1;P.parents=["IFPTerm","InterpSymbIntroRef"];P.allowed_ch=[];P.allowed_nch={};P.possible_values=t.h([x.SystPropNames.V,P.xg]);P.cache_updaters=[function(a){var b=!1,c=a.hb();if(c){c.Ec();var d=c.cache.curval;t.F(d)&&(c.Ec(),d=c.cache.curval);t.R(d)&&a.cache.curval!==d&&(b=!0,a.cache.curval=
d)}b&&a.parentNode.Ec()}];c.Fl=P;c.hN=h;var O=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);Object.defineProperty(b.prototype,"fnref",{get:function(){return this.W("fnref")},set:function(a){this.Ab("fnref",a)},enumerable:!0,configurable:!0});b.prototype.bu=function(a){d.assert_nt(a);try{var b=this.te.hb().Ha;if(!b)return null;if(a>=b.Ra()-1)return d.dwarn("Arg "+a+" to FnApp.oexpected_arg_sort is too large or not a number. Node is "+this.c),null;var c=b.W(a);return c?
c.hb?c.hb():(d.derr("Not the SortSymbIntroRef I expected: ",c,"See node ",this.c),null):(d.derr(a+"-th sort seems to be missing from FnType node "+b.c+"."),null)}catch(fa){return console.warn(fa),null}};return b}(k.Aa);O.nodetype_name="FnApp";O.abstract=!1;O.parents=["IFPTerm"];O.ignore_on_expand_most=!0;O.allowed_ch=["IFPTerm"];O.required_nch=t.h(["fnref","FnSymbIntroRef"]);O.allowed_flatprops=t.h(["parenthesize",1],["multiline",1],["singleline",1],["font_height",2]);O.default_num_prop_vals=t.h(["font_height",
1]);O.default_bool_prop_vals=t.h(["parenthesize",!0],["multiline",!0],["singleline",!0]);O.cache_updaters=[h];c.eh=O;var S=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);Object.defineProperty(b.prototype,"predref",{get:function(){return this.W("predref")},set:function(a){this.Ab("predref",a)},enumerable:!0,configurable:!0});b.prototype.bu=function(a){try{var b=this.Lk.hb().Ha;d.dassert(b.W(a)instanceof B);return b.W(a).hb()}catch(ea){return console.warn(ea),null}};
return b}(k.Aa);S.nodetype_name="PredApp";S.abstract=!1;S.parents=["Formula"];S.ignore_on_expand_most=!0;S.allowed_ch=["IFPTerm"];S.required_nch=t.h(["predref","PredSymbIntroRef"]);c.rj=S;var R=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b}(k.Aa);R.nodetype_name="EqualsApp";R.abstract=!1;R.parents=["Formula"];R.inlining_class=A.kw;R.ignore_on_expand_most=!0;R.allowed_ch=["IFPTerm"];R.allowed_nch={};R.min_ch=t.h(["IFPTerm",2]);R.allowed_flatprops=t.h(["parenthesize",
1],["multiline",1],["singleline",1],["font_height",2]);R.default_num_prop_vals=t.h(["font_height",1]);R.default_bool_prop_vals=t.h(["parenthesize",!0],["multiline",!0],["singleline",!0]);c.kj=R;var U=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);b.xg=function(a){var b=a.parentNode,c=null;b&&(c=m(b));return a.B.X.sg(function(a){if(a.xa(Q)){if(!c)return!0;a=a.Gk();if(!a||a.c===c.c||f(a,c))return!0}return!1}).map(function(a){var b=a.S;b||(b=a.wc());return[b,a.c]})};b.prototype.ob=
function(){return"FnSymbIntro"};b.prototype.Gk=function(){return this.hb().Gk()};return b}(k.qa);U.nodetype_name="FnSymbIntroRef";U.abstract=!1;U.parents=["InterpSymbIntroRef"];U.allowed_ch=[];U.allowed_nch={};U.possible_values=t.h([x.SystPropNames.V,U.xg]);c.Kp=U;var T=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);b.prototype.ob=function(){return"PredSymbIntro"};return b}(k.qa);T.nodetype_name="PredSymbIntroRef";T.abstract=!1;T.parents=["InterpSymbIntroRef"];T.allowed_ch=
[];T.allowed_nch={};T.possible_values=t.h([x.SystPropNames.V,k.qa.Tb("PredSymbIntro")]);c.qq=T;var V=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);b.prototype.ob=function(){return"ReservedVarIntro"};b.xg=function(a){var b=m(a);return a.B.X.sg(function(a){return a.xa("ReservedVarIntro")&&(!b||(a=a.Ha)&&(a=a.hb())&&(a.c===b.c||f(a,b)))?!0:!1}).map(function(a){var b=a.S;b||(b=a.wc());return[b,a.c]})};return b}(k.qa);V.nodetype_name="ReservedVarIntroRef";V.abstract=!1;
V.parents=["IFPTerm"];V.allowed_ch=[];V.possible_values=t.h([x.SystPropNames.V,V.xg]);c.Aq=V;var W=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b}(k.Aa);W.nodetype_name="Cases";W.abstract=!1;W.parents=["Formula"];W.ignore_on_expand_most=!0;W.inlining_class=A.Rv;W.required_flatprops=t.ja("font_height",2);W.default_num_prop_vals=t.h(["font_height",2]);W.allowed_ch=["IFPTerm","Formula"];W.min_ch=t.h(["IFPTerm",3],["Formula",2]);c.Qv=W;A=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}n(b,a);Object.defineProperty(b.prototype,"var",{get:function(){return this.W("var")},enumerable:!0,configurable:!0});return b}(k.Aa);A.nodetype_name="Iota";A.abstract=!1;A.parents=["IFPTerm"];A.ignore_on_expand_most=!0;A.inlining_class=b.Fw;A.allowed_ch=["Formula"];A.required_nch=t.ja("var","ReservedVarIntroRef");A.min_ch=t.h(["Formula",1]);A.max_ch=t.h(["Formula",1]);A.allowed_flatprops=t.h(["parenthesize",1]);A.default_bool_prop_vals=t.h(["parenthesize",!0]);c.Ew=
A;var X=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.cache={thefn:new Map};return b}n(b,a);Object.defineProperty(b.prototype,"ltype",{get:function(){return this.W("ltype")},set:function(a){this.Ab("ltype",a)},enumerable:!0,configurable:!0});b.prototype.Gk=function(){var a=this.Ha;return a?a.hb():null};return b}(k.Aa);X.nodetype_name="FiniteFnIntro";X.abstract=!1;X.required_nch=t.h(["ltype","SortSymbIntroRef"]);X.required_flatprops=t.h(["finite_fn_def_str",7]);X.default_str_prop_vals_when_empty=
t.h(["finite_fn_def_str","[]"]);X.flatprop_change_listeners=t.h(["finite_fn_def_str",function(a){try{var b=JSON.parse(a.ha.v("finite_fn_def_str"));a.cache.thefn.clear();for(var c=0;c<b.length;c++)a.cache.thefn.set(b[c][0],b[c][1])}catch(da){d.derr("flatprop_change_listeners exception",da)}d.dlog("flatprop_change_listeners listener running for finite_fn_def_str to set cache.thefn")}]);X.cache_updaters=[X.flatprop_change_listeners.finite_fn_def_str];c.pw=X;var Y=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}n(b,a);b.prototype.ob=function(){return"FiniteFnIntro"};return b}(k.qa);Y.nodetype_name="FiniteFnRef";Y.abstract=!1;Y.possible_values=t.h([x.SystPropNames.V,k.qa.Tb("FiniteFnIntro")]);c.qw=Y;k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);Object.defineProperty(b.prototype,"fnref",{get:function(){return this.W("fnref")},set:function(a){this.Ab("fnref",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"fnarg",{get:function(){return this.W("fnarg")},
set:function(a){this.Ab("fnarg",a)},enumerable:!0,configurable:!0});return b}(k.Aa);k.nodetype_name="FiniteFnApp";k.abstract=!1;k.parents=["IFPTerm"];k.inlining_class=b.ow;k.ignore_on_expand_most=!0;k.allowed_ch=[];k.required_nch=t.h(["fnref","FiniteFnRef"],["fnarg","ConstSymbIntroRef"]);k.cache_updaters=[function(a){var b=a.te;if(b)if(b=b.hb()){var c=a.iN;if(c)if(c=c.hb()){var e=c.cache.curval;t.F(e)?d.dwarn("arg (node "+c.c+") to finite fn app node "+a.c+" has no cache.curval"):(b=b.cache.thefn.get(e),
a.cache.curval!==b&&(a.cache.curval=b,a.parentNode.Ec()))}else d.dwarn("problem at node "+a.c);else d.dwarn("problem at node "+a.c)}else d.dwarn("problem at node "+a.c);else d.dwarn("problem at node "+a.c)}];c.nw=k;var Z=[a,B,D,G,y.cq,y.ih,H,C,L,Q,N,K,J,V,I,M,y.Cp,y.$p,y.fj,y.Nl,y.Vl,y.Yl,y.vp,O,S,W,A,U,T,P,R,z,g,y.im,y.xp,y.Lq,y.tq,y.uq,E,F,X,Y,k],ca=["InterpSymbolIntro","Formula","IFPTerm","Sort"];c.ensureInitialized=function(){c.lang||(c.lang=new e.Me(x.sb.Rn,Z,ca,z),c.lang.Y.Hj(t.h(["TheoremEtc",
u.Mf],["Axiom",u.Mf],["Proof",u.tj],["ReservedVarIntro",b.zq],["InterpSymbolIntro",b.Lb],["SortSymbIntro",b.Lb],["FnSymbIntro",b.Lb],["PredSymbIntro",b.Lb],["ConstSymbIntro",b.Lb],["PropSymbIntro",b.Lb],["SortSymbIntroRef",r.ma],["ReservedVarIntroRef",r.ma],["FnSymbIntroRef",r.ma],["PredSymbIntroRef",r.ma],["ConstSymbIntroRef",r.ma],["PropSymbIntroRef",r.ma],["SortRef",r.ma],["FnType",b.Lp],["PredType",b.rq],["Formula",null],["Quantifier",b.am],["PredApp",b.lj],["Implies",u.Hc],["And",u.Hc],["AndImplies",
u.Bl],["Iff",u.Hc],["Not",u.Wl],["IFPTerm",null],["FnApp",b.lj])),c.lang.Y.Yg=!0,c.lang.qg())};c.qN=function(){throw new t.oc;};c.fE=function(a){return function(b,c){var d=new H(a);b&&d.Ie(b);c&&(b=l(a)(c),d.Ha=b);a.kb(d);return d}};c.cE=function(a){return function(b){var c=new Q(a);b&&c.Ie(b);c.Ha=new D(a);a.kb(c);return c}};c.eE=function(a){return function(b){var c=new N(a);b&&c.Ie(b);c.Ha=new G(a);a.kb(c);return c}};c.iE=function(a){return function(b){var c=new C(a);b&&c.Ie(b);a.kb(c);return c}};
c.hE=l;c.kE=function(a){return function(b){var c=new V(a);c.Wc=b.c;a.kb(c);return c}};c.bE=function(a){return function(b){var c=new U(a);c.Wc=b.c;a.kb(c);return c}};c.dE=function(a){return function(b){var c=new T(a);c.Wc=b.c;a.kb(c);return c}};c.jE=function(a){return function(b,c){var d=new y.im(a);d.Ie(b);d.ha.U("interp",c);a.kb(d);return d}};structure_together.languageModules[x.sb.Rn]=this},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(18);var h=a(248),f=a(17),l=a(7),n=a(249),g=a(318),b=a(9),d=a(328),e=a(4),p=a(19),u=a(247),r=a(319),v=a(330);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){return h.l(this.ca({key:"0"}),this.props.Nk?f.va(this.props.Nk,
this.props.nodeid,"prooftitle",this.props.stdocid):"")};return b}(k.L);c.Yp=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=this,b=[];this.props.ch&&this.props.ch.forEach(function(c,d){d===a.props.ch.length-1&&2<=a.props.ch.length&&b.push(h.l({key:"arrow"}," \u2192 "));b.push(u.J(a.Gm,c));d<=a.props.ch.length-3&&b.push(h.l({key:"cross"+d}," \u00d7 "))});return h.l(this.ca({}),b)};return b}(k.L);c.Lp=a;a=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=this,b=[];this.props.ch?(this.props.ch.forEach(function(c,d){b.push(p.createElement(g.ma,c));d<=a.props.ch.length-2&&b.push(" \u00d7 ")}),b.push(" \u2192 \ud835\udd39")):l.dwarn("In PredTypeInliningComponent.render and DID NOT find props.ch");return h.l(this.ca({}),b)};return b}(k.L);c.rq=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=this,b=[];switch(this.props.quantifier_type){case d.Oe.Fn:b.push("\u2200");
break;case d.Oe.rs:b.push("\u2203");break;case d.Oe.ss:b.push("\u2203!")}this.props.ch?this.props.ch.forEach(function(c,d){b.push(p.createElement(g.ma,c));d<a.props.ch.length-1&&b.push(",")}):b.push(n.hh);b.push(". ");this.props.nch.body?b.push(u.J(this.B.stdocid,this.props.nch.body)):b.push(n.hh);return h.l(this.ca({}),b)};return b}(k.L);c.am=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=[];a.push("the ");a.push(this.props.nch.var?
u.J(this.B.stdocid,this.props.nch.var):h.l({key:"var"},n.hh));a.push(" such that ");this.props.ch&&0<this.props.ch.length?a.push(u.J(this.B.stdocid,this.props.ch[0])):a.push(h.l({key:"body"},n.hh));a=h.l(this.ca({}),a);return this.props.parenthesize?r.lF(this,a):a};return b}(k.L);c.Fw=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=this,b=e.fa(this.props.nch,"fnref")?this.props.nch.fnref:this.props.nch.predref;if(!b)return h.Ib("??? fn_or_pred_symb_inlining_vm missing");
if(b.html_template_of_ref)b=h.l(this.ca(),this.Eu(b,this.props.ch,b._id_ref));else{var c=[];c.push(p.createElement(g.ma,b),"(");this.props.ch?this.props.ch.forEach(function(b,d){b?(c.push(u.J(a.B.stdocid,b)),d<=a.props.ch.length-2&&c.push(", ")):l.dwarn("Node "+a.props.nodeid+"'s inlining's "+d+"-th child is null.")}):l.dwarn("props.ch is null in FnOrPredApplInliningComponent");c.push(")");b=h.l(this.ca(),c)}return e.R(this.props.curval)?h.l(this.ca({}),b," ["+this.props.curval+"]"):b};b.prototype.componentDidUpdate=
function(){};b.prototype.componentDidMount=function(){};return b}(k.L);c.lj=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=this.props.nch.fnref,b=this.props.nch.fnarg;if(!a||!b)return l.derr("props.nch.fnref and props.nch.fnarg both missing"),h.Ib("???");a.html_template_of_ref?a=h.l(this.ca(),this.Eu(a,[b],a._id_ref)):(a=[p.createElement(g.ma,a),"(",p.createElement(g.ma,b),")"],a=h.l(this.ca(),a));return a};return b}(k.L);c.ow=a;a=
function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){var a=[];a.push(h.l({className:"symbol-intro",key:"minifol-vardisplay"},f.va(this.props._html_name,this.props.nodeid,b.SystPropNames.S,this.props.stdocid))," reserved for sort ");var c=this.props.nch.ltype;c?a.push(u.J(this.B.stdocid,c)):(l.derr("ltype missing"),a.push("???"));return h.l(this.ca({}),a)};return c}(k.L);c.zq=a;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}
m(c,a);c.prototype.K=function(){var a=this,c=_.groupBy(this.props.ch,function(a){return a.nch.Ha.display_symb_only_of_ref}),d=[];_.forOwn(c,function(c,e){var g=[];c.forEach(function(d,e){g.push(h.l({className:"symbol-intro",key:d._html_name.value},f.va(d._html_name,d.nodeid,b.SystPropNames.S,a.props.stdocid)));e<c.length-1&&g.push(", ")});g.push(" reserved for sort ");var k=c[0].nch.ltype;k?g.push(u.J(a.B.stdocid,k)):(l.derr("first child of ReservedVarIntroGroup VM has no .ltype"),g.push("???"));
d.push(h.Wa({key:e},g))});return h.l(this.ca({}),d)};return c}(k.L);c.px=a;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){var a=this,c=[];this.props.ch.forEach(function(d,e){c.push(h.l({className:"symbol-intro",key:d.nodeid},f.va(d._html_name,d.nodeid,b.SystPropNames.S,a.props.stdocid)));e<a.props.ch.length-1&&c.push(", ")});c.push(" \u2208 ");var d=this.props.ch[0].nch.ltype;d?c.push(u.J(this.B.stdocid,d)):(l.derr("First child of ConstSymbIntroGroup has no .ltype. Node is "+
this.props.nodeid),l.derr("This is this.props.ch[0].nch: ",this.props.ch[0].nch));this.props._text&&c.push(h.l({key:"grouptext"}," - ",f.va(this.props._text,this.props.nodeid,b.SystPropNames.text,this.props.stdocid)));return h.l(this.ca({}),c)};return c}(k.L);c.Vv=a;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){l.dlogcat(b.LogTypes.wa,"InterpSymbolIntroInliningComponent.render");var a=[];a.push(h.l({className:"symbol-intro",key:"minifol-symbdisplay"},
f.va(this.props._html_name,this.props.nodeid,b.SystPropNames.S,this.props.stdocid)));if(this.props.nch&&this.props.nch.Ha){var c=this.props.nch.Ha;l.dassert(null!=c.key);if(this.Wb.top.ea.v("use_natural_language_syntax")){var d=this.Wb.G(this.props.nodeid);d.xa("ConstSymbIntro")?(this.props.OP?d=" \u2208 ":(d="a ",this.props.nch.Ha.display_symb_only_of_ref&&e.Zf(this.props.nch.Ha.display_symb_only_of_ref[0],"a","i","o","u","e")&&(d="an "),d=" is "+d),a.push(d,u.J(this.B.stdocid,c))):d.xa("FnSymbIntro")?
a.push(" is a function of type ",u.J(this.B.stdocid,c)):d.xa("PredSymbIntro")&&a.push(" is a relation of type ",u.J(this.B.stdocid,c))}else a.push(": ",u.J(this.B.stdocid,c))}else"PropSymbIntro"===this.props.nodetype&&a.push(" : proposition");e.R(this.props.curval)&&(c=_.round(this.props.curval,b.wq),c=v.AA(c,this.props.nodeid,b.SystPropNames.Lc),a.push(h.l({key:"curval"}," = ",c)));this.props.interp&&a.push(" - ",f.va(this.props.interp,this.props.nodeid,"interp",this.props.stdocid));this.props.nch&&
(c=this.props.nch.defn)&&a.push(h.Rk({key:"linebreak"}),h.l({key:"minifol-symbdefn"},h.ib("defined by: "),u.J(this.B.stdocid,c)));return h.l(this.ca({}),a)};return c}(k.L);c.Lb=a;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){l.dlogcat(b.LogTypes.wa,"SortSymbolIntroInliningComponent.render");var a=[];a.push(h.l({className:"symbol-intro",key:"minifol-symbdisplay"},f.va(this.props._html_name,this.props.nodeid,b.SystPropNames.S,this.props.stdocid)));
if(this.props.nch){var c=this.props.nch.TS;c&&a.push(" \u2286 ",u.J(this.B.stdocid,c))}this.props.interp&&a.push(" - ",f.va(this.props.interp,this.props.nodeid,"interp",this.props.stdocid));return h.l(this.ca({}),a)};return c}(k.L);c.yx=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){return h.l({},u.J(this.B.stdocid,this.props,"SortSymbIntroRef"),h.Xk({},"*"))};return b}(k.L);c.vx=a;k=function(a){function b(){return null!==a&&a.apply(this,
arguments)||this}m(b,a);b.prototype.K=function(){return h.l({},u.J(this.B.stdocid,this.props,"SortSymbIntroRef"),h.Xk({},this.props.uS))};return b}(k.L);c.Hx=k},function(k,c,a){function m(a){return function(b){function c(){var c=null!==b&&b.apply(this,arguments)||this;c.element_type=a;return c}h(c,b);return c}(p)}var h=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=
b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(18);var f=a(248),l=a(7),n=a(4),g=a(9),b=a(19),d=a(189),e=a(15),p=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}h(c,a);c.prototype.Oo=function(a){var b=a.html();a.data("st-processed-inner-html",b);return b};c.prototype.Ni=function(a){var b=a.data("st-processed-inner-html");a.html(b)};c.prototype.onBlur=function(a){l.assert_nt(this.props.nodeid);
var b=Number(d.zf(a.target.innerHTML));if(n.F(b)||isNaN(b))b=0;b===this.props.value?this.Ni($(a.target)):(this.Ni($(a.target)),this.pb({name:"NumPropChange",nodeid:this.props.nodeid,label:this.props.label,value:b}));a.stopPropagation();a.preventDefault()};c.prototype.onFocus=function(a){a=$(a.target);e.Nh()?(this.Oo(a),a.html(this.props.value.toString())):a.blur()};c.prototype.K=function(){l.dlogcat(g.LogTypes.Sk,"ContentEditableComponent.render() for node "+this.props.nodeid);var a;a=this.props.element_type&&
b.DOM[this.props.element_type]?b.DOM[this.props.element_type]:this.element_type?b.DOM[this.element_type]:f.Wa;var c=this.props.label,d={className:"st-content-editable",key:"inline-editing"+this.props.nodeid+c};if(e.inEditMode()||c===g.SystPropNames.Lc)d.contentEditable=!0,d.onBlur=this.onBlur.bind(this),d.onFocus=this.onFocus.bind(this),d.onClick=function(a){e.Nh()&&(a.preventDefault(),a.stopPropagation())};d.dangerouslySetInnerHTML={__html:this.props.value};return a(d,null)};c.prototype.componentDidUpdate=
function(){};c.prototype.componentDidMount=function(){};return c}(k.L);c.SI=p;var u=new Map;"span div h1 h2 h3 h4".split(" ").forEach(function(a){u.set(a,m(a))});c.AA=function(a,c,d){var e;e&&b.DOM[e]||(e="span");a={value:a,label:d,nodeid:c};return b.createElement(u.get(e),a)}},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,
c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(18);var h=a(248),f=a(17),l=a(7),n=a(249),g=a(4),b=a(9),d=a(319),e=a(247);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a;a=g.Ui(this.props.Nk)?this.props.nch&&this.props.nch.Co?h.l({key:"displaywithref"},[h.l({className:n.Ja.Ps,key:"Proof of "},"Proof of "),e.J(this.B.stdocid,this.props.nch.Co)]):h.ib("Proof"):f.va(this.props.Nk,
this.props.nodeid,"prooftitle",this.props.stdocid);return h.l(this.ca({key:"0"}),a)};return b}(k.L);c.tj=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){if(this.props.ch&&1<=this.props.ch.length){var a=["not ",e.J(this.B.stdocid,this.props.ch[0])];return h.l(this.ca(),a)}return h.Ib("not ___",this.ca())};return b}(k.L);c.Wl=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=this,
b;switch(this.props.nodetype){case "And":b="and";break;case "Or":b="or";break;case "Implies":b="\u21d2";break;case "Iff":b=" if and only if ";break;case "EqualsApp":b="=";break;default:l.derr("can't set connective from "+this.props.nodetype),b="???"}l.assert_nt(b);if(this.props.multiline)return d.rE(b,this.props,this.B.stdocid);var c;if("Implies"===this.props.nodetype)c=this.props.ch&&2===this.props.ch.length?["If ",e.J(this.B.stdocid,this.props.ch[0])," then ",e.J(this.B.stdocid,this.props.ch[1])]:
["If ____ then ____ "];else{var f=" "+b+" ";c=[];this.props.ch?this.props.ch.forEach(function(b,d){c.push(e.J(a.B.stdocid,b));d<=a.props.ch.length-2&&c.push(f)}):c.push(b)}return h.l(this.ca(),c)};return b}(k.L);c.Hc=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=this,b=[];this.props.ch?this.props.ch.forEach(function(c,d){b.push(e.J(a.B.stdocid,c));d<=a.props.ch.length-2&&b.push(" "+a.props.zA+" ")}):b.push(" "+this.props.zA+" ");
return h.l(this.ca(),b)};return b}(k.L);c.Tv=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=[],b;if(this.props.ch&&2<=this.props.ch.length){var c;for(c=0;c<this.props.ch.length-2;c++){var d=this.props.ch[c];b="line"+c;var f=[];f.push(e.J(this.B.stdocid,d));f.push(h.l({key:"and"},", and"));a.push(h.Wa({key:b},f))}a.push(h.Wa({key:"line"+c},e.J(this.B.stdocid,this.props.ch[c])));c+=1;b=h.Wa({key:"line"+c},e.J(this.B.stdocid,this.props.ch[c]));
return h.xd(this.ca(),h.yd({},h.Xb({},h.ga({},"If "),h.ga({},a)),h.Xb({},h.ga({},"then "),h.ga({},b))))}return h.Wa(this.ca(),"? \u2227 ? \u27f9 ?")};return b}(k.L);c.Bl=a;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){l.dlogcat(b.LogTypes.wa,"InterpSymbolIntroInliningComponent.render");var a=[];a.push(h.l({className:"symbol-intro",key:"minifol-symbdisplay"},f.va(this.props._html_name,this.props.nodeid,b.SystPropNames.S,this.props.stdocid)));
if(this.props.nch&&this.props.nch.Ha){var c=this.props.nch.Ha;l.dassert(null!=c.key);a.push(" \u2208 ",e.J(this.B.stdocid,c))}else"PropSymbIntro"===this.props.nodetype&&a.push(" \u2208 propositions");this.props.interp&&a.push(" - ",f.va(this.props.interp,this.props.nodeid,"interp",this.props.stdocid));this.props.nch&&(c=this.props.nch.defn)&&a.push(h.Rk({key:"linebreak"}),h.l({key:"minifol-symbdefn"},h.ib("defined by: "),e.J(this.B.stdocid,c)));return h.l(this.ca({}),a)};return c}(k.L);c.Lb=a;k=function(a){function c(){return null!==
a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){var a=this;l.dlogcat(b.LogTypes.wa,"StatementInliningComponent.render");var c=[],d=a.props._html_name?h.l({className:"symbol-intro",key:"minifol-symbdisplay"},f.va(a.props._html_name,a.props.nodeid,b.SystPropNames.S,a.props.stdocid)):null,g=function(){switch(a.props.nodetype){case "Axiom":return h.ib("Axiom");case "TheoremEtc":return h.ib("Theorem")}return null}(),k=a.props.interp?"string"===typeof a.props.interp&&0<a.props.interp.trim().length?
f.va(a.props.interp,a.props.nodeid,"interp",a.props.stdocid):0<a.props.interp.value.trim().length?f.va(a.props.interp,a.props.nodeid,"interp",a.props.stdocid):null:null,m=this.props.nch&&this.props.nch.defn?e.J(this.B.stdocid,this.props.nch.defn):null;d?c.push(d,": "):c.push(g,": ");k?m?(c.push(k),c.push(h.Rk({key:"linebreak"}),h.l({key:"minifol-symbdefn"},h.ib("Formally: "),m))):c.push(k):c.push(m);return h.l(this.ca({}),c)};return c}(k.L);c.Mf=k},function(k,c,a){var m=this&&this.__extends||function(){var a=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=a(12);k=a(6);var f=a(4),l=a(314),n=a(331),g=a(318),b=a(13),d=a(9);c.IJ={PropIFPTop:"PropIFPTop",Proof:"Proof",TheoremEtc:"TheoremEtc",TheoremEtcRef:"TheoremEtcRef",Axiom:"Axiom",Hypothesis:"Hypothesis",Formula:"Formula",
InterpSymbIntroRef:"InterpSymbIntroRef",PropSymbIntroRef:"PropSymbIntroRef",InterpSymbolIntro:"InterpSymbolIntro",LeafInterpSymbolIntro:"LeafInterpSymbolIntro",ParentalInterpSymbolIntro:"ParentalInterpSymbolIntro",PropSymbIntro:"PropSymbIntro",ConnectiveApp:"ConnectiveApp",And:"And",Or:"Or",Not:"Not",Iff:"Iff",Implies:"Implies",AndImplies:"AndImplies",AxiomRef:"AxiomRef"};c.JJ={defn:"defn",interp:"interp",prooftitle:"prooftitle",title:"title",proofof:"proofof",proof:"proof",use_natural_language_syntax:"use_natural_language_syntax",
connective:"connective",parenthesize:"parenthesize",multiline:"multiline",singleline:"singleline",font_height:"font_height"};a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(h.pc);a.nodetype_name="Formula";a.abstract=!0;c.Mp=a;var e=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(k.Xa);e.nodetype_name="PropIFPTop";e.abstract=!1;e.inliningvm_props=[d.SystPropNames.title];e.init_collapsed=!1;e.allowed_ch=["PropSymbIntro",
"Proof",b.o.aa,"Axiom","TheoremEtc"];e.required_flatprops=f.h(["use_natural_language_syntax",1]);e.default_bool_prop_vals=f.h(["use_natural_language_syntax",!0]);c.KJ=e;var p=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(k.ua);p.nodetype_name="Proof";p.abstract=!1;p.inlining_class=n.tj;p.inliningvm_props=["prooftitle","nch"];p.init_collapsed=!1;p.reader_mode_expandable=!0;p.allowed_flatprops=f.h(["prooftitle",4]);p.allowed_ch=["InterpSymbolIntro","TheoremEtc",
"Axiom",b.o.aa,"Proof"];p.required_nch=f.h(["proofof","TheoremEtcRef"]);c.Zl=p;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.ob=function(){return"Axiom"};return b}(k.qa);a.nodetype_name="AxiomRef";a.abstract=!1;a.parents=["Formula"];a.possible_values=f.h([d.SystPropNames.V,k.qa.Tb("Axiom")]);c.Iv=a;h=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);Object.defineProperty(b.prototype,"interp",{get:function(){return this.ha.v("interp")},
set:function(a){this.ha.U("interp",a)},enumerable:!0,configurable:!0});return b}(k.pj);h.nodetype_name="LeafInterpSymbolIntro";h.abstract=!0;h.parents=[b.o.tb,"InterpSymbolIntro"];h.required_flatprops=f.h(["interp",7],[d.SystPropNames.S,4]);h.default_str_prop_vals_at_init=f.ja("interp","Constraints on how this symbol should be interpreted");c.cq=h;var u=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);Object.defineProperty(b.prototype,"interp",{get:function(){return this.ha.v("interp")},
set:function(a){this.ha.U("interp",a)},enumerable:!0,configurable:!0});return b}(k.Aa);u.nodetype_name="ParentalInterpSymbolIntro";u.abstract=!0;u.parents=[b.o.tb,"InterpSymbolIntro"];u.required_flatprops=f.h(["interp",7]);u.default_str_prop_vals_at_init=f.h(["interp","Constraints on how this symbol should be interpreted"]);c.ih=u;var r=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);Object.defineProperty(b.prototype,"interp",{get:function(){return this.ha.v("interp")},
set:function(a){this.ha.U("interp",a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defn",{get:function(){return this.W("defn")},set:function(a){this.Ab("defn",a)},enumerable:!0,configurable:!0});return b}(k.Aa);r.nodetype_name="TheoremEtc";r.abstract=!1;r.ignore_on_expand_most=!0;r.required_flatprops=f.h(["interp",7],[d.SystPropNames.S,4]);r.default_str_prop_vals_when_empty=f.h([d.SystPropNames.S,"Theorem"]);r.default_str_prop_vals_at_init=f.h(["interp","Your intended meaning of this syntactic theorem."]);
r.allowed_ch=[b.o.aa];r.required_nch=f.h(["defn","Formula"]);r.allowed_nch=f.h(["proof","Proof"]);c.im=r;var v=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.ob=function(){return"TheoremEtc"};return b}(k.qa);v.nodetype_name="TheoremEtcRef";v.abstract=!1;v.parents=["Formula"];v.possible_values=f.h([d.SystPropNames.V,k.qa.Tb("TheoremEtc")]);c.Lq=v;var x=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(k.Aa);x.nodetype_name=
"Axiom";x.abstract=!1;x.ignore_on_expand_most=!0;x.required_flatprops=f.h(["interp",7]);x.allowed_ch=[b.o.aa];x.required_nch=f.h(["defn","Formula"]);x.default_str_prop_vals_at_init=f.h(["interp","Your intended meaning of this axiom."]);c.xp=x;b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(u);b.nodetype_name="PropSymbIntro";b.abstract=!1;b.allowed_ch=[];b.allowed_nch=f.h(["defn","Formula"]);c.tq=b;var t=function(a){function b(){return null!==a&&a.apply(this,
arguments)||this}m(b,a);return b}(k.Aa);t.nodetype_name="ConnectiveApp";t.abstract=!0;t.parents=["Formula"];t.ignore_on_expand_most=!0;t.allowed_ch=["Formula"];t.allowed_nch={};t.required_flatprops=f.h(["connective",5]);t.possible_values=f.h(["connective",function(){return[["\u2227","And"],["\u2228","Or"],["\u00ac","Not"],["\u21d4","Iff"],["\u21d2","Implies"]]}]);t.default_str_prop_vals_when_empty=f.ja("connective","Implies");t.min_ch=f.ja("Formula",1);t.allowed_flatprops=f.h(["parenthesize",1],["multiline",
1],["singleline",1],["font_height",2]);t.default_bool_prop_vals=f.h(["parenthesize",!0],["multiline",!0],["singleline",!0]);t.default_num_prop_vals=f.h(["font_height",1]);c.Cp=t;var y=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(t);y.nodetype_name="Implies";y.abstract=!1;y.allowed_ch=["Formula"];y.default_str_prop_vals_when_empty=f.ja("connective","Implies");y.min_ch=f.ja("Formula",2);c.$p=y;var A=function(a){function b(){return null!==a&&a.apply(this,arguments)||
this}m(b,a);return b}(t);A.nodetype_name="And";A.abstract=!1;A.allowed_ch=["Formula"];A.default_str_prop_vals_when_empty=f.ja("connective","And");A.min_ch=f.ja("Formula",2);c.fj=A;var z=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(t);z.nodetype_name="AndImplies";z.abstract=!1;z.allowed_ch=["Formula"];z.min_ch=f.ja("Formula",3);c.vp=z;var C=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(t);C.nodetype_name="Or";C.abstract=
!1;C.allowed_ch=["Formula"];C.default_str_prop_vals_when_empty=f.ja("connective","Or");C.min_ch=f.ja("Formula",2);c.Yl=C;var B=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(t);B.nodetype_name="Iff";B.abstract=!1;B.allowed_ch=["Formula"];B.default_str_prop_vals_when_empty=f.ja("connective","Iff");B.min_ch=f.ja("Formula",2);c.Nl=B;var E=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(t);E.nodetype_name="Not";E.abstract=
!1;E.allowed_ch=["Formula"];E.default_str_prop_vals_when_empty=f.ja("connective","Not");E.max_ch={Mp:1};E.min_ch={Mp:1};c.Vl=E;var F=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.ob=function(){return"InterpSymbolIntro"};return b}(k.qa);F.nodetype_name="InterpSymbIntroRef";F.abstract=!1;F.allowed_ch=[];F.allowed_nch={};F.possible_values=f.h([d.SystPropNames.V,k.qa.Tb("InterpSymbolIntro")]);c.Cw=F;var D=function(a){function b(){return null!==a&&a.apply(this,
arguments)||this}m(b,a);b.prototype.ob=function(){return"PropSymbIntro"};return b}(k.qa);D.nodetype_name="PropSymbIntroRef";D.abstract=!1;D.parents=["Formula","InterpSymbIntroRef"];D.allowed_ch=[];D.possible_values=f.h([d.SystPropNames.V,k.qa.Tb("PropSymbIntro")]);c.uq=D;var G=[p,h,u,t,y,A,B,E,C,z,e,r,x,b,D,v,a,F],H=["InterpSymbolIntro","Formula"];c.ensureInitialized=function(){c.lang||(c.lang=new l.Me(d.sb.Do,G,H,e),c.lang.Y.Yg=!1,c.lang.Y.rc(r,["interp"]),c.lang.Y.rc(p,["prooftitle"]),c.lang.Y.rc("InterpSymbolIntro",
["interp"]),c.lang.Y.rc("ParentalInterpSymbolIntro",[d.SystPropNames.nch]),c.lang.Y.rc(t,[d.SystPropNames.ch]),c.lang.Y.Hj(f.h(["Proof",n.tj],["InterpSymbolIntro",n.Lb],["PropSymbIntro",n.Lb],["InterpSymbIntroRef",g.ma],["PropSymbIntroRef",g.ma],["TheoremEtcRef",g.ma],["AxiomRef",g.ma],["Formula",null],["Implies",n.Hc],["And",n.Hc],["Or",n.Hc],["Iff",n.Hc],["ConnectiveApp",n.Tv],["AndImplies",n.Bl],["Not",n.Wl],["TheoremEtc",n.Mf],["Axiom",n.Mf])),c.lang.qg())};structure_together.languageModules[d.sb.Do]=
this},function(k,c,a){function m(a){return function(c,b){var d=new f.aa(a);c&&d.Ie(c);d.ea.U(l.SystPropNames.qe,!0);a.kb(d);a.Hh(d,b);return d}}function h(a){return function(c,b){var d=new f.aa(a);c&&d.Ie(c);a.kb(d);a.Hh(d,b);return d}}k=a(327);var f=a(6),l=a(9);a=a(9);c.kF=new k.Dq(a.sb.$o,function(a){var c=m(a),b=h(a),d=f.ko(a);a=b("o1");d("blah {wooz} blah {nooz} blah{nooz}{woooz}");d=c("woozle",a);d.uu="A wooly oozle";d.Wg("wooz");d=c("noozle",a);d.uu="A nighttime oozle";d.Wg("nooz");d=b();c("Defn-node-with-no-definition",
d);b("child",a)})},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(6);var h=a(314),f=a(4),l=a(13),n=a(9),g=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(k.Xa);
g.nodetype_name="StructuredTextTop";g.abstract=!1;g.allowed_ch=[l.o.aa,l.o.Cb];g.required_flatprops=f.h([n.SystPropNames.title,4]);g.init_collapsed=!1;c.bK=g;c.ensureInitialized=function(){c.lang||(c.lang=new h.Me(n.sb.$o,[],[],g),c.lang.Y.Yg=!0,c.lang.qg())};structure_together.languageModules[n.sb.$o]=this},function(k,c,a){function m(a,b){if(a.cache.in_defn)return delete b.curval,b;var c=a.cache.curval;f.F(c)&&(a.Ec(),c=a.cache.curval);f.R(c)&&(b.curval=c);return b}var h=this&&this.__extends||function(){var a=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),f=a(4),l=a(314);k=a(328);var n=a(331),g=a(318),b=a(6),d=a(13),e=a(9),p=a(332),u=a(328),r=a(336),v=a(329),x=a(337);c.nJ={IFPDMockTop:"IFPDMockTop",IFPDialogue:"IFPDialogue",ProTurn:"ProTurn",CritTurn:"CritTurn",IntendedAudience:"IntendedAudience",
SemanticsCrit:"SemanticsCrit",FormalizationCrit:"FormalizationCrit",SubjectivePosition:"SubjectivePosition",IFP:"IFP",Proof:"Proof",TheoremEtc:"TheoremEtc",Axiom:"Axiom",Hypothesis:"Hypothesis",IFPTerm:"IFPTerm",Formula:"Formula",TheoremEtcRef:"TheoremEtcRef",AxiomRef:"AxiomRef",InterpSymbIntroRef:"InterpSymbIntroRef",SortSymbIntroRef:"SortSymbIntroRef",FnSymbIntroRef:"FnSymbIntroRef",PredSymbIntroRef:"PredSymbIntroRef",PropSymbIntroRef:"PropSymbIntroRef",ConstSymbIntroRef:"ConstSymbIntroRef",ReservedVarIntroRef:"ReservedVarIntroRef",
Sort:"Sort",SortRef:"SortRef",SortStar:"SortStar",InterpSymbolIntro:"InterpSymbolIntro",LeafInterpSymbolIntro:"LeafInterpSymbolIntro",ParentalInterpSymbolIntro:"ParentalInterpSymbolIntro",SortSymbIntro:"SortSymbIntro",PropSymbIntro:"PropSymbIntro",ConstSymbIntro:"ConstSymbIntro",ConstSymbIntroGroup:"ConstSymbIntroGroup",FnOrPredSymbIntro:"FnOrPredSymbIntro",FnSymbIntro:"FnSymbIntro",PredSymbIntro:"PredSymbIntro",ReservedVarIntro:"ReservedVarIntro",ReservedVarIntroGroup:"ReservedVarIntroGroup",EqualsApp:"EqualsApp",
FnApp:"FnApp",Iota:"Iota",PredApp:"PredApp",Quantifier:"Quantifier",Forall:"Forall",Exists:"Exists",ConnectiveApp:"ConnectiveApp",And:"And",Or:"Or",Not:"Not",Iff:"Iff",Implies:"Implies",AndImplies:"AndImplies",Cases:"Cases",FnType:"FnType",PredType:"PredType",FiniteFnRef:"FiniteFnRef",FiniteFnIntro:"FiniteFnIntro",FiniteFnApp:"FiniteFnApp"};c.oJ={defn:"defn",interp:"interp",prooftitle:"prooftitle",bndvar:"bndvar",body:"body",fnref:"fnref",predref:"predref",ltype:"ltype",title:"title",sort:"sort",
quantifier_type:"quantifier_type",axiomref:"axiomref",symbref:"symbref",proofof:"proofof",proof:"proof",audience:"audience",parenthesize:"parenthesize",subtype_of:"subtype_of",subjective_position:"subjective_position",user_role:"user_role"};var t=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h(b,a);return b}(b.Xa);t.nodetype_name="IFPDMockTop";t.abstract=!1;t.init_collapsed=!1;t.allowed_ch=["IFP","IFPDialogue",d.o.aa,d.o.Cb,d.o.Pl,d.o.Ne];t.default_str_prop_vals_when_empty=
f.h([e.SystPropNames.title,"title of this IFPD mockup"]);t.required_flatprops=f.h(["use_natural_language_syntax",1]);t.default_bool_prop_vals=f.h(["use_natural_language_syntax",!0]);c.pJ=t;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h(b,a);return b}(b.Aa);a.nodetype_name="IFP";a.inlining_class=r.Yp;a.abstract=!1;a.init_collapsed=!1;a.flatten_for_only_child=!0;a.reader_mode_expandable=!0;a.allowed_ch=[d.o.aa,"TheoremEtc","Axiom","ConstSymbIntroGroup","ReservedVarIntroGroup",
"ReservedVarIntro","SortSymbIntro","FnSymbIntro","PredSymbIntro","ConstSymbIntro","PropSymbIntro","Proof",d.o.Cb,"FiniteFnIntro",d.o.Ne];a.required_nch=f.h(["audience","IntendedAudience"],["proofof","TheoremEtcRef"]);c.mJ=a;var y=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h(b,a);return b}(b.Ic);y.nodetype_name="IFPDialogue";y.abstract=!1;y.human_readable_name="Mock Interpreted Formal Proof Dialogue";y.init_collapsed=!1;y.reader_mode_expandable=!0;y.allowed_ch=["ProTurn",
"CritTurn","IFP",d.o.aa,d.o.Cb,"SubjectivePosition","SemanticsCrit",d.o.$b];c.qJ=y;var A=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h(b,a);return b}(b.Aa);A.nodetype_name="SubjectivePosition";A.abstract=!1;A.init_collapsed=!0;A.inlining_class=r.Jq;A.reader_mode_expandable=!0;A.emphasize_view=!0;A.allowed_ch=[d.o.aa,d.o.$b,"Formula","IFPTerm","Axiom","InterpSymbolIntro"];A.required_nch=f.ja("axiomref","AxiomRef");A.allowed_flatprops=f.h([e.SystPropNames.text,7]);A.required_flatprops=
f.h(["subjective_position",5],["user_role",5]);A.default_str_prop_vals_when_empty=f.h([e.SystPropNames.text,"Why..."]);A.default_str_prop_vals_at_init=f.h(["subjective_position","Accept"],["user_role","Critic"]);A.possible_values=f.h(["subjective_position",[["Accepts","Accept"],["Implicitly accepts","ImplicitAccept"],["Partially rejects","PartiallyReject"],["Rejects","Reject"]]],["user_role",[["Proponent","Proponent"],["Critic","Critic"]]]);c.cK=A;var z=function(a){function b(){return null!==a&&a.apply(this,
arguments)||this}h(b,a);return b}(b.Aa);z.nodetype_name="IntendedAudience";z.abstract=!1;z.human_readable_name="Intended Audience";z.init_collapsed=!0;z.allowed_ch=[d.o.aa,d.o.$b,"Formula","IFPTerm"];z.allowed_nch={};z.required_flatprops=f.h([e.SystPropNames.text,7]);z.default_str_prop_vals_when_empty=f.h([e.SystPropNames.text,"Define the intended audience of this Interpreted Formal Proof."]);var C=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h(b,a);return b}(b.Aa);C.nodetype_name=
"SemanticsCrit";C.abstract=!1;C.init_collapsed=!1;C.reader_mode_expandable=!0;C.emphasize_view=!0;C.inlining_class=r.Fq;C.allowed_ch=[d.o.aa,d.o.$b,"Axiom","InterpSymbolIntro"];C.required_nch=f.h(["symbref","InterpSymbIntroRef"],["axiomref","AxiomRef"]);C.allowed_flatprops=f.h([e.SystPropNames.text,7]);C.default_str_prop_vals_when_empty=f.h([e.SystPropNames.text,"Why..."]);c.XJ=C;var B=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h(b,a);return b}(b.Aa);B.nodetype_name="FormalizationCrit";
B.abstract=!1;B.init_collapsed=!1;B.reader_mode_expandable=!0;B.emphasize_view=!0;B.inlining_class=r.ww;B.allowed_ch=[d.o.aa,d.o.$b,"Axiom","InterpSymbolIntro"];B.required_nch=f.h(["axiomref","AxiomRef"]);B.allowed_flatprops=f.h([e.SystPropNames.text,7]);B.default_str_prop_vals_when_empty=f.h([e.SystPropNames.text,"Why..."]);c.iJ=B;B=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h(b,a);return b}(b.Aa);B.nodetype_name="CritTurn";B.human_readable_name="Critic's Turn";B.abstract=
!1;B.init_collapsed=!1;B.flatten_for_only_child=!0;B.reader_mode_expandable=!0;B.allowed_nch={};B.allowed_ch=["SemanticsCrit","SubjectivePosition","Axiom","InterpSymbolIntro","TheoremEtc",d.o.aa,d.o.$b];c.TI=B;var E=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h(b,a);return b}(b.Aa);E.nodetype_name="ProTurn";E.human_readable_name="Proponent's Turn";E.abstract=!1;E.init_collapsed=!1;E.flatten_for_only_child=!0;E.reader_mode_expandable=!0;E.allowed_nch={};E.allowed_ch=["IFP",
d.o.aa,d.o.$b,"Axiom","InterpSymbolIntro","TheoremEtc","SubjectivePosition","SemanticsCrit"];c.HJ=E;var F=[u.Zl,u.xx,u.vw,u.ax,p.cq,p.ih,p.Iv,u.yq,k.ox,u.wx,k.uw,u.mj,u.sj,k.El,k.Uv,u.Aq,u.$l,p.Cp,p.$p,p.fj,p.vp,p.Nl,p.Vl,p.Yl,u.eh,u.rj,u.Kp,u.qq,u.Fl,u.kj,k.Qv,k.Ew,u.tx,p.im,p.xp,p.Lq,p.tq,p.uq,p.Cw,k.ux,k.Gx,a,y,t,A,C,z,B,E,k.pw,k.qw,k.nw],D=["InterpSymbolIntro","Formula","IFPTerm","Sort","FnOrPredSymbIntro"],G=[{from:"EqualsApp",to:"PredApp",ud:[],Gr:!0}];c.ensureInitialized=function(){c.lang||
(c.lang=new l.Me(e.sb.Ts,F,D,t),c.lang.Om(b.Ne,"Formula"),c.lang.Om(b.Ne,"IFPTerm"),c.lang.CA=G,c.lang.PE=f.h(["InterpSymbolIntro","FnSymbIntro PredSymbIntro ConstSymbIntro ConstSymbIntroGroup PropSymbIntro SortSymbIntro FiniteFnIntro ConstSymbIntroGroup".split(" ")],["ConnectiveApp","And Implies Or AndImplies Not Iff".split(" ")],["Formulas...","Quantifier EqualsApp PredApp Cases PredSymbIntroRef PropSymbIntroRef".split(" ")],["Terms...","FiniteFnApp FnApp ConstSymbIntroRef Iota FnSymbIntroRef FiniteFnRef".split(" ")],
["Types...","SortRef UnarySortOp SortStar FnType PredType SortSymbIntroRef".split(" ")],["Text, structure, etc...",[d.o.aa,d.o.ij,d.o.Cb,d.o.Pp,d.o.$b,d.o.lw,d.o.Ic,d.o.Pl,d.o.aq]],["Dialogues...","CritTurn ProTurn SemanticsCrit SubjectivePosition IFPDialogue IFPDMockTop IFP".split(" ")],["Proofs...","TheoremEtc Axiom IntendedAudience Proof AxiomRef TheoremEtcRef".split(" ")],["Vars...",["ReservedVarIntro","ReservedVarIntroGroup","ReservedVarIntroRef"]]),c.lang.Y.Hj(f.h(["IFPDialogue",x.sx],["SubjectivePosition",
r.Jq],["SemanticsCrit",r.Fq],["TheoremEtc",n.Mf],["Axiom",n.Mf],["Proof",n.tj],["ReservedVarIntro",v.zq],["InterpSymbolIntro",v.Lb],["FnSymbIntro",v.Lb],["PredSymbIntro",v.Lb],["ConstSymbIntro",v.Lb],["PropSymbIntro",v.Lb],["SortSymbIntroRef",g.ma],["ReservedVarIntroRef",g.ma],["FnSymbIntroRef",g.ma],["PredSymbIntroRef",g.ma],["ConstSymbIntroRef",g.ma],["PropSymbIntroRef",g.ma],["InterpSymbIntroRef",g.ma],["SortRef",g.ma],["FnType",v.Lp],["PredType",v.rq],["Quantifier",v.am],["PredApp",v.lj],["Implies",
n.Hc],["And",n.Hc],["Iff",n.Hc],["Or",n.Hc],["AndImplies",n.Bl],["Not",n.Wl],["FnApp",v.lj])),c.lang.Y.Yg=!0,c.lang.Y.df("Proof",[e.SystPropNames.ch]),c.lang.Y.df("CritTurn",[e.SystPropNames.ch,e.SystPropNames.nch]),c.lang.Y.df("ProTurn",[e.SystPropNames.ch,e.SystPropNames.nch]),c.lang.Y.df("IFP",[e.SystPropNames.ch]),c.lang.Y.df("IFPDialogue",[e.SystPropNames.ch,e.SystPropNames.nch]),c.lang.Y.df("IFPDMockTop",[e.SystPropNames.ch,e.SystPropNames.nch]),c.lang.Y.vz(f.h(["IFPTerm",m],["ConstSymbIntro",
m])),c.lang.qg())};structure_together.languageModules[e.sb.Ts]=this},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(18);var h=a(248),f=a(17),l=a(9),n=a(247),g=a(7);a=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a;switch(this.props.nU){case "Proponent":a=h.ib("Proponent ");break;case "Critic":a=h.ib("Critic ");break;default:a=h.Ib("!role missing! ")}var b;switch(this.props.SS){case "Accept":b=h.ib("accepts ",{style:{color:"green"}});break;case "ImplicitAccept":b=h.ib("implicitly accepts ",{style:{color:"green"}});break;case "Reject":b=h.ib("rejects ",{style:{color:"red"}});break;case "PartiallyReject":b=h.ib("partially rejects ",{style:{color:"yellow"}});
break;default:b=h.Ib("!position missing! ")}a=[a,b];this.props.nch&&this.props.nch.Lj&&a.push(h.l({key:"displaywithref"},n.J(this.B.stdocid,this.props.nch.Lj)));f.mf(l.SystPropNames.text,this.props._text,this.props.nodeid,a,". ");return h.l({key:"subcrit"},a)};return b}(k.L);c.Jq=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=[h.ib("Semantics criticism: ")];this.props.nch&&this.props.nch.symbref?a.push(h.l({key:"symb_displaywithref"},
n.J(this.B.stdocid,this.props.nch.WS))):(g.derr("props.nch.symbref missing"),a.push(h.Ib("???")));a.push(h.ib(" is too vague to evaluate "));this.props.nch&&this.props.nch.axiomref?a.push(h.l({key:"axiom_displaywithref"},n.J(this.B.stdocid,this.props.nch.Lj))):(g.derr("props.nch.axiomref missing"),a.push(h.Ib("???")));f.mf(l.SystPropNames.text,this.props._text,this.props.nodeid,a,". ");return h.l({key:"semcrit"},a)};return b}(k.L);c.Fq=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||
this}m(b,a);b.prototype.K=function(){var a=[h.ib("Translation criticism: ")];this.props.nch&&this.props.nch.Lj?a.push(h.l({key:"axiom_displaywithref"},n.J(this.B.stdocid,this.props.nch.Lj))):(g.derr("props.nch.axiomref missing"),a.push(h.Ib("???")));f.mf(l.SystPropNames.text,this.props._text,this.props.nodeid,a,". ");return h.l({key:"semcrit"},a)};return b}(k.L);c.ww=a;k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);b.prototype.K=function(){var a=[h.ib("Interpreted formal proof of ")];
this.props.nch&&this.props.nch.Co&&a.push(h.l({key:"displaywithref"},n.J(this.B.stdocid,this.props.nch.Co)));f.mf(l.SystPropNames.text,this.props._text,this.props.nodeid,a,". ");return h.l({key:"ifpinlining"},a)};return b}(k.L);c.Yp=k},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(c,f){function b(){this.constructor=c}a(c,
f);c.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b)}}();k=a(18);var h=a(7),f=a(248);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){var a=this,b=[],c=this.props._index;b.push(f.l({key:"move-left",className:"fa fa-chevron-left",onClick:function(b){h.dlog("pressed left...");"number"===typeof c&&(a.pb({name:"SeqIndexChange",nodeid:a.props.nodeid,value:c-1}),b.stopPropagation(),b.preventDefault())}},null));b.push(c);b.push(f.l({key:"move-right",
className:"fa fa-chevron-right",onClick:function(b){h.dlog("pressed right...");"number"===typeof c&&(a.pb({name:"SeqIndexChange",nodeid:a.props.nodeid,value:c+1}),b.stopPropagation(),b.preventDefault())}},null));this.props.hrlabel&&b.push(f.ib(this.props.hrlabel));this.props._showing_all?b.push(f.Ud({key:"show-one-button",className:"show-all-or-one-button",onClick:function(b){a.controller.Ta({name:"ChangeSeqDisplayMode",Vo:!1,nodeid:a.props.nodeid});b.stopPropagation();b.preventDefault()}},"one")):
b.push(f.Ud({key:"show-all-button",className:"show-all-or-one-button",onClick:function(b){a.controller.Ta({name:"ChangeSeqDisplayMode",Vo:!0,nodeid:a.props.nodeid});b.stopPropagation();b.preventDefault()}},"all"));return f.l({},b)};return c}(k.L);c.sx=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=
b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(6);var h=a(314),f=a(4),l=a(13),n=a(9);a=a(339);var g=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(k.Xa);g.nodetype_name="FGTop";g.abstract=!1;g.inliningvm_props=[n.SystPropNames.title];g.allowed_ch=["FGNode",l.o.aa,l.o.Cb];g.required_flatprops=f.h([n.SystPropNames.title,4]);g.init_collapsed=!1;c.fJ=g;var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||
this}m(b,a);return b}(k.ua);b.nodetype_name="FGNode";b.abstract=!1;b.inlining_class=a.mw;b.inliningvm_props="Description source SystemNo Name TechIdentNo Instrument".split(" ");b.reader_mode_expandable=!0;b.allowed_ch=["FGNode",l.o.aa,l.o.Cb];b.required_flatprops=f.h();b.allowed_flatprops=f.h(["source",5],["Description",3],["Location",3],["ID",3],["PnID_SAP",3],["FunctLocation",3],["Inferred FunctLocation",3],["SupFunctLoc",3],["Inferred SupFunctLoc",3],["ObjectType",3],["FunctLocCat",3],["Planner group",
3],["TechIdentNo",3],["WBS element",3],["Equipment",3],["EqNo",3],["Name",3],["Parent",3],["System",3],["Instrument",3],["PnID",3],["Details",3],["SystemNo",3],["SubsystemNo",3]);b.possible_values=f.h(["source",[["4ULF","4ULF"],["4ULF_equip","4ULF_equip"],["PnID","PnID"]]]);b.init_collapsed=!0;c.eJ=b;c.ensureInitialized=function(){c.lang||(c.lang=new h.Me(n.sb.ws,[g,b],[],g),c.lang.Tk=!0,c.lang.Y.Yg=!1,c.lang.Y.rc("FGTop",[n.SystPropNames.title]),c.lang.Y.rc("FGNode","Description source SystemNo Name TechIdentNo Instrument".split(" ")),
c.lang.qg())};structure_together.languageModules[n.sb.ws]=this},function(k,c,a){function m(a){switch(a){case "4ULF":return"fg-4ULF-label";case "PnID":return"fg-PnID-label";case "4ULF_equip":return"fg-4ULF_equip-label"}return null}var h=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===
b?Object.create(b):(d.prototype=b.prototype,new d)}}();k=a(18);var f=a(17),l=a(248);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}h(c,a);c.prototype.K=function(){var a=[],c=this.props;c.SystemNo&&a.push(l.l({key:"systemnum"},c.SystemNo.value+" "));"PnID"===c.source?(f.mf("TechIdentNo",c.TechIdentNo,this.props.nodeid,a),f.mf("Instrument",c.Instrument,this.props.nodeid,a,", ")):f.mf("Description",c.Description,this.props.nodeid,a);return l.l({key:this.props.nodeid+".inlining",
className:m(c.source)},a)};return c}(k.L);c.mw=a},function(k,c,a){var m=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();k=a(6);var h=a(314),f=a(13),l=a(9),n=a(341);a=a(4);var g=function(a){function b(){return null!==a&&a.apply(this,
arguments)||this}m(b,a);Object.defineProperty(b.prototype,"fp_fnapp_style",{get:function(){return this.ea.v("fp_fnapp_style")},enumerable:!0,configurable:!0});return b}(k.Xa);g.nodetype_name="RacketTop";g.abstract=!1;g.allowed_ch=["RacketFreeForm",f.o.aa,f.o.Cb];g.required_flatprops=a.h(["fp_fnapp_style",1]);g.default_bool_prop_vals=a.h(["fp_fnapp_style",!0]);g.init_collapsed=!1;c.OJ=g;var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}m(b,a);return b}(k.ua);b.nodetype_name=
"RacketFreeForm";b.abstract=!1;b.inlining_class=n.gx;b.required_flatprops=a.h([l.SystPropNames.text,7]);b.default_str_prop_vals_at_init=a.h([l.SystPropNames.text,""]);b.allowed_ch=[f.o.aa,"RacketFreeForm"];b.init_collapsed=!1;c.NJ=b;c.ensureInitialized=function(){c.lang||(c.lang=new h.Me(l.sb.xu,[b],[],g),c.lang.qo="RacketFreeForm",c.lang.Fr="global add sibling",c.lang.Y.Yg=!0,c.lang.qg())};structure_together.languageModules[l.sb.xu]=this},function(k,c,a){var m=this&&this.__extends||function(){var a=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=a(19);k=a(18);var f=a(248),l=a(4),n=a(319),g=a(16),b=a(247);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}m(c,a);c.prototype.K=function(){var a=this,c=this.props._text.value;if(l.F(c))return f.l(this.ca(),
"\u2026");switch(c){case "/":return h.createElement(n.Jl,this.props);case "+":return h.createElement(n.Al,this.props);case "-":return h.createElement(n.gm,this.props);case "*":return h.createElement(n.Tl,this.props)}if(0==c.length&&this.props.ch&&0<this.props.ch.length){c=!0;":="===this.props.ch[2]._text.value&&(c=!1);if(this.Wb.top.pN){var d=[];c&&d.push("(");this.props.ch&&this.props.ch.forEach(function(c,e){c&&(e<=a.props.ch.length-1&&d.push(" "),d.push(b.J(a.B.stdocid,c)))});c&&d.push(" )");return f.l(this.ca(),
d)}var e=[];e.push("(");this.props.ch&&this.props.ch.forEach(function(c,d){c&&(e.push(b.J(a.B.stdocid,c)),d<=a.props.ch.length-2&&e.push(", "))});e.push(")");return f.l(this.ca(),e)}return h.createElement(g.Kl,this.props)};return c}(k.L);c.gx=a},function(k,c,a){function m(a){x=a.top;a.X.ys(function(a){if(a instanceof n.sj||a instanceof n.mj||a instanceof n.El){var b=a.wc();l.dlog(b);if(b)switch(b){case "plus":u["+"]=a.c;break;case "max":u.max=a.c;break;case "divided by":u["/"]=a.c;break;case "minus":u["-"]=
a.c;break;case "exp":u["^"]=a.c;break;case "times":u["*"]=a.c;break;case "0":v["0"]=a.c;break;case "1":v["1"]=a.c;break;case "&lt;":r["&lt;"]=a.c;break;case "&gt;":r["&gt;"]=a.c;break;case "\u2264":r["<="]=a.c;break;case "\u2265":r[">="]=a.c}else l.dwarn("No _html_name field for this node: ",a)}});p=!0;window.aU=h;console.warn(u);console.warn(r);console.warn(v)}function h(a,b){if(!a)return null;var c=b.Ma.uf(x,a);c||(c=b.X.MB(function(b){return b.eb(g.SystPropNames.S)===a?{val:b,wb:!1}:null}));return c}
function f(a,b){function c(a){var f,k=!1;if(a.rD||"object"===typeof a.fn){var m=a.rD?a.AQ:a.fn.name,k=!0;switch(m){case "==":f=new n.kj(b);break;case "and":f=new e.fj(b);break;case "or":f=new e.Yl(b);break;case "not":f=new e.Vl(b);break;default:var p=void 0,t=void 0;u[m]?p=u[m]:r[m]?p=r[m]:(t=h(m,b))&&(t instanceof n.mj||t instanceof n.sj)&&(p=t.c);l.Ga("name: "+m);l.Ga("fn_or_pred_symbid: "+p);p&&(t||(t=b.G(p)),t instanceof n.mj?(f=new n.eh(b),f.te=new n.Kp(b),f.te.Wc=p):(d.dassert(t instanceof n.sj),
f=new n.rj(b),f.Lk=new n.qq(b),f.Lk.Wc=p))}}else if(a.LO){m=a.name;t=h(m,b);t||(1===m.length&&(t=h("x",b)),t||(t=h("1",b)));if(t instanceof n.El)f=new n.Fl(b);else if(t instanceof n.yq)f=new n.Aq(b);else return l.derr("Check this out"),null;f.Fc(g.SystPropNames.V,t.c)}else if(a.BO)f=new n.Fl(b),f.Fc(g.SystPropNames.V,v[a.value]);else{if(a.HO)return c(a.content);l.derr("MathJS MathNode class not yet handled:",a)}k&&f&&a.args.forEach(function(a){f.Oa(c(a))});return f}l.assert_nt(a,b);p||m(b);return c(a)}
var l=a(7),n=a(328),g=a(9),b=a(3),d=a(4),e=a(332),p=!1,u={"+":null,"*":null,"^":null,"/":null,"-":null},r={"<=":null,">=":null,"&gt;":null,"&lt;":null},v={0:null,1:null},x;c.RP=f;window.fT=function(a){return f(math.parse(a),b.STApp.the.Z)};structure_together.mathtextToSTNodeSubtree=function(a,b){a=math.parse(a);window.QP=a;return f(a,b)}}]);
